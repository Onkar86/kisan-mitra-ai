(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function Kf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zc={exports:{}},qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function WE(){if(Dg)return qo;Dg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,r,u){var f=null;if(u!==void 0&&(f=""+u),r.key!==void 0&&(f=""+r.key),"key"in r){u={};for(var m in r)m!=="key"&&(u[m]=r[m])}else u=r;return r=u.ref,{$$typeof:n,type:o,key:f,ref:r!==void 0?r:null,props:u}}return qo.Fragment=e,qo.jsx=i,qo.jsxs=i,qo}var Ug;function jE(){return Ug||(Ug=1,Zc.exports=WE()),Zc.exports}var E=jE(),Wc={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function eA(){if(Lg)return ye;Lg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function z(R,J,W){this.props=R,this.context=J,this.refs=I,this.updater=W||b}z.prototype.isReactComponent={},z.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function B(){}B.prototype=z.prototype;function H(R,J,W){this.props=R,this.context=J,this.refs=I,this.updater=W||b}var G=H.prototype=new B;G.constructor=H,N(G,z.prototype),G.isPureReactComponent=!0;var Z=Array.isArray;function O(){}var $={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function Q(R,J,W){var te=W.ref;return{$$typeof:n,type:R,key:J,ref:te!==void 0?te:null,props:W}}function se(R,J){return Q(R.type,J,R.props)}function oe(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function Ee(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return J[W]})}var Pe=/\/+/g;function me(R,J){return typeof R=="object"&&R!==null&&R.key!=null?Ee(""+R.key):J.toString(36)}function Ae(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(O,O):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function q(R,J,W,te,pe){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var Me=!1;if(R===null)Me=!0;else switch(de){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(R.$$typeof){case n:case e:Me=!0;break;case v:return Me=R._init,q(Me(R._payload),J,W,te,pe)}}if(Me)return pe=pe(R),Me=te===""?"."+me(R,0):te,Z(pe)?(W="",Me!=null&&(W=Me.replace(Pe,"$&/")+"/"),q(pe,J,W,"",function(Xt){return Xt})):pe!=null&&(oe(pe)&&(pe=se(pe,W+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(Pe,"$&/")+"/")+Me)),J.push(pe)),1;Me=0;var He=te===""?".":te+":";if(Z(R))for(var Je=0;Je<R.length;Je++)te=R[Je],de=He+me(te,Je),Me+=q(te,J,W,de,pe);else if(Je=C(R),typeof Je=="function")for(R=Je.call(R),Je=0;!(te=R.next()).done;)te=te.value,de=He+me(te,Je++),Me+=q(te,J,W,de,pe);else if(de==="object"){if(typeof R.then=="function")return q(Ae(R),J,W,te,pe);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Me}function K(R,J,W){if(R==null)return R;var te=[],pe=0;return q(R,te,"","",function(de){return J.call(W,de,pe++)}),te}function ee(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var _e=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Ce={map:K,forEach:function(R,J,W){K(R,function(){J.apply(this,arguments)},W)},count:function(R){var J=0;return K(R,function(){J++}),J},toArray:function(R){return K(R,function(J){return J})||[]},only:function(R){if(!oe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=_,ye.Children=Ce,ye.Component=z,ye.Fragment=i,ye.Profiler=r,ye.PureComponent=H,ye.StrictMode=o,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return $.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,J,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=N({},R.props),pe=R.key;if(J!=null)for(de in J.key!==void 0&&(pe=""+J.key),J)!ce.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(te[de]=J[de]);var de=arguments.length-2;if(de===1)te.children=W;else if(1<de){for(var Me=Array(de),He=0;He<de;He++)Me[He]=arguments[He+2];te.children=Me}return Q(R.type,pe,te)},ye.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ye.createElement=function(R,J,W){var te,pe={},de=null;if(J!=null)for(te in J.key!==void 0&&(de=""+J.key),J)ce.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=J[te]);var Me=arguments.length-2;if(Me===1)pe.children=W;else if(1<Me){for(var He=Array(Me),Je=0;Je<Me;Je++)He[Je]=arguments[Je+2];pe.children=He}if(R&&R.defaultProps)for(te in Me=R.defaultProps,Me)pe[te]===void 0&&(pe[te]=Me[te]);return Q(R,de,pe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:m,render:R}},ye.isValidElement=oe,ye.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ee}},ye.memo=function(R,J){return{$$typeof:p,type:R,compare:J===void 0?null:J}},ye.startTransition=function(R){var J=$.T,W={};$.T=W;try{var te=R(),pe=$.S;pe!==null&&pe(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(O,_e)}catch(de){_e(de)}finally{J!==null&&W.types!==null&&(J.types=W.types),$.T=J}},ye.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ye.use=function(R){return $.H.use(R)},ye.useActionState=function(R,J,W){return $.H.useActionState(R,J,W)},ye.useCallback=function(R,J){return $.H.useCallback(R,J)},ye.useContext=function(R){return $.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,J){return $.H.useDeferredValue(R,J)},ye.useEffect=function(R,J){return $.H.useEffect(R,J)},ye.useEffectEvent=function(R){return $.H.useEffectEvent(R)},ye.useId=function(){return $.H.useId()},ye.useImperativeHandle=function(R,J,W){return $.H.useImperativeHandle(R,J,W)},ye.useInsertionEffect=function(R,J){return $.H.useInsertionEffect(R,J)},ye.useLayoutEffect=function(R,J){return $.H.useLayoutEffect(R,J)},ye.useMemo=function(R,J){return $.H.useMemo(R,J)},ye.useOptimistic=function(R,J){return $.H.useOptimistic(R,J)},ye.useReducer=function(R,J,W){return $.H.useReducer(R,J,W)},ye.useRef=function(R){return $.H.useRef(R)},ye.useState=function(R){return $.H.useState(R)},ye.useSyncExternalStore=function(R,J,W){return $.H.useSyncExternalStore(R,J,W)},ye.useTransition=function(){return $.H.useTransition()},ye.version="19.2.4",ye}var kg;function Qf(){return kg||(kg=1,Wc.exports=eA()),Wc.exports}var Ie=Qf();const tA=Kf(Ie);var jc={exports:{}},Bo={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function nA(){return Pg||(Pg=1,(function(n){function e(q,K){var ee=q.length;q.push(K);e:for(;0<ee;){var _e=ee-1>>>1,Ce=q[_e];if(0<r(Ce,K))q[_e]=K,q[ee]=Ce,ee=_e;else break e}}function i(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var K=q[0],ee=q.pop();if(ee!==K){q[0]=ee;e:for(var _e=0,Ce=q.length,R=Ce>>>1;_e<R;){var J=2*(_e+1)-1,W=q[J],te=J+1,pe=q[te];if(0>r(W,ee))te<Ce&&0>r(pe,W)?(q[_e]=pe,q[te]=ee,_e=te):(q[_e]=W,q[J]=ee,_e=J);else if(te<Ce&&0>r(pe,ee))q[_e]=pe,q[te]=ee,_e=te;else break e}}return K}function r(q,K){var ee=q.sortIndex-K.sortIndex;return ee!==0?ee:q.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var y=[],p=[],v=1,_=null,T=3,C=!1,b=!1,N=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var K=i(p);K!==null;){if(K.callback===null)o(p);else if(K.startTime<=q)o(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=i(p)}}function Z(q){if(N=!1,G(q),!b)if(i(y)!==null)b=!0,O||(O=!0,Ee());else{var K=i(p);K!==null&&Ae(Z,K.startTime-q)}}var O=!1,$=-1,ce=5,Q=-1;function se(){return I?!0:!(n.unstable_now()-Q<ce)}function oe(){if(I=!1,O){var q=n.unstable_now();Q=q;var K=!0;try{e:{b=!1,N&&(N=!1,B($),$=-1),C=!0;var ee=T;try{t:{for(G(q),_=i(y);_!==null&&!(_.expirationTime>q&&se());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,T=_.priorityLevel;var Ce=_e(_.expirationTime<=q);if(q=n.unstable_now(),typeof Ce=="function"){_.callback=Ce,G(q),K=!0;break t}_===i(y)&&o(y),G(q)}else o(y);_=i(y)}if(_!==null)K=!0;else{var R=i(p);R!==null&&Ae(Z,R.startTime-q),K=!1}}break e}finally{_=null,T=ee,C=!1}K=void 0}}finally{K?Ee():O=!1}}}var Ee;if(typeof H=="function")Ee=function(){H(oe)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,me=Pe.port2;Pe.port1.onmessage=oe,Ee=function(){me.postMessage(null)}}else Ee=function(){z(oe,0)};function Ae(q,K){$=z(function(){q(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(q){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var ee=T;T=K;try{return q()}finally{T=ee}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=T;T=q;try{return K()}finally{T=ee}},n.unstable_scheduleCallback=function(q,K,ee){var _e=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_e+ee:_e):ee=_e,q){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ee+Ce,q={id:v++,callback:K,priorityLevel:q,startTime:ee,expirationTime:Ce,sortIndex:-1},ee>_e?(q.sortIndex=ee,e(p,q),i(y)===null&&q===i(p)&&(N?(B($),$=-1):N=!0,Ae(Z,ee-_e))):(q.sortIndex=Ce,e(y,q),b||C||(b=!0,O||(O=!0,Ee()))),q},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(q){var K=T;return function(){var ee=T;T=K;try{return q.apply(this,arguments)}finally{T=ee}}}})(tf)),tf}var Og;function iA(){return Og||(Og=1,ef.exports=nA()),ef.exports}var nf={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function sA(){if(Gg)return Tt;Gg=1;var n=Qf();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(y,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:p,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Tt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,v)},Tt.flushSync=function(y){var p=f.T,v=o.p;try{if(f.T=null,o.p=2,y)return y()}finally{f.T=p,o.p=v,o.d.f()}},Tt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},Tt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},Tt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):v==="script"&&o.d.X(y,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},Tt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin);o.d.L(y,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=m(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},Tt.requestFormReset=function(y){o.d.r(y)},Tt.unstable_batchedUpdates=function(y,p){return y(p)},Tt.useFormState=function(y,p,v){return f.H.useFormState(y,p,v)},Tt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tt.version="19.2.4",Tt}var Hg;function oA(){if(Hg)return nf.exports;Hg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nf.exports=sA(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function lA(){if(qg)return Bo;qg=1;var n=iA(),e=Qf(),i=oA();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(o(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(o(188));return s!==t?null:t}for(var l=t,a=s;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(a=h.return,a!==null){l=a;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return y(h),t;if(g===a)return y(h),s;g=g.sibling}throw Error(o(188))}if(l.return!==a.return)l=h,a=g;else{for(var S=!1,A=h.child;A;){if(A===l){S=!0,l=h,a=g;break}if(A===a){S=!0,a=h,l=g;break}A=A.sibling}if(!S){for(A=g.child;A;){if(A===l){S=!0,l=g,a=h;break}if(A===a){S=!0,a=g,l=h;break}A=A.sibling}if(!S)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Pe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case O:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case H:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case G:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:me(t.type)||"Memo";case ce:s=t._payload,t=t._init;try{return me(t(s))}catch{}}return null}var Ae=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},_e=[],Ce=-1;function R(t){return{current:t}}function J(t){0>Ce||(t.current=_e[Ce],_e[Ce]=null,Ce--)}function W(t,s){Ce++,_e[Ce]=t.current,t.current=s}var te=R(null),pe=R(null),de=R(null),Me=R(null);function He(t,s){switch(W(de,s),W(pe,t),W(te,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?tg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=tg(s),t=ng(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(te),W(te,t)}function Je(){J(te),J(pe),J(de)}function Xt(t){t.memoizedState!==null&&W(Me,t);var s=te.current,l=ng(s,t.type);s!==l&&(W(pe,t),W(te,l))}function hl(t){pe.current===t&&(J(te),J(pe)),Me.current===t&&(J(Me),Po._currentValue=ee)}var Ua,Md;function Ti(t){if(Ua===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ua=s&&s[1]||"",Md=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+Md}var La=!1;function ka(t,s){if(!t||La)return"";La=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var k=P}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(P){k=P}t.call(Y.prototype)}}else{try{throw Error()}catch(P){k=P}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),S=g[0],A=g[1];if(S&&A){var x=S.split(`
`),U=A.split(`
`);for(h=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(a===x.length||h===U.length)for(a=x.length-1,h=U.length-1;1<=a&&0<=h&&x[a]!==U[h];)h--;for(;1<=a&&0<=h;a--,h--)if(x[a]!==U[h]){if(a!==1||h!==1)do if(a--,h--,0>h||x[a]!==U[h]){var V=`
`+x[a].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=a&&0<=h);break}}}finally{La=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Ti(l):""}function NS(t,s){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return t.child!==s&&s!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return ka(t.type,!1);case 11:return ka(t.type.render,!1);case 1:return ka(t.type,!0);case 31:return Ti("Activity");default:return""}}function Dd(t){try{var s="",l=null;do s+=NS(t,l),l=t,t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pa=Object.prototype.hasOwnProperty,Oa=n.unstable_scheduleCallback,Ga=n.unstable_cancelCallback,IS=n.unstable_shouldYield,MS=n.unstable_requestPaint,Ut=n.unstable_now,DS=n.unstable_getCurrentPriorityLevel,Ud=n.unstable_ImmediatePriority,Ld=n.unstable_UserBlockingPriority,ml=n.unstable_NormalPriority,US=n.unstable_LowPriority,kd=n.unstable_IdlePriority,LS=n.log,kS=n.unstable_setDisableYieldValue,Ys=null,Lt=null;function Yn(t){if(typeof LS=="function"&&kS(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Ys,t)}catch{}}var kt=Math.clz32?Math.clz32:GS,PS=Math.log,OS=Math.LN2;function GS(t){return t>>>=0,t===0?32:31-(PS(t)/OS|0)|0}var pl=256,gl=262144,yl=4194304;function Ei(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vl(t,s,l){var a=t.pendingLanes;if(a===0)return 0;var h=0,g=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var A=a&134217727;return A!==0?(a=A&~g,a!==0?h=Ei(a):(S&=A,S!==0?h=Ei(S):l||(l=A&~t,l!==0&&(h=Ei(l))))):(A=a&~g,A!==0?h=Ei(A):S!==0?h=Ei(S):l||(l=a&~t,l!==0&&(h=Ei(l)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:h}function Xs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function HS(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var t=yl;return yl<<=1,(yl&62914560)===0&&(yl=4194304),t}function Ha(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function Ks(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qS(t,s,l,a,h,g){var S=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,U=t.hiddenUpdates;for(l=S&~l;0<l;){var V=31-kt(l),Y=1<<V;A[V]=0,x[V]=-1;var k=U[V];if(k!==null)for(U[V]=null,V=0;V<k.length;V++){var P=k[V];P!==null&&(P.lane&=-536870913)}l&=~Y}a!==0&&Od(t,a,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(S&~s))}function Od(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var a=31-kt(s);t.entangledLanes|=s,t.entanglements[a]=t.entanglements[a]|1073741824|l&261930}function Gd(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var a=31-kt(l),h=1<<a;h&s|t[a]&s&&(t[a]|=s),l&=~h}}function Hd(t,s){var l=s&-s;return l=(l&42)!==0?1:qa(l),(l&(t.suspendedLanes|s))!==0?0:l}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qd(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function Bd(t,s){var l=K.p;try{return K.p=t,s()}finally{K.p=l}}var Xn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Xn,xt="__reactProps$"+Xn,Ji="__reactContainer$"+Xn,Va="__reactEvents$"+Xn,BS="__reactListeners$"+Xn,VS="__reactHandles$"+Xn,Vd="__reactResources$"+Xn,Qs="__reactMarker$"+Xn;function za(t){delete t[ht],delete t[xt],delete t[Va],delete t[BS],delete t[VS]}function Yi(t){var s=t[ht];if(s)return s;for(var l=t.parentNode;l;){if(s=l[Ji]||l[ht]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=ug(t);t!==null;){if(l=t[ht])return l;t=ug(t)}return s}t=l,l=t.parentNode}return null}function Xi(t){if(t=t[ht]||t[Ji]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Zs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function Ki(t){var s=t[Vd];return s||(s=t[Vd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function at(t){t[Qs]=!0}var zd=new Set,Fd={};function Ai(t,s){Qi(t,s),Qi(t+"Capture",s)}function Qi(t,s){for(Fd[t]=s,t=0;t<s.length;t++)zd.add(s[t])}var zS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$d={},Jd={};function FS(t){return Pa.call(Jd,t)?!0:Pa.call($d,t)?!1:zS.test(t)?Jd[t]=!0:($d[t]=!0,!1)}function _l(t,s,l){if(FS(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var a=s.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function Sl(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function Cn(t,s,l,a){if(a===null)t.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+a)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $S(t,s,l){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Fa(t){if(!t._valueTracker){var s=Yd(t)?"checked":"value";t._valueTracker=$S(t,s,""+t[s])}}function Xd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),a="";return t&&(a=Yd(t)?t.checked?"true":"false":t.value),t=a,t!==l?(s.setValue(t),!0):!1}function Tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var JS=/[\n"\\]/g;function Qt(t){return t.replace(JS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $a(t,s,l,a,h,g,S,A){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Kt(s)):t.value!==""+Kt(s)&&(t.value=""+Kt(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?Ja(t,S,Kt(s)):l!=null?Ja(t,S,Kt(l)):a!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Kt(A):t.removeAttribute("name")}function Kd(t,s,l,a,h,g,S,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Fa(t);return}l=l!=null?""+Kt(l):"",s=s!=null?""+Kt(s):l,A||s===t.value||(t.value=s),t.defaultValue=s}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=A?t.checked:!!a,t.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Fa(t)}function Ja(t,s,l){s==="number"&&Tl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Zi(t,s,l,a){if(t=t.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=s.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&a&&(t[l].defaultSelected=!0)}else{for(l=""+Kt(l),s=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Qd(t,s,l){if(s!=null&&(s=""+Kt(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+Kt(l):""}function Zd(t,s,l,a){if(s==null){if(a!=null){if(l!=null)throw Error(o(92));if(Ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),s=l}l=Kt(s),t.defaultValue=l,a=t.textContent,a===l&&a!==""&&a!==null&&(t.value=a),Fa(t)}function Wi(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var YS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(t,s,l){var a=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":a?t.setProperty(s,l):typeof l!="number"||l===0||YS.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function jd(t,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||s!=null&&s.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in s)a=s[h],s.hasOwnProperty(h)&&l[h]!==a&&Wd(t,h,a)}else for(var g in s)s.hasOwnProperty(g)&&Wd(t,g,s[g])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(t){return KS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var Xa=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,es=null;function eh(t){var s=Xi(t);if(s&&(t=s.stateNode)){var l=t[xt]||null;e:switch(t=s.stateNode,s.type){case"input":if($a(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var a=l[s];if(a!==t&&a.form===t.form){var h=a[xt]||null;if(!h)throw Error(o(90));$a(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)a=l[s],a.form===t.form&&Xd(a)}break e;case"textarea":Qd(t,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Zi(t,!!l.multiple,s,!1)}}}var Qa=!1;function th(t,s,l){if(Qa)return t(s,l);Qa=!0;try{var a=t(s);return a}finally{if(Qa=!1,(ji!==null||es!==null)&&(ur(),ji&&(s=ji,t=es,es=ji=null,eh(s),t)))for(s=0;s<t.length;s++)eh(t[s])}}function Ws(t,s){var l=t.stateNode;if(l===null)return null;var a=l[xt]||null;if(a===null)return null;l=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(bn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Za=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Za=!1}var Kn=null,Wa=null,Al=null;function nh(){if(Al)return Al;var t,s=Wa,l=s.length,a,h="value"in Kn?Kn.value:Kn.textContent,g=h.length;for(t=0;t<l&&s[t]===h[t];t++);var S=l-t;for(a=1;a<=S&&s[l-a]===h[g-a];a++);return Al=h.slice(t,1<a?1-a:void 0)}function Cl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function ih(){return!1}function bt(t){function s(l,a,h,g,S){this._reactName=l,this._targetInst=h,this.type=a,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(l=t[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xl:ih,this.isPropagationStopped=ih,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),s}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=bt(Ci),eo=_({},Ci,{view:0,detail:0}),QS=bt(eo),ja,eu,to,wl=_({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(ja=t.screenX-to.screenX,eu=t.screenY-to.screenY):eu=ja=0,to=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),sh=bt(wl),ZS=_({},wl,{dataTransfer:0}),WS=bt(ZS),jS=_({},eo,{relatedTarget:0}),tu=bt(jS),eT=_({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),tT=bt(eT),nT=_({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iT=bt(nT),sT=_({},Ci,{data:0}),oh=bt(sT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=rT[t])?!!s[t]:!1}function nu(){return aT}var uT=_({},eo,{key:function(t){if(t.key){var s=oT[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cT=bt(uT),fT=_({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=bt(fT),dT=_({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),hT=bt(dT),mT=_({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),pT=bt(mT),gT=_({},wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yT=bt(gT),vT=_({},Ci,{newState:0,oldState:0}),_T=bt(vT),ST=[9,13,27,32],iu=bn&&"CompositionEvent"in window,no=null;bn&&"documentMode"in document&&(no=document.documentMode);var TT=bn&&"TextEvent"in window&&!no,rh=bn&&(!iu||no&&8<no&&11>=no),ah=" ",uh=!1;function ch(t,s){switch(t){case"keyup":return ST.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function ET(t,s){switch(t){case"compositionend":return fh(s);case"keypress":return s.which!==32?null:(uh=!0,ah);case"textInput":return t=s.data,t===ah&&uh?null:t;default:return null}}function AT(t,s){if(ts)return t==="compositionend"||!iu&&ch(t,s)?(t=nh(),Al=Wa=Kn=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rh&&s.locale!=="ko"?null:s.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!CT[t.type]:s==="textarea"}function hh(t,s,l,a){ji?es?es.push(a):es=[a]:ji=a,s=gr(s,"onChange"),0<s.length&&(l=new bl("onChange","change",null,l,a),t.push({event:l,listeners:s}))}var io=null,so=null;function xT(t){Kp(t,0)}function Rl(t){var s=Zs(t);if(Xd(s))return t}function mh(t,s){if(t==="change")return s}var ph=!1;if(bn){var su;if(bn){var ou="oninput"in document;if(!ou){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),ou=typeof gh.oninput=="function"}su=ou}else su=!1;ph=su&&(!document.documentMode||9<document.documentMode)}function yh(){io&&(io.detachEvent("onpropertychange",vh),so=io=null)}function vh(t){if(t.propertyName==="value"&&Rl(so)){var s=[];hh(s,so,t,Ka(t)),th(xT,s)}}function bT(t,s,l){t==="focusin"?(yh(),io=s,so=l,io.attachEvent("onpropertychange",vh)):t==="focusout"&&yh()}function wT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rl(so)}function RT(t,s){if(t==="click")return Rl(s)}function NT(t,s){if(t==="input"||t==="change")return Rl(s)}function IT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Pt=typeof Object.is=="function"?Object.is:IT;function oo(t,s){if(Pt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),a=Object.keys(s);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var h=l[a];if(!Pa.call(s,h)||!Pt(t[h],s[h]))return!1}return!0}function _h(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sh(t,s){var l=_h(t);t=0;for(var a;l;){if(l.nodeType===3){if(a=t+l.textContent.length,t<=s&&a>=s)return{node:l,offset:s-t};t=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_h(l)}}function Th(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Th(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Eh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Tl(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=Tl(t.document)}return s}function lu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var MT=bn&&"documentMode"in document&&11>=document.documentMode,ns=null,ru=null,lo=null,au=!1;function Ah(t,s,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;au||ns==null||ns!==Tl(a)||(a=ns,"selectionStart"in a&&lu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),lo&&oo(lo,a)||(lo=a,a=gr(ru,"onSelect"),0<a.length&&(s=new bl("onSelect","select",null,s,l),t.push({event:s,listeners:a}),s.target=ns)))}function xi(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var is={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},uu={},Ch={};bn&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function bi(t){if(uu[t])return uu[t];if(!is[t])return t;var s=is[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ch)return uu[t]=s[l];return t}var xh=bi("animationend"),bh=bi("animationiteration"),wh=bi("animationstart"),DT=bi("transitionrun"),UT=bi("transitionstart"),LT=bi("transitioncancel"),Rh=bi("transitionend"),Nh=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function un(t,s){Nh.set(t,s),Ai(s,[t])}var Nl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zt=[],ss=0,fu=0;function Il(){for(var t=ss,s=fu=ss=0;s<t;){var l=Zt[s];Zt[s++]=null;var a=Zt[s];Zt[s++]=null;var h=Zt[s];Zt[s++]=null;var g=Zt[s];if(Zt[s++]=null,a!==null&&h!==null){var S=a.pending;S===null?h.next=h:(h.next=S.next,S.next=h),a.pending=h}g!==0&&Ih(l,h,g)}}function Ml(t,s,l,a){Zt[ss++]=t,Zt[ss++]=s,Zt[ss++]=l,Zt[ss++]=a,fu|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function du(t,s,l,a){return Ml(t,s,l,a),Dl(t)}function wi(t,s){return Ml(t,null,null,s),Dl(t)}function Ih(t,s,l){t.lanes|=l;var a=t.alternate;a!==null&&(a.lanes|=l);for(var h=!1,g=t.return;g!==null;)g.childLanes|=l,a=g.alternate,a!==null&&(a.childLanes|=l),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&s!==null&&(h=31-kt(l),t=g.hiddenUpdates,a=t[h],a===null?t[h]=[s]:a.push(s),s.lane=l|536870912),g):null}function Dl(t){if(50<No)throw No=0,Tc=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var os={};function kT(t,s,l,a){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,s,l,a){return new kT(t,s,l,a)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wn(t,s){var l=t.alternate;return l===null?(l=Ot(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Mh(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ul(t,s,l,a,h,g){var S=0;if(a=t,typeof t=="function")hu(t)&&(S=1);else if(typeof t=="string")S=qE(t,l,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=Ot(31,l,s,h),t.elementType=Q,t.lanes=g,t;case N:return Ri(l.children,h,g,s);case I:S=8,h|=24;break;case z:return t=Ot(12,l,s,h|2),t.elementType=z,t.lanes=g,t;case Z:return t=Ot(13,l,s,h),t.elementType=Z,t.lanes=g,t;case O:return t=Ot(19,l,s,h),t.elementType=O,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:S=10;break e;case B:S=9;break e;case G:S=11;break e;case $:S=14;break e;case ce:S=16,a=null;break e}S=29,l=Error(o(130,t===null?"null":typeof t,"")),a=null}return s=Ot(S,l,s,h),s.elementType=t,s.type=a,s.lanes=g,s}function Ri(t,s,l,a){return t=Ot(7,t,a,s),t.lanes=l,t}function mu(t,s,l){return t=Ot(6,t,null,s),t.lanes=l,t}function Dh(t){var s=Ot(18,null,null,0);return s.stateNode=t,s}function pu(t,s,l){return s=Ot(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Uh=new WeakMap;function Wt(t,s){if(typeof t=="object"&&t!==null){var l=Uh.get(t);return l!==void 0?l:(s={value:t,source:s,stack:Dd(s)},Uh.set(t,s),s)}return{value:t,source:s,stack:Dd(s)}}var ls=[],rs=0,Ll=null,ro=0,jt=[],en=0,Qn=null,gn=1,yn="";function Rn(t,s){ls[rs++]=ro,ls[rs++]=Ll,Ll=t,ro=s}function Lh(t,s,l){jt[en++]=gn,jt[en++]=yn,jt[en++]=Qn,Qn=t;var a=gn;t=yn;var h=32-kt(a)-1;a&=~(1<<h),l+=1;var g=32-kt(s)+h;if(30<g){var S=h-h%5;g=(a&(1<<S)-1).toString(32),a>>=S,h-=S,gn=1<<32-kt(s)+h|l<<h|a,yn=g+t}else gn=1<<g|l<<h|a,yn=t}function gu(t){t.return!==null&&(Rn(t,1),Lh(t,1,0))}function yu(t){for(;t===Ll;)Ll=ls[--rs],ls[rs]=null,ro=ls[--rs],ls[rs]=null;for(;t===Qn;)Qn=jt[--en],jt[en]=null,yn=jt[--en],jt[en]=null,gn=jt[--en],jt[en]=null}function kh(t,s){jt[en++]=gn,jt[en++]=yn,jt[en++]=Qn,gn=s.id,yn=s.overflow,Qn=t}var mt=null,Fe=null,Ne=!1,Zn=null,tn=!1,vu=Error(o(519));function Wn(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(Wt(s,t)),vu}function Ph(t){var s=t.stateNode,l=t.type,a=t.memoizedProps;switch(s[ht]=t,s[xt]=a,l){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(l=0;l<Mo.length;l++)be(Mo[l],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":be("invalid",s),Kd(s,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":be("invalid",s);break;case"textarea":be("invalid",s),Zd(s,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||a.suppressHydrationWarning===!0||jp(s.textContent,l)?(a.popover!=null&&(be("beforetoggle",s),be("toggle",s)),a.onScroll!=null&&be("scroll",s),a.onScrollEnd!=null&&be("scrollend",s),a.onClick!=null&&(s.onclick=xn),s=!0):s=!1,s||Wn(t,!0)}function Oh(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:mt=mt.return}}function as(t){if(t!==mt)return!1;if(!Ne)return Oh(t),Ne=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Pc(t.type,t.memoizedProps)),l=!l),l&&Fe&&Wn(t),Oh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=ag(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=ag(t)}else s===27?(s=Fe,di(t.type)?(t=Bc,Bc=null,Fe=t):Fe=s):Fe=mt?sn(t.stateNode.nextSibling):null;return!0}function Ni(){Fe=mt=null,Ne=!1}function _u(){var t=Zn;return t!==null&&(It===null?It=t:It.push.apply(It,t),Zn=null),t}function ao(t){Zn===null?Zn=[t]:Zn.push(t)}var Su=R(null),Ii=null,Nn=null;function jn(t,s,l){W(Su,s._currentValue),s._currentValue=l}function In(t){t._currentValue=Su.current,J(Su)}function Tu(t,s,l){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===l)break;t=t.return}}function Eu(t,s,l,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var x=0;x<s.length;x++)if(A.context===s[x]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Tu(g.return,l,t),a||(S=null);break e}g=A.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(o(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),Tu(S,l,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function us(t,s,l,a){t=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var A=h.type;Pt(h.pendingProps.value,S.value)||(t!==null?t.push(A):t=[A])}}else if(h===Me.current){if(S=h.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}h=h.return}t!==null&&Eu(s,t,l,a),s.flags|=262144}function kl(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){Ii=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return Gh(Ii,t)}function Pl(t,s){return Ii===null&&Mi(t),Gh(t,s)}function Gh(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Nn===null){if(t===null)throw Error(o(308));Nn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Nn=Nn.next=s;return l}var PT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,a){t.push(a)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},OT=n.unstable_scheduleCallback,GT=n.unstable_NormalPriority,tt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new PT,data:new Map,refCount:0}}function uo(t){t.refCount--,t.refCount===0&&OT(GT,function(){t.controller.abort()})}var co=null,Cu=0,cs=0,fs=null;function HT(t,s){if(co===null){var l=co=[];Cu=0,cs=wc(),fs={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Cu++,s.then(Hh,Hh),s}function Hh(){if(--Cu===0&&co!==null){fs!==null&&(fs.status="fulfilled");var t=co;co=null,cs=0,fs=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function qT(t,s){var l=[],a={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){a.status="fulfilled",a.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(a.status="rejected",a.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),a}var qh=q.S;q.S=function(t,s){Ap=Ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HT(t,s),qh!==null&&qh(t,s)};var Di=R(null);function xu(){var t=Di.current;return t!==null?t:ze.pooledCache}function Ol(t,s){s===null?W(Di,Di.current):W(Di,s.pool)}function Bh(){var t=xu();return t===null?null:{parent:tt._currentValue,pool:t}}var ds=Error(o(460)),bu=Error(o(474)),Gl=Error(o(542)),Hl={then:function(){}};function Vh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zh(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(xn,xn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,$h(t),t;default:if(typeof s.status=="string")s.then(xn,xn);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(a){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=a}},function(a){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=a}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,$h(t),t}throw Li=s,ds}}function Ui(t){try{var s=t._init;return s(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Li=l,ds):l}}var Li=null;function Fh(){if(Li===null)throw Error(o(459));var t=Li;return Li=null,t}function $h(t){if(t===ds||t===Gl)throw Error(o(483))}var hs=null,fo=0;function ql(t){var s=fo;return fo+=1,hs===null&&(hs=[]),zh(hs,t,s)}function ho(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Bl(t,s){throw s.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Jh(t){function s(M,w){if(t){var D=M.deletions;D===null?(M.deletions=[w],M.flags|=16):D.push(w)}}function l(M,w){if(!t)return null;for(;w!==null;)s(M,w),w=w.sibling;return null}function a(M){for(var w=new Map;M!==null;)M.key!==null?w.set(M.key,M):w.set(M.index,M),M=M.sibling;return w}function h(M,w){return M=wn(M,w),M.index=0,M.sibling=null,M}function g(M,w,D){return M.index=D,t?(D=M.alternate,D!==null?(D=D.index,D<w?(M.flags|=67108866,w):D):(M.flags|=67108866,w)):(M.flags|=1048576,w)}function S(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function A(M,w,D,F){return w===null||w.tag!==6?(w=mu(D,M.mode,F),w.return=M,w):(w=h(w,D),w.return=M,w)}function x(M,w,D,F){var ae=D.type;return ae===N?V(M,w,D.props.children,F,D.key):w!==null&&(w.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ce&&Ui(ae)===w.type)?(w=h(w,D.props),ho(w,D),w.return=M,w):(w=Ul(D.type,D.key,D.props,null,M.mode,F),ho(w,D),w.return=M,w)}function U(M,w,D,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==D.containerInfo||w.stateNode.implementation!==D.implementation?(w=pu(D,M.mode,F),w.return=M,w):(w=h(w,D.children||[]),w.return=M,w)}function V(M,w,D,F,ae){return w===null||w.tag!==7?(w=Ri(D,M.mode,F,ae),w.return=M,w):(w=h(w,D),w.return=M,w)}function Y(M,w,D){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=mu(""+w,M.mode,D),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return D=Ul(w.type,w.key,w.props,null,M.mode,D),ho(D,w),D.return=M,D;case b:return w=pu(w,M.mode,D),w.return=M,w;case ce:return w=Ui(w),Y(M,w,D)}if(Ae(w)||Ee(w))return w=Ri(w,M.mode,D,null),w.return=M,w;if(typeof w.then=="function")return Y(M,ql(w),D);if(w.$$typeof===H)return Y(M,Pl(M,w),D);Bl(M,w)}return null}function k(M,w,D,F){var ae=w!==null?w.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ae!==null?null:A(M,w,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return D.key===ae?x(M,w,D,F):null;case b:return D.key===ae?U(M,w,D,F):null;case ce:return D=Ui(D),k(M,w,D,F)}if(Ae(D)||Ee(D))return ae!==null?null:V(M,w,D,F,null);if(typeof D.then=="function")return k(M,w,ql(D),F);if(D.$$typeof===H)return k(M,w,Pl(M,D),F);Bl(M,D)}return null}function P(M,w,D,F,ae){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(D)||null,A(w,M,""+F,ae);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return M=M.get(F.key===null?D:F.key)||null,x(w,M,F,ae);case b:return M=M.get(F.key===null?D:F.key)||null,U(w,M,F,ae);case ce:return F=Ui(F),P(M,w,D,F,ae)}if(Ae(F)||Ee(F))return M=M.get(D)||null,V(w,M,F,ae,null);if(typeof F.then=="function")return P(M,w,D,ql(F),ae);if(F.$$typeof===H)return P(M,w,D,Pl(w,F),ae);Bl(w,F)}return null}function ie(M,w,D,F){for(var ae=null,De=null,le=w,Se=w=0,Re=null;le!==null&&Se<D.length;Se++){le.index>Se?(Re=le,le=null):Re=le.sibling;var Ue=k(M,le,D[Se],F);if(Ue===null){le===null&&(le=Re);break}t&&le&&Ue.alternate===null&&s(M,le),w=g(Ue,w,Se),De===null?ae=Ue:De.sibling=Ue,De=Ue,le=Re}if(Se===D.length)return l(M,le),Ne&&Rn(M,Se),ae;if(le===null){for(;Se<D.length;Se++)le=Y(M,D[Se],F),le!==null&&(w=g(le,w,Se),De===null?ae=le:De.sibling=le,De=le);return Ne&&Rn(M,Se),ae}for(le=a(le);Se<D.length;Se++)Re=P(le,M,Se,D[Se],F),Re!==null&&(t&&Re.alternate!==null&&le.delete(Re.key===null?Se:Re.key),w=g(Re,w,Se),De===null?ae=Re:De.sibling=Re,De=Re);return t&&le.forEach(function(yi){return s(M,yi)}),Ne&&Rn(M,Se),ae}function fe(M,w,D,F){if(D==null)throw Error(o(151));for(var ae=null,De=null,le=w,Se=w=0,Re=null,Ue=D.next();le!==null&&!Ue.done;Se++,Ue=D.next()){le.index>Se?(Re=le,le=null):Re=le.sibling;var yi=k(M,le,Ue.value,F);if(yi===null){le===null&&(le=Re);break}t&&le&&yi.alternate===null&&s(M,le),w=g(yi,w,Se),De===null?ae=yi:De.sibling=yi,De=yi,le=Re}if(Ue.done)return l(M,le),Ne&&Rn(M,Se),ae;if(le===null){for(;!Ue.done;Se++,Ue=D.next())Ue=Y(M,Ue.value,F),Ue!==null&&(w=g(Ue,w,Se),De===null?ae=Ue:De.sibling=Ue,De=Ue);return Ne&&Rn(M,Se),ae}for(le=a(le);!Ue.done;Se++,Ue=D.next())Ue=P(le,M,Se,Ue.value,F),Ue!==null&&(t&&Ue.alternate!==null&&le.delete(Ue.key===null?Se:Ue.key),w=g(Ue,w,Se),De===null?ae=Ue:De.sibling=Ue,De=Ue);return t&&le.forEach(function(ZE){return s(M,ZE)}),Ne&&Rn(M,Se),ae}function Ve(M,w,D,F){if(typeof D=="object"&&D!==null&&D.type===N&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case C:e:{for(var ae=D.key;w!==null;){if(w.key===ae){if(ae=D.type,ae===N){if(w.tag===7){l(M,w.sibling),F=h(w,D.props.children),F.return=M,M=F;break e}}else if(w.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ce&&Ui(ae)===w.type){l(M,w.sibling),F=h(w,D.props),ho(F,D),F.return=M,M=F;break e}l(M,w);break}else s(M,w);w=w.sibling}D.type===N?(F=Ri(D.props.children,M.mode,F,D.key),F.return=M,M=F):(F=Ul(D.type,D.key,D.props,null,M.mode,F),ho(F,D),F.return=M,M=F)}return S(M);case b:e:{for(ae=D.key;w!==null;){if(w.key===ae)if(w.tag===4&&w.stateNode.containerInfo===D.containerInfo&&w.stateNode.implementation===D.implementation){l(M,w.sibling),F=h(w,D.children||[]),F.return=M,M=F;break e}else{l(M,w);break}else s(M,w);w=w.sibling}F=pu(D,M.mode,F),F.return=M,M=F}return S(M);case ce:return D=Ui(D),Ve(M,w,D,F)}if(Ae(D))return ie(M,w,D,F);if(Ee(D)){if(ae=Ee(D),typeof ae!="function")throw Error(o(150));return D=ae.call(D),fe(M,w,D,F)}if(typeof D.then=="function")return Ve(M,w,ql(D),F);if(D.$$typeof===H)return Ve(M,w,Pl(M,D),F);Bl(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,w!==null&&w.tag===6?(l(M,w.sibling),F=h(w,D),F.return=M,M=F):(l(M,w),F=mu(D,M.mode,F),F.return=M,M=F),S(M)):l(M,w)}return function(M,w,D,F){try{fo=0;var ae=Ve(M,w,D,F);return hs=null,ae}catch(le){if(le===ds||le===Gl)throw le;var De=Ot(29,le,null,M.mode);return De.lanes=F,De.return=M,De}finally{}}}var ki=Jh(!0),Yh=Jh(!1),ei=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ni(t,s,l){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ke&2)!==0){var h=a.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),a.pending=s,s=Dl(t),Ih(t,null,l),s}return Ml(t,a,s,l),Dl(t)}function mo(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var a=s.lanes;a&=t.pendingLanes,l|=a,s.lanes=l,Gd(t,l)}}function Nu(t,s){var l=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?h=g=s:g=g.next=s}else h=g=s;l={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var Iu=!1;function po(){if(Iu){var t=fs;if(t!==null)throw t}}function go(t,s,l,a){Iu=!1;var h=t.updateQueue;ei=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,U=x.next;x.next=null,S===null?g=U:S.next=U,S=x;var V=t.alternate;V!==null&&(V=V.updateQueue,A=V.lastBaseUpdate,A!==S&&(A===null?V.firstBaseUpdate=U:A.next=U,V.lastBaseUpdate=x))}if(g!==null){var Y=h.baseState;S=0,V=U=x=null,A=g;do{var k=A.lane&-536870913,P=k!==A.lane;if(P?(we&k)===k:(a&k)===k){k!==0&&k===cs&&(Iu=!0),V!==null&&(V=V.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ie=t,fe=A;k=s;var Ve=l;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){Y=ie.call(Ve,Y,k);break e}Y=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,k=typeof ie=="function"?ie.call(Ve,Y,k):ie,k==null)break e;Y=_({},Y,k);break e;case 2:ei=!0}}k=A.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=h.callbacks,P===null?h.callbacks=[k]:P.push(k))}else P={lane:k,tag:A.tag,payload:A.payload,callback:A.callback,next:null},V===null?(U=V=P,x=Y):V=V.next=P,S|=k;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;P=A,A=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);V===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=U,h.lastBaseUpdate=V,g===null&&(h.shared.lanes=0),ri|=S,t.lanes=S,t.memoizedState=Y}}function Xh(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function Kh(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Xh(l[t],s)}var ms=R(null),Vl=R(0);function Qh(t,s){t=Hn,W(Vl,t),W(ms,s),Hn=t|s.baseLanes}function Mu(){W(Vl,Hn),W(ms,ms.current)}function Du(){Hn=Vl.current,J(ms),J(Vl)}var Gt=R(null),nn=null;function ii(t){var s=t.alternate;W(je,je.current&1),W(Gt,t),nn===null&&(s===null||ms.current!==null||s.memoizedState!==null)&&(nn=t)}function Uu(t){W(je,je.current),W(Gt,t),nn===null&&(nn=t)}function Zh(t){t.tag===22?(W(je,je.current),W(Gt,t),nn===null&&(nn=t)):si()}function si(){W(je,je.current),W(Gt,Gt.current)}function Ht(t){J(Gt),nn===t&&(nn=null),J(je)}var je=R(0);function zl(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Hc(l)||qc(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mn=0,ve=null,qe=null,nt=null,Fl=!1,ps=!1,Pi=!1,$l=0,yo=0,gs=null,BT=0;function Qe(){throw Error(o(321))}function Lu(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Pt(t[l],s[l]))return!1;return!0}function ku(t,s,l,a,h,g){return Mn=g,ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=t===null||t.memoizedState===null?Lm:Qu,Pi=!1,g=l(a,h),Pi=!1,ps&&(g=jh(s,l,a,h)),Wh(t),g}function Wh(t){q.H=So;var s=qe!==null&&qe.next!==null;if(Mn=0,nt=qe=ve=null,Fl=!1,yo=0,gs=null,s)throw Error(o(300));t===null||it||(t=t.dependencies,t!==null&&kl(t)&&(it=!0))}function jh(t,s,l,a){ve=t;var h=0;do{if(ps&&(gs=null),yo=0,ps=!1,25<=h)throw Error(o(301));if(h+=1,nt=qe=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=km,g=s(l,a)}while(ps);return g}function VT(){var t=q.H,s=t.useState()[0];return s=typeof s.then=="function"?vo(s):s,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(ve.flags|=1024),s}function Pu(){var t=$l!==0;return $l=0,t}function Ou(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function Gu(t){if(Fl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Fl=!1}Mn=0,nt=qe=ve=null,ps=!1,yo=$l=0,gs=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ve.memoizedState=nt=t:nt=nt.next=t,nt}function et(){if(qe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var s=nt===null?ve.memoizedState:nt.next;if(s!==null)nt=s,qe=t;else{if(t===null)throw ve.alternate===null?Error(o(467)):Error(o(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},nt===null?ve.memoizedState=nt=t:nt=nt.next=t}return nt}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(t){var s=yo;return yo+=1,gs===null&&(gs=[]),t=zh(gs,t,s),s=ve,(nt===null?s.memoizedState:nt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?Lm:Qu),t}function Yl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vo(t);if(t.$$typeof===H)return pt(t)}throw Error(o(438,String(t)))}function Hu(t){var s=null,l=ve.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(s={data:a.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Jl(),ve.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),a=0;a<t;a++)l[a]=se;return s.index++,l}function Dn(t,s){return typeof s=="function"?s(t):s}function Xl(t){var s=et();return qu(s,qe,t)}function qu(t,s,l){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var h=t.baseQueue,g=a.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}s.baseQueue=h=g,a.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{s=h.next;var A=S=null,x=null,U=s,V=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(we&Y)===Y:(Mn&Y)===Y){var k=U.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===cs&&(V=!0);else if((Mn&k)===k){U=U.next,k===cs&&(V=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(A=x=Y,S=g):x=x.next=Y,ve.lanes|=k,ri|=k;Y=U.action,Pi&&l(g,Y),g=U.hasEagerState?U.eagerState:l(g,Y)}else k={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(A=x=k,S=g):x=x.next=k,ve.lanes|=Y,ri|=Y;U=U.next}while(U!==null&&U!==s);if(x===null?S=g:x.next=A,!Pt(g,t.memoizedState)&&(it=!0,V&&(l=fs,l!==null)))throw l;t.memoizedState=g,t.baseState=S,t.baseQueue=x,a.lastRenderedState=g}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Bu(t){var s=et(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var a=l.dispatch,h=l.pending,g=s.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do g=t(g,S.action),S=S.next;while(S!==h);Pt(g,s.memoizedState)||(it=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,a]}function em(t,s,l){var a=ve,h=et(),g=Ne;if(g){if(l===void 0)throw Error(o(407));l=l()}else l=s();var S=!Pt((qe||h).memoizedState,l);if(S&&(h.memoizedState=l,it=!0),h=h.queue,Fu(im.bind(null,a,h,t),[t]),h.getSnapshot!==s||S||nt!==null&&nt.memoizedState.tag&1){if(a.flags|=2048,ys(9,{destroy:void 0},nm.bind(null,a,h,l,s),null),ze===null)throw Error(o(349));g||(Mn&127)!==0||tm(a,s,l)}return l}function tm(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=ve.updateQueue,s===null?(s=Jl(),ve.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function nm(t,s,l,a){s.value=l,s.getSnapshot=a,sm(s)&&om(t)}function im(t,s,l){return l(function(){sm(s)&&om(t)})}function sm(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Pt(t,l)}catch{return!0}}function om(t){var s=wi(t,2);s!==null&&Mt(s,t,2)}function Vu(t){var s=Et();if(typeof t=="function"){var l=t;if(t=l(),Pi){Yn(!0);try{l()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:t},s}function lm(t,s,l,a){return t.baseState=l,qu(t,qe,typeof a=="function"?a:Dn)}function zT(t,s,l,a,h){if(Zl(t))throw Error(o(485));if(t=s.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};q.T!==null?l(!0):g.isTransition=!1,a(g),l=s.pending,l===null?(g.next=s.pending=g,rm(s,g)):(g.next=l.next,s.pending=l.next=g)}}function rm(t,s){var l=s.action,a=s.payload,h=t.state;if(s.isTransition){var g=q.T,S={};q.T=S;try{var A=l(h,a),x=q.S;x!==null&&x(S,A),am(t,s,A)}catch(U){zu(t,s,U)}finally{g!==null&&S.types!==null&&(g.types=S.types),q.T=g}}else try{g=l(h,a),am(t,s,g)}catch(U){zu(t,s,U)}}function am(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){um(t,s,a)},function(a){return zu(t,s,a)}):um(t,s,l)}function um(t,s,l){s.status="fulfilled",s.value=l,cm(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,rm(t,l)))}function zu(t,s,l){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do s.status="rejected",s.reason=l,cm(s),s=s.next;while(s!==a)}t.action=null}function cm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function fm(t,s){return s}function dm(t,s){if(Ne){var l=ze.formState;if(l!==null){e:{var a=ve;if(Ne){if(Fe){t:{for(var h=Fe,g=tn;h.nodeType!==8;){if(!g){h=null;break t}if(h=sn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Fe=sn(h.nextSibling),a=h.data==="F!";break e}}Wn(a)}a=!1}a&&(s=l[0])}}return l=Et(),l.memoizedState=l.baseState=s,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:s},l.queue=a,l=Mm.bind(null,ve,a),a.dispatch=l,a=Vu(!1),g=Ku.bind(null,ve,!1,a.queue),a=Et(),h={state:s,dispatch:null,action:t,pending:null},a.queue=h,l=zT.bind(null,ve,h,g,l),h.dispatch=l,a.memoizedState=t,[s,l,!1]}function hm(t){var s=et();return mm(s,qe,t)}function mm(t,s,l){if(s=qu(t,s,fm)[0],t=Xl(Dn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var a=vo(s)}catch(S){throw S===ds?Gl:S}else a=s;s=et();var h=s.queue,g=h.dispatch;return l!==s.memoizedState&&(ve.flags|=2048,ys(9,{destroy:void 0},FT.bind(null,h,l),null)),[a,g,t]}function FT(t,s){t.action=s}function pm(t){var s=et(),l=qe;if(l!==null)return mm(s,l,t);et(),s=s.memoizedState,l=et();var a=l.queue.dispatch;return l.memoizedState=t,[s,a,!1]}function ys(t,s,l,a){return t={tag:t,create:l,deps:a,inst:s,next:null},s=ve.updateQueue,s===null&&(s=Jl(),ve.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(a=l.next,l.next=t,t.next=a,s.lastEffect=t),t}function gm(){return et().memoizedState}function Kl(t,s,l,a){var h=Et();ve.flags|=t,h.memoizedState=ys(1|s,{destroy:void 0},l,a===void 0?null:a)}function Ql(t,s,l,a){var h=et();a=a===void 0?null:a;var g=h.memoizedState.inst;qe!==null&&a!==null&&Lu(a,qe.memoizedState.deps)?h.memoizedState=ys(s,g,l,a):(ve.flags|=t,h.memoizedState=ys(1|s,g,l,a))}function ym(t,s){Kl(8390656,8,t,s)}function Fu(t,s){Ql(2048,8,t,s)}function $T(t){ve.flags|=4;var s=ve.updateQueue;if(s===null)s=Jl(),ve.updateQueue=s,s.events=[t];else{var l=s.events;l===null?s.events=[t]:l.push(t)}}function vm(t){var s=et().memoizedState;return $T({ref:s,nextImpl:t}),function(){if((ke&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function _m(t,s){return Ql(4,2,t,s)}function Sm(t,s){return Ql(4,4,t,s)}function Tm(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Em(t,s,l){l=l!=null?l.concat([t]):null,Ql(4,4,Tm.bind(null,s,t),l)}function $u(){}function Am(t,s){var l=et();s=s===void 0?null:s;var a=l.memoizedState;return s!==null&&Lu(s,a[1])?a[0]:(l.memoizedState=[t,s],t)}function Cm(t,s){var l=et();s=s===void 0?null:s;var a=l.memoizedState;if(s!==null&&Lu(s,a[1]))return a[0];if(a=t(),Pi){Yn(!0);try{t()}finally{Yn(!1)}}return l.memoizedState=[a,s],a}function Ju(t,s,l){return l===void 0||(Mn&1073741824)!==0&&(we&261930)===0?t.memoizedState=s:(t.memoizedState=l,t=xp(),ve.lanes|=t,ri|=t,l)}function xm(t,s,l,a){return Pt(l,s)?l:ms.current!==null?(t=Ju(t,l,a),Pt(t,s)||(it=!0),t):(Mn&42)===0||(Mn&1073741824)!==0&&(we&261930)===0?(it=!0,t.memoizedState=l):(t=xp(),ve.lanes|=t,ri|=t,s)}function bm(t,s,l,a,h){var g=K.p;K.p=g!==0&&8>g?g:8;var S=q.T,A={};q.T=A,Ku(t,!1,s,l);try{var x=h(),U=q.S;if(U!==null&&U(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=qT(x,a);_o(t,s,V,Vt(t))}else _o(t,s,a,Vt(t))}catch(Y){_o(t,s,{then:function(){},status:"rejected",reason:Y},Vt())}finally{K.p=g,S!==null&&A.types!==null&&(S.types=A.types),q.T=S}}function JT(){}function Yu(t,s,l,a){if(t.tag!==5)throw Error(o(476));var h=wm(t).queue;bm(t,h,s,ee,l===null?JT:function(){return Rm(t),l(a)})}function wm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Rm(t){var s=wm(t);s.next===null&&(s=t.alternate.memoizedState),_o(t,s.next.queue,{},Vt())}function Xu(){return pt(Po)}function Nm(){return et().memoizedState}function Im(){return et().memoizedState}function YT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=Vt();t=ti(l);var a=ni(s,t,l);a!==null&&(Mt(a,s,l),mo(a,s,l)),s={cache:Au()},t.payload=s;return}s=s.return}}function XT(t,s,l){var a=Vt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zl(t)?Dm(s,l):(l=du(t,s,l,a),l!==null&&(Mt(l,t,a),Um(l,s,a)))}function Mm(t,s,l){var a=Vt();_o(t,s,l,a)}function _o(t,s,l,a){var h={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zl(t))Dm(s,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,A=g(S,l);if(h.hasEagerState=!0,h.eagerState=A,Pt(A,S))return Ml(t,s,h,0),ze===null&&Il(),!1}catch{}finally{}if(l=du(t,s,h,a),l!==null)return Mt(l,t,a),Um(l,s,a),!0}return!1}function Ku(t,s,l,a){if(a={lane:2,revertLane:wc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zl(t)){if(s)throw Error(o(479))}else s=du(t,l,a,2),s!==null&&Mt(s,t,2)}function Zl(t){var s=t.alternate;return t===ve||s!==null&&s===ve}function Dm(t,s){ps=Fl=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function Um(t,s,l){if((l&4194048)!==0){var a=s.lanes;a&=t.pendingLanes,l|=a,s.lanes=l,Gd(t,l)}}var So={readContext:pt,use:Yl,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};So.useEffectEvent=Qe;var Lm={readContext:pt,use:Yl,useCallback:function(t,s){return Et().memoizedState=[t,s===void 0?null:s],t},useContext:pt,useEffect:ym,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,Kl(4194308,4,Tm.bind(null,s,t),l)},useLayoutEffect:function(t,s){return Kl(4194308,4,t,s)},useInsertionEffect:function(t,s){Kl(4,2,t,s)},useMemo:function(t,s){var l=Et();s=s===void 0?null:s;var a=t();if(Pi){Yn(!0);try{t()}finally{Yn(!1)}}return l.memoizedState=[a,s],a},useReducer:function(t,s,l){var a=Et();if(l!==void 0){var h=l(s);if(Pi){Yn(!0);try{l(s)}finally{Yn(!1)}}}else h=s;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=XT.bind(null,ve,t),[a.memoizedState,t]},useRef:function(t){var s=Et();return t={current:t},s.memoizedState=t},useState:function(t){t=Vu(t);var s=t.queue,l=Mm.bind(null,ve,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:$u,useDeferredValue:function(t,s){var l=Et();return Ju(l,t,s)},useTransition:function(){var t=Vu(!1);return t=bm.bind(null,ve,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var a=ve,h=Et();if(Ne){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),ze===null)throw Error(o(349));(we&127)!==0||tm(a,s,l)}h.memoizedState=l;var g={value:l,getSnapshot:s};return h.queue=g,ym(im.bind(null,a,g,t),[t]),a.flags|=2048,ys(9,{destroy:void 0},nm.bind(null,a,g,l,s),null),l},useId:function(){var t=Et(),s=ze.identifierPrefix;if(Ne){var l=yn,a=gn;l=(a&~(1<<32-kt(a)-1)).toString(32)+l,s="_"+s+"R_"+l,l=$l++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=BT++,s="_"+s+"r_"+l.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Xu,useFormState:dm,useActionState:dm,useOptimistic:function(t){var s=Et();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ku.bind(null,ve,!0,l),l.dispatch=s,[t,s]},useMemoCache:Hu,useCacheRefresh:function(){return Et().memoizedState=YT.bind(null,ve)},useEffectEvent:function(t){var s=Et(),l={impl:t};return s.memoizedState=l,function(){if((ke&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Qu={readContext:pt,use:Yl,useCallback:Am,useContext:pt,useEffect:Fu,useImperativeHandle:Em,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:Cm,useReducer:Xl,useRef:gm,useState:function(){return Xl(Dn)},useDebugValue:$u,useDeferredValue:function(t,s){var l=et();return xm(l,qe.memoizedState,t,s)},useTransition:function(){var t=Xl(Dn)[0],s=et().memoizedState;return[typeof t=="boolean"?t:vo(t),s]},useSyncExternalStore:em,useId:Nm,useHostTransitionStatus:Xu,useFormState:hm,useActionState:hm,useOptimistic:function(t,s){var l=et();return lm(l,qe,t,s)},useMemoCache:Hu,useCacheRefresh:Im};Qu.useEffectEvent=vm;var km={readContext:pt,use:Yl,useCallback:Am,useContext:pt,useEffect:Fu,useImperativeHandle:Em,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:Cm,useReducer:Bu,useRef:gm,useState:function(){return Bu(Dn)},useDebugValue:$u,useDeferredValue:function(t,s){var l=et();return qe===null?Ju(l,t,s):xm(l,qe.memoizedState,t,s)},useTransition:function(){var t=Bu(Dn)[0],s=et().memoizedState;return[typeof t=="boolean"?t:vo(t),s]},useSyncExternalStore:em,useId:Nm,useHostTransitionStatus:Xu,useFormState:pm,useActionState:pm,useOptimistic:function(t,s){var l=et();return qe!==null?lm(l,qe,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:Im};km.useEffectEvent=vm;function Zu(t,s,l,a){s=t.memoizedState,l=l(a,s),l=l==null?s:_({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Wu={enqueueSetState:function(t,s,l){t=t._reactInternals;var a=Vt(),h=ti(a);h.payload=s,l!=null&&(h.callback=l),s=ni(t,h,a),s!==null&&(Mt(s,t,a),mo(s,t,a))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var a=Vt(),h=ti(a);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=ni(t,h,a),s!==null&&(Mt(s,t,a),mo(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=Vt(),a=ti(l);a.tag=2,s!=null&&(a.callback=s),s=ni(t,a,l),s!==null&&(Mt(s,t,l),mo(s,t,l))}};function Pm(t,s,l,a,h,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,S):s.prototype&&s.prototype.isPureReactComponent?!oo(l,a)||!oo(h,g):!0}function Om(t,s,l,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,a),s.state!==t&&Wu.enqueueReplaceState(s,s.state,null)}function Oi(t,s){var l=s;if("ref"in s){l={};for(var a in s)a!=="ref"&&(l[a]=s[a])}if(t=t.defaultProps){l===s&&(l=_({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}function Gm(t){Nl(t)}function Hm(t){console.error(t)}function qm(t){Nl(t)}function Wl(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(a){setTimeout(function(){throw a})}}function Bm(t,s,l){try{var a=t.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ju(t,s,l){return l=ti(l),l.tag=3,l.payload={element:null},l.callback=function(){Wl(t,s)},l}function Vm(t){return t=ti(t),t.tag=3,t}function zm(t,s,l,a){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;t.payload=function(){return h(g)},t.callback=function(){Bm(s,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Bm(s,l,a),typeof h!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})})}function KT(t,s,l,a,h){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(s=l.alternate,s!==null&&us(s,l,h,!0),l=Gt.current,l!==null){switch(l.tag){case 31:case 13:return nn===null?cr():l.alternate===null&&Ze===0&&(Ze=3),l.flags&=-257,l.flags|=65536,l.lanes=h,a===Hl?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([a]):s.add(a),Cc(t,a,h)),!1;case 22:return l.flags|=65536,a===Hl?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([a]):l.add(a)),Cc(t,a,h)),!1}throw Error(o(435,l.tag))}return Cc(t,a,h),cr(),!1}if(Ne)return s=Gt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,a!==vu&&(t=Error(o(422),{cause:a}),ao(Wt(t,l)))):(a!==vu&&(s=Error(o(423),{cause:a}),ao(Wt(s,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Wt(a,l),h=ju(t.stateNode,a,h),Nu(t,h),Ze!==4&&(Ze=2)),!1;var g=Error(o(520),{cause:a});if(g=Wt(g,l),Ro===null?Ro=[g]:Ro.push(g),Ze!==4&&(Ze=2),s===null)return!0;a=Wt(a,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=ju(l.stateNode,a,t),Nu(l,t),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ai===null||!ai.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Vm(h),zm(h,t,l,a),Nu(l,h),!1}l=l.return}while(l!==null);return!1}var ec=Error(o(461)),it=!1;function gt(t,s,l,a){s.child=t===null?Yh(s,null,l,a):ki(s,t.child,l,a)}function Fm(t,s,l,a,h){l=l.render;var g=s.ref;if("ref"in a){var S={};for(var A in a)A!=="ref"&&(S[A]=a[A])}else S=a;return Mi(s),a=ku(t,s,l,S,g,h),A=Pu(),t!==null&&!it?(Ou(t,s,h),Un(t,s,h)):(Ne&&A&&gu(s),s.flags|=1,gt(t,s,a,h),s.child)}function $m(t,s,l,a,h){if(t===null){var g=l.type;return typeof g=="function"&&!hu(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,Jm(t,s,g,a,h)):(t=Ul(l.type,null,a,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,!ac(t,h)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:oo,l(S,a)&&t.ref===s.ref)return Un(t,s,h)}return s.flags|=1,t=wn(g,a),t.ref=s.ref,t.return=s,s.child=t}function Jm(t,s,l,a,h){if(t!==null){var g=t.memoizedProps;if(oo(g,a)&&t.ref===s.ref)if(it=!1,s.pendingProps=a=g,ac(t,h))(t.flags&131072)!==0&&(it=!0);else return s.lanes=t.lanes,Un(t,s,h)}return tc(t,s,l,a,h)}function Ym(t,s,l,a){var h=a.children,g=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,t!==null){for(a=s.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~g}else a=0,s.child=null;return Xm(t,s,g,l,a)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ol(s,g!==null?g.cachePool:null),g!==null?Qh(s,g):Mu(),Zh(s);else return a=s.lanes=536870912,Xm(t,s,g!==null?g.baseLanes|l:l,l,a)}else g!==null?(Ol(s,g.cachePool),Qh(s,g),si(),s.memoizedState=null):(t!==null&&Ol(s,null),Mu(),si());return gt(t,s,h,l),s.child}function To(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Xm(t,s,l,a,h){var g=xu();return g=g===null?null:{parent:tt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},t!==null&&Ol(s,null),Mu(),Zh(s),t!==null&&us(t,s,a,!0),s.childLanes=h,null}function jl(t,s){return s=tr({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Km(t,s,l){return ki(s,t.child,null,l),t=jl(s,s.pendingProps),t.flags|=2,Ht(s),s.memoizedState=null,t}function QT(t,s,l){var a=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ne){if(a.mode==="hidden")return t=jl(s,a),s.lanes=536870912,To(null,t);if(Uu(s),(t=Fe)?(t=rg(t,tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Qn!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Dh(t),l.return=s,s.child=l,mt=s,Fe=null)):t=null,t===null)throw Wn(s);return s.lanes=536870912,null}return jl(s,a)}var g=t.memoizedState;if(g!==null){var S=g.dehydrated;if(Uu(s),h)if(s.flags&256)s.flags&=-257,s=Km(t,s,l);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(it||us(t,s,l,!1),h=(l&t.childLanes)!==0,it||h){if(a=ze,a!==null&&(S=Hd(a,l),S!==0&&S!==g.retryLane))throw g.retryLane=S,wi(t,S),Mt(a,t,S),ec;cr(),s=Km(t,s,l)}else t=g.treeContext,Fe=sn(S.nextSibling),mt=s,Ne=!0,Zn=null,tn=!1,t!==null&&kh(s,t),s=jl(s,a),s.flags|=4096;return s}return t=wn(t.child,{mode:a.mode,children:a.children}),t.ref=s.ref,s.child=t,t.return=s,t}function er(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function tc(t,s,l,a,h){return Mi(s),l=ku(t,s,l,a,void 0,h),a=Pu(),t!==null&&!it?(Ou(t,s,h),Un(t,s,h)):(Ne&&a&&gu(s),s.flags|=1,gt(t,s,l,h),s.child)}function Qm(t,s,l,a,h,g){return Mi(s),s.updateQueue=null,l=jh(s,a,l,h),Wh(t),a=Pu(),t!==null&&!it?(Ou(t,s,g),Un(t,s,g)):(Ne&&a&&gu(s),s.flags|=1,gt(t,s,l,g),s.child)}function Zm(t,s,l,a,h){if(Mi(s),s.stateNode===null){var g=os,S=l.contextType;typeof S=="object"&&S!==null&&(g=pt(S)),g=new l(a,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Wu,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=a,g.state=s.memoizedState,g.refs={},wu(s),S=l.contextType,g.context=typeof S=="object"&&S!==null?pt(S):os,g.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Zu(s,l,S,a),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Wu.enqueueReplaceState(g,g.state,null),go(s,a,g,h),po(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),a=!0}else if(t===null){g=s.stateNode;var A=s.memoizedProps,x=Oi(l,A);g.props=x;var U=g.context,V=l.contextType;S=os,typeof V=="object"&&V!==null&&(S=pt(V));var Y=l.getDerivedStateFromProps;V=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||U!==S)&&Om(s,g,a,S),ei=!1;var k=s.memoizedState;g.state=k,go(s,a,g,h),po(),U=s.memoizedState,A||k!==U||ei?(typeof Y=="function"&&(Zu(s,l,Y,a),U=s.memoizedState),(x=ei||Pm(s,l,x,a,k,U,S))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=U),g.props=a,g.state=U,g.context=S,a=x):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{g=s.stateNode,Ru(t,s),S=s.memoizedProps,V=Oi(l,S),g.props=V,Y=s.pendingProps,k=g.context,U=l.contextType,x=os,typeof U=="object"&&U!==null&&(x=pt(U)),A=l.getDerivedStateFromProps,(U=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==Y||k!==x)&&Om(s,g,a,x),ei=!1,k=s.memoizedState,g.state=k,go(s,a,g,h),po();var P=s.memoizedState;S!==Y||k!==P||ei||t!==null&&t.dependencies!==null&&kl(t.dependencies)?(typeof A=="function"&&(Zu(s,l,A,a),P=s.memoizedState),(V=ei||Pm(s,l,V,a,k,P,x)||t!==null&&t.dependencies!==null&&kl(t.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,P,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,P,x)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=P),g.props=a,g.state=P,g.context=x,a=V):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),a=!1)}return g=a,er(t,s),a=(s.flags&128)!==0,g||a?(g=s.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,t!==null&&a?(s.child=ki(s,t.child,null,h),s.child=ki(s,null,l,h)):gt(t,s,l,h),s.memoizedState=g.state,t=s.child):t=Un(t,s,h),t}function Wm(t,s,l,a){return Ni(),s.flags|=256,gt(t,s,l,a),s.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(t){return{baseLanes:t,cachePool:Bh()}}function sc(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=Bt),t}function jm(t,s,l){var a=s.pendingProps,h=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ne){if(h?ii(s):si(),(t=Fe)?(t=rg(t,tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Qn!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Dh(t),l.return=s,s.child=l,mt=s,Fe=null)):t=null,t===null)throw Wn(s);return qc(t)?s.lanes=32:s.lanes=536870912,null}var A=a.children;return a=a.fallback,h?(si(),h=s.mode,A=tr({mode:"hidden",children:A},h),a=Ri(a,h,l,null),A.return=s,a.return=s,A.sibling=a,s.child=A,a=s.child,a.memoizedState=ic(l),a.childLanes=sc(t,S,l),s.memoizedState=nc,To(null,a)):(ii(s),oc(s,A))}var x=t.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(g)s.flags&256?(ii(s),s.flags&=-257,s=lc(t,s,l)):s.memoizedState!==null?(si(),s.child=t.child,s.flags|=128,s=null):(si(),A=a.fallback,h=s.mode,a=tr({mode:"visible",children:a.children},h),A=Ri(A,h,l,null),A.flags|=2,a.return=s,A.return=s,a.sibling=A,s.child=a,ki(s,t.child,null,l),a=s.child,a.memoizedState=ic(l),a.childLanes=sc(t,S,l),s.memoizedState=nc,s=To(null,a));else if(ii(s),qc(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var U=S.dgst;S=U,a=Error(o(419)),a.stack="",a.digest=S,ao({value:a,source:null,stack:null}),s=lc(t,s,l)}else if(it||us(t,s,l,!1),S=(l&t.childLanes)!==0,it||S){if(S=ze,S!==null&&(a=Hd(S,l),a!==0&&a!==x.retryLane))throw x.retryLane=a,wi(t,a),Mt(S,t,a),ec;Hc(A)||cr(),s=lc(t,s,l)}else Hc(A)?(s.flags|=192,s.child=t.child,s=null):(t=x.treeContext,Fe=sn(A.nextSibling),mt=s,Ne=!0,Zn=null,tn=!1,t!==null&&kh(s,t),s=oc(s,a.children),s.flags|=4096);return s}return h?(si(),A=a.fallback,h=s.mode,x=t.child,U=x.sibling,a=wn(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,U!==null?A=wn(U,A):(A=Ri(A,h,l,null),A.flags|=2),A.return=s,a.return=s,a.sibling=A,s.child=a,To(null,a),a=s.child,A=t.child.memoizedState,A===null?A=ic(l):(h=A.cachePool,h!==null?(x=tt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Bh(),A={baseLanes:A.baseLanes|l,cachePool:h}),a.memoizedState=A,a.childLanes=sc(t,S,l),s.memoizedState=nc,To(t.child,a)):(ii(s),l=t.child,t=l.sibling,l=wn(l,{mode:"visible",children:a.children}),l.return=s,l.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=l,s.memoizedState=null,l)}function oc(t,s){return s=tr({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function tr(t,s){return t=Ot(22,t,null,s),t.lanes=0,t}function lc(t,s,l){return ki(s,t.child,null,l),t=oc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function ep(t,s,l){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),Tu(t.return,s,l)}function rc(t,s,l,a,h,g){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:h,treeForkCount:g}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=h,S.treeForkCount=g)}function tp(t,s,l){var a=s.pendingProps,h=a.revealOrder,g=a.tail;a=a.children;var S=je.current,A=(S&2)!==0;if(A?(S=S&1|2,s.flags|=128):S&=1,W(je,S),gt(t,s,a,l),a=Ne?ro:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ep(t,l,s);else if(t.tag===19)ep(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(l=s.child,h=null;l!==null;)t=l.alternate,t!==null&&zl(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),rc(s,!1,h,l,g,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&zl(t)===null){s.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}rc(s,!0,l,null,g,a);break;case"together":rc(s,!1,null,null,void 0,a);break;default:s.memoizedState=null}return s.child}function Un(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),ri|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(us(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,l=wn(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=wn(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function ac(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&kl(t)))}function ZT(t,s,l){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),jn(s,tt,t.memoizedState.cache),Ni();break;case 27:case 5:Xt(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:jn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Uu(s),null;break;case 13:var a=s.memoizedState;if(a!==null)return a.dehydrated!==null?(ii(s),s.flags|=128,null):(l&s.child.childLanes)!==0?jm(t,s,l):(ii(s),t=Un(t,s,l),t!==null?t.sibling:null);ii(s);break;case 19:var h=(t.flags&128)!==0;if(a=(l&s.childLanes)!==0,a||(us(t,s,l,!1),a=(l&s.childLanes)!==0),h){if(a)return tp(t,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(je,je.current),a)break;return null;case 22:return s.lanes=0,Ym(t,s,l,s.pendingProps);case 24:jn(s,tt,t.memoizedState.cache)}return Un(t,s,l)}function np(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)it=!0;else{if(!ac(t,l)&&(s.flags&128)===0)return it=!1,ZT(t,s,l);it=(t.flags&131072)!==0}else it=!1,Ne&&(s.flags&1048576)!==0&&Lh(s,ro,s.index);switch(s.lanes=0,s.tag){case 16:e:{var a=s.pendingProps;if(t=Ui(s.elementType),s.type=t,typeof t=="function")hu(t)?(a=Oi(t,a),s.tag=1,s=Zm(null,s,t,a,l)):(s.tag=0,s=tc(null,s,t,a,l));else{if(t!=null){var h=t.$$typeof;if(h===G){s.tag=11,s=Fm(null,s,t,a,l);break e}else if(h===$){s.tag=14,s=$m(null,s,t,a,l);break e}}throw s=me(t)||t,Error(o(306,s,""))}}return s;case 0:return tc(t,s,s.type,s.pendingProps,l);case 1:return a=s.type,h=Oi(a,s.pendingProps),Zm(t,s,a,h,l);case 3:e:{if(He(s,s.stateNode.containerInfo),t===null)throw Error(o(387));a=s.pendingProps;var g=s.memoizedState;h=g.element,Ru(t,s),go(s,a,null,l);var S=s.memoizedState;if(a=S.cache,jn(s,tt,a),a!==g.cache&&Eu(s,[tt],l,!0),po(),a=S.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Wm(t,s,a,l);break e}else if(a!==h){h=Wt(Error(o(424)),s),ao(h),s=Wm(t,s,a,l);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=sn(t.firstChild),mt=s,Ne=!0,Zn=null,tn=!0,l=Yh(s,null,a,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ni(),a===h){s=Un(t,s,l);break e}gt(t,s,a,l)}s=s.child}return s;case 26:return er(t,s),t===null?(l=hg(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ne||(l=s.type,t=s.pendingProps,a=yr(de.current).createElement(l),a[ht]=s,a[xt]=t,yt(a,l,t),at(a),s.stateNode=a):s.memoizedState=hg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Xt(s),t===null&&Ne&&(a=s.stateNode=cg(s.type,s.pendingProps,de.current),mt=s,tn=!0,h=Fe,di(s.type)?(Bc=h,Fe=sn(a.firstChild)):Fe=h),gt(t,s,s.pendingProps.children,l),er(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ne&&((h=a=Fe)&&(a=wE(a,s.type,s.pendingProps,tn),a!==null?(s.stateNode=a,mt=s,Fe=sn(a.firstChild),tn=!1,h=!0):h=!1),h||Wn(s)),Xt(s),h=s.type,g=s.pendingProps,S=t!==null?t.memoizedProps:null,a=g.children,Pc(h,g)?a=null:S!==null&&Pc(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=ku(t,s,VT,null,null,l),Po._currentValue=h),er(t,s),gt(t,s,a,l),s.child;case 6:return t===null&&Ne&&((t=l=Fe)&&(l=RE(l,s.pendingProps,tn),l!==null?(s.stateNode=l,mt=s,Fe=null,t=!0):t=!1),t||Wn(s)),null;case 13:return jm(t,s,l);case 4:return He(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=ki(s,null,a,l):gt(t,s,a,l),s.child;case 11:return Fm(t,s,s.type,s.pendingProps,l);case 7:return gt(t,s,s.pendingProps,l),s.child;case 8:return gt(t,s,s.pendingProps.children,l),s.child;case 12:return gt(t,s,s.pendingProps.children,l),s.child;case 10:return a=s.pendingProps,jn(s,s.type,a.value),gt(t,s,a.children,l),s.child;case 9:return h=s.type._context,a=s.pendingProps.children,Mi(s),h=pt(h),a=a(h),s.flags|=1,gt(t,s,a,l),s.child;case 14:return $m(t,s,s.type,s.pendingProps,l);case 15:return Jm(t,s,s.type,s.pendingProps,l);case 19:return tp(t,s,l);case 31:return QT(t,s,l);case 22:return Ym(t,s,l,s.pendingProps);case 24:return Mi(s),a=pt(tt),t===null?(h=xu(),h===null&&(h=ze,g=Au(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),s.memoizedState={parent:a,cache:h},wu(s),jn(s,tt,h)):((t.lanes&l)!==0&&(Ru(t,s),go(s,null,null,l),po()),h=t.memoizedState,g=s.memoizedState,h.parent!==a?(h={parent:a,cache:a},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),jn(s,tt,a)):(a=g.cache,jn(s,tt,a),a!==h.cache&&Eu(s,[tt],l,!0))),gt(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Ln(t){t.flags|=4}function uc(t,s,l,a,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Np())t.flags|=8192;else throw Li=Hl,bu}else t.flags&=-16777217}function ip(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vg(s))if(Np())t.flags|=8192;else throw Li=Hl,bu}function nr(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Pd():536870912,t.lanes|=s,Ts|=s)}function Eo(t,s){if(!Ne)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function $e(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,a=0;if(s)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=l,s}function WT(t,s,l){var a=s.pendingProps;switch(yu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(s),null;case 1:return $e(s),null;case 3:return l=s.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),In(tt),Je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(as(s)?Ln(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_u())),$e(s),null;case 26:var h=s.type,g=s.memoizedState;return t===null?(Ln(s),g!==null?($e(s),ip(s,g)):($e(s),uc(s,h,null,a,l))):g?g!==t.memoizedState?(Ln(s),$e(s),ip(s,g)):($e(s),s.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ln(s),$e(s),uc(s,h,t,a,l)),null;case 27:if(hl(s),l=de.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==a&&Ln(s);else{if(!a){if(s.stateNode===null)throw Error(o(166));return $e(s),null}t=te.current,as(s)?Ph(s):(t=cg(h,a,l),s.stateNode=t,Ln(s))}return $e(s),null;case 5:if(hl(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==a&&Ln(s);else{if(!a){if(s.stateNode===null)throw Error(o(166));return $e(s),null}if(g=te.current,as(s))Ph(s);else{var S=yr(de.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?g.multiple=!0:a.size&&(g.size=a.size);break;default:g=typeof a.is=="string"?S.createElement(h,{is:a.is}):S.createElement(h)}}g[ht]=s,g[xt]=a;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=g;e:switch(yt(g,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ln(s)}}return $e(s),uc(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,l),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==a&&Ln(s);else{if(typeof a!="string"&&s.stateNode===null)throw Error(o(166));if(t=de.current,as(s)){if(t=s.stateNode,l=s.memoizedProps,a=null,h=mt,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[ht]=s,t=!!(t.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||jp(t.nodeValue,l)),t||Wn(s,!0)}else t=yr(t).createTextNode(a),t[ht]=s,s.stateNode=t}return $e(s),null;case 31:if(l=s.memoizedState,t===null||t.memoizedState!==null){if(a=as(s),l!==null){if(t===null){if(!a)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ht]=s}else Ni(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),t=!1}else l=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return s.flags&256?(Ht(s),s):(Ht(s),null);if((s.flags&128)!==0)throw Error(o(558))}return $e(s),null;case 13:if(a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=as(s),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[ht]=s}else Ni(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),h=!1}else h=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Ht(s),s):(Ht(s),null)}return Ht(s),(s.flags&128)!==0?(s.lanes=l,s):(l=a!==null,t=t!==null&&t.memoizedState!==null,l&&(a=s.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==h&&(a.flags|=2048)),l!==t&&l&&(s.child.flags|=8192),nr(s,s.updateQueue),$e(s),null);case 4:return Je(),t===null&&Mc(s.stateNode.containerInfo),$e(s),null;case 10:return In(s.type),$e(s),null;case 19:if(J(je),a=s.memoizedState,a===null)return $e(s),null;if(h=(s.flags&128)!==0,g=a.rendering,g===null)if(h)Eo(a,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(g=zl(t),g!==null){for(s.flags|=128,Eo(a,!1),t=g.updateQueue,s.updateQueue=t,nr(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)Mh(l,t),l=l.sibling;return W(je,je.current&1|2),Ne&&Rn(s,a.treeForkCount),s.child}t=t.sibling}a.tail!==null&&Ut()>rr&&(s.flags|=128,h=!0,Eo(a,!1),s.lanes=4194304)}else{if(!h)if(t=zl(g),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,nr(s,t),Eo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!g.alternate&&!Ne)return $e(s),null}else 2*Ut()-a.renderingStartTime>rr&&l!==536870912&&(s.flags|=128,h=!0,Eo(a,!1),s.lanes=4194304);a.isBackwards?(g.sibling=s.child,s.child=g):(t=a.last,t!==null?t.sibling=g:s.child=g,a.last=g)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ut(),t.sibling=null,l=je.current,W(je,h?l&1|2:l&1),Ne&&Rn(s,a.treeForkCount),t):($e(s),null);case 22:case 23:return Ht(s),Du(),a=s.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(s.flags|=8192):a&&(s.flags|=8192),a?(l&536870912)!==0&&(s.flags&128)===0&&($e(s),s.subtreeFlags&6&&(s.flags|=8192)):$e(s),l=s.updateQueue,l!==null&&nr(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(s.flags|=2048),t!==null&&J(Di),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),In(tt),$e(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function jT(t,s){switch(yu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return In(tt),Je(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return hl(s),null;case 31:if(s.memoizedState!==null){if(Ht(s),s.alternate===null)throw Error(o(340));Ni()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ht(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Ni()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(je),null;case 4:return Je(),null;case 10:return In(s.type),null;case 22:case 23:return Ht(s),Du(),t!==null&&J(Di),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return In(tt),null;case 25:return null;default:return null}}function sp(t,s){switch(yu(s),s.tag){case 3:In(tt),Je();break;case 26:case 27:case 5:hl(s);break;case 4:Je();break;case 31:s.memoizedState!==null&&Ht(s);break;case 13:Ht(s);break;case 19:J(je);break;case 10:In(s.type);break;case 22:case 23:Ht(s),Du(),t!==null&&J(Di);break;case 24:In(tt)}}function Ao(t,s){try{var l=s.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var h=a.next;l=h;do{if((l.tag&t)===t){a=void 0;var g=l.create,S=l.inst;a=g(),S.destroy=a}l=l.next}while(l!==h)}}catch(A){Ge(s,s.return,A)}}function oi(t,s,l){try{var a=s.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var g=h.next;a=g;do{if((a.tag&t)===t){var S=a.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,h=s;var x=l,U=A;try{U()}catch(V){Ge(h,x,V)}}}a=a.next}while(a!==g)}}catch(V){Ge(s,s.return,V)}}function op(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{Kh(s,l)}catch(a){Ge(t,t.return,a)}}}function lp(t,s,l){l.props=Oi(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(a){Ge(t,s,a)}}function Co(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof l=="function"?t.refCleanup=l(a):l.current=a}}catch(h){Ge(t,s,h)}}function vn(t,s){var l=t.ref,a=t.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(h){Ge(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ge(t,s,h)}else l.current=null}function rp(t){var s=t.type,l=t.memoizedProps,a=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(h){Ge(t,t.return,h)}}function cc(t,s,l){try{var a=t.stateNode;TE(a,t.type,l,s),a[xt]=s}catch(h){Ge(t,t.return,h)}}function ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&di(t.type)||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dc(t,s,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xn));else if(a!==4&&(a===27&&di(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(dc(t,s,l),t=t.sibling;t!==null;)dc(t,s,l),t=t.sibling}function ir(t,s,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(a!==4&&(a===27&&di(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(ir(t,s,l),t=t.sibling;t!==null;)ir(t,s,l),t=t.sibling}function up(t){var s=t.stateNode,l=t.memoizedProps;try{for(var a=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);yt(s,a,l),s[ht]=t,s[xt]=l}catch(g){Ge(t,t.return,g)}}var kn=!1,st=!1,hc=!1,cp=typeof WeakSet=="function"?WeakSet:Set,ut=null;function eE(t,s){if(t=t.containerInfo,Lc=Cr,t=Eh(t),lu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var h=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,A=-1,x=-1,U=0,V=0,Y=t,k=null;t:for(;;){for(var P;Y!==l||h!==0&&Y.nodeType!==3||(A=S+h),Y!==g||a!==0&&Y.nodeType!==3||(x=S+a),Y.nodeType===3&&(S+=Y.nodeValue.length),(P=Y.firstChild)!==null;)k=Y,Y=P;for(;;){if(Y===t)break t;if(k===l&&++U===h&&(A=S),k===g&&++V===a&&(x=S),(P=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=P}l=A===-1||x===-1?null:{start:A,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(kc={focusedElem:t,selectionRange:l},Cr=!1,ut=s;ut!==null;)if(s=ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ut=t;else for(;ut!==null;){switch(s=ut,g=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)h=t[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,l=s,h=g.memoizedProps,g=g.memoizedState,a=l.stateNode;try{var ie=Oi(l.type,h);t=a.getSnapshotBeforeUpdate(ie,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Ge(l,l.return,fe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)Gc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,ut=t;break}ut=s.return}}function fp(t,s,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:On(t,l),a&4&&Ao(5,l);break;case 1:if(On(t,l),a&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(S){Ge(l,l.return,S)}else{var h=Oi(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(l,l.return,S)}}a&64&&op(l),a&512&&Co(l,l.return);break;case 3:if(On(t,l),a&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Kh(t,s)}catch(S){Ge(l,l.return,S)}}break;case 27:s===null&&a&4&&up(l);case 26:case 5:On(t,l),s===null&&a&4&&rp(l),a&512&&Co(l,l.return);break;case 12:On(t,l);break;case 31:On(t,l),a&4&&mp(t,l);break;case 13:On(t,l),a&4&&pp(t,l),a&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=uE.bind(null,l),NE(t,l))));break;case 22:if(a=l.memoizedState!==null||kn,!a){s=s!==null&&s.memoizedState!==null||st,h=kn;var g=st;kn=a,(st=s)&&!g?Gn(t,l,(l.subtreeFlags&8772)!==0):On(t,l),kn=h,st=g}break;case 30:break;default:On(t,l)}}function dp(t){var s=t.alternate;s!==null&&(t.alternate=null,dp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&za(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ye=null,wt=!1;function Pn(t,s,l){for(l=l.child;l!==null;)hp(t,s,l),l=l.sibling}function hp(t,s,l){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Ys,l)}catch{}switch(l.tag){case 26:st||vn(l,s),Pn(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:st||vn(l,s);var a=Ye,h=wt;di(l.type)&&(Ye=l.stateNode,wt=!1),Pn(t,s,l),Uo(l.stateNode),Ye=a,wt=h;break;case 5:st||vn(l,s);case 6:if(a=Ye,h=wt,Ye=null,Pn(t,s,l),Ye=a,wt=h,Ye!==null)if(wt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(g){Ge(l,s,g)}else try{Ye.removeChild(l.stateNode)}catch(g){Ge(l,s,g)}break;case 18:Ye!==null&&(wt?(t=Ye,og(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Ns(t)):og(Ye,l.stateNode));break;case 4:a=Ye,h=wt,Ye=l.stateNode.containerInfo,wt=!0,Pn(t,s,l),Ye=a,wt=h;break;case 0:case 11:case 14:case 15:oi(2,l,s),st||oi(4,l,s),Pn(t,s,l);break;case 1:st||(vn(l,s),a=l.stateNode,typeof a.componentWillUnmount=="function"&&lp(l,s,a)),Pn(t,s,l);break;case 21:Pn(t,s,l);break;case 22:st=(a=st)||l.memoizedState!==null,Pn(t,s,l),st=a;break;default:Pn(t,s,l)}}function mp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(l){Ge(s,s.return,l)}}}function pp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(l){Ge(s,s.return,l)}}function tE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new cp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new cp),s;default:throw Error(o(435,t.tag))}}function sr(t,s){var l=tE(t);s.forEach(function(a){if(!l.has(a)){l.add(a);var h=cE.bind(null,t,a);a.then(h,h)}})}function Rt(t,s){var l=s.deletions;if(l!==null)for(var a=0;a<l.length;a++){var h=l[a],g=t,S=s,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(di(A.type)){Ye=A.stateNode,wt=!1;break e}break;case 5:Ye=A.stateNode,wt=!1;break e;case 3:case 4:Ye=A.stateNode.containerInfo,wt=!0;break e}A=A.return}if(Ye===null)throw Error(o(160));hp(g,S,h),Ye=null,wt=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gp(s,t),s=s.sibling}var cn=null;function gp(t,s){var l=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rt(s,t),Nt(t),a&4&&(oi(3,t,t.return),Ao(3,t),oi(5,t,t.return));break;case 1:Rt(s,t),Nt(t),a&512&&(st||l===null||vn(l,l.return)),a&64&&kn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var h=cn;if(Rt(s,t),Nt(t),a&512&&(st||l===null||vn(l,l.return)),a&4){var g=l!==null?l.memoizedState:null;if(a=t.memoizedState,l===null)if(a===null)if(t.stateNode===null){e:{a=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Qs]||g[ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(a),h.head.insertBefore(g,h.querySelector("head > title"))),yt(g,a,l),g[ht]=t,at(g),a=g;break e;case"link":var S=gg("link","href",h).get(a+(l.href||""));if(S){for(var A=0;A<S.length;A++)if(g=S[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(A,1);break t}}g=h.createElement(a),yt(g,a,l),h.head.appendChild(g);break;case"meta":if(S=gg("meta","content",h).get(a+(l.content||""))){for(A=0;A<S.length;A++)if(g=S[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(A,1);break t}}g=h.createElement(a),yt(g,a,l),h.head.appendChild(g);break;default:throw Error(o(468,a))}g[ht]=t,at(g),a=g}t.stateNode=a}else yg(h,t.type,t.stateNode);else t.stateNode=pg(h,a,t.memoizedProps);else g!==a?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,a===null?yg(h,t.type,t.stateNode):pg(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&cc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Rt(s,t),Nt(t),a&512&&(st||l===null||vn(l,l.return)),l!==null&&a&4&&cc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Rt(s,t),Nt(t),a&512&&(st||l===null||vn(l,l.return)),t.flags&32){h=t.stateNode;try{Wi(h,"")}catch(ie){Ge(t,t.return,ie)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,cc(t,h,l!==null?l.memoizedProps:h)),a&1024&&(hc=!0);break;case 6:if(Rt(s,t),Nt(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,l=t.stateNode;try{l.nodeValue=a}catch(ie){Ge(t,t.return,ie)}}break;case 3:if(Sr=null,h=cn,cn=vr(s.containerInfo),Rt(s,t),cn=h,Nt(t),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ns(s.containerInfo)}catch(ie){Ge(t,t.return,ie)}hc&&(hc=!1,yp(t));break;case 4:a=cn,cn=vr(t.stateNode.containerInfo),Rt(s,t),Nt(t),cn=a;break;case 12:Rt(s,t),Nt(t);break;case 31:Rt(s,t),Nt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,sr(t,a)));break;case 13:Rt(s,t),Nt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lr=Ut()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,sr(t,a)));break;case 22:h=t.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,U=kn,V=st;if(kn=U||h,st=V||x,Rt(s,t),st=V,kn=U,Nt(t),a&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||x||kn||st||Gi(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){x=l=s;try{if(g=x.stateNode,h)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=x.stateNode;var Y=x.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;A.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ie){Ge(x,x.return,ie)}}}else if(s.tag===6){if(l===null){x=s;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ie){Ge(x,x.return,ie)}}}else if(s.tag===18){if(l===null){x=s;try{var P=x.stateNode;h?lg(P,!0):lg(x.stateNode,!1)}catch(ie){Ge(x,x.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}a&4&&(a=t.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,sr(t,l))));break;case 19:Rt(s,t),Nt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,sr(t,a)));break;case 30:break;case 21:break;default:Rt(s,t),Nt(t)}}function Nt(t){var s=t.flags;if(s&2){try{for(var l,a=t.return;a!==null;){if(ap(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var h=l.stateNode,g=fc(t);ir(t,g,h);break;case 5:var S=l.stateNode;l.flags&32&&(Wi(S,""),l.flags&=-33);var A=fc(t);ir(t,A,S);break;case 3:case 4:var x=l.stateNode.containerInfo,U=fc(t);dc(t,U,x);break;default:throw Error(o(161))}}catch(V){Ge(t,t.return,V)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function yp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;yp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function On(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fp(t,s.alternate,s),s=s.sibling}function Gi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:oi(4,s,s.return),Gi(s);break;case 1:vn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&lp(s,s.return,l),Gi(s);break;case 27:Uo(s.stateNode);case 26:case 5:vn(s,s.return),Gi(s);break;case 22:s.memoizedState===null&&Gi(s);break;case 30:Gi(s);break;default:Gi(s)}t=t.sibling}}function Gn(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var a=s.alternate,h=t,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:Gn(h,g,l),Ao(4,g);break;case 1:if(Gn(h,g,l),a=g,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ge(a,a.return,U)}if(a=g,h=a.updateQueue,h!==null){var A=a.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Xh(x[h],A)}catch(U){Ge(a,a.return,U)}}l&&S&64&&op(g),Co(g,g.return);break;case 27:up(g);case 26:case 5:Gn(h,g,l),l&&a===null&&S&4&&rp(g),Co(g,g.return);break;case 12:Gn(h,g,l);break;case 31:Gn(h,g,l),l&&S&4&&mp(h,g);break;case 13:Gn(h,g,l),l&&S&4&&pp(h,g);break;case 22:g.memoizedState===null&&Gn(h,g,l),Co(g,g.return);break;case 30:break;default:Gn(h,g,l)}s=s.sibling}}function mc(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&uo(l))}function pc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&uo(t))}function fn(t,s,l,a){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vp(t,s,l,a),s=s.sibling}function vp(t,s,l,a){var h=s.flags;switch(s.tag){case 0:case 11:case 15:fn(t,s,l,a),h&2048&&Ao(9,s);break;case 1:fn(t,s,l,a);break;case 3:fn(t,s,l,a),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&uo(t)));break;case 12:if(h&2048){fn(t,s,l,a),t=s.stateNode;try{var g=s.memoizedProps,S=g.id,A=g.onPostCommit;typeof A=="function"&&A(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ge(s,s.return,x)}}else fn(t,s,l,a);break;case 31:fn(t,s,l,a);break;case 13:fn(t,s,l,a);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?fn(t,s,l,a):xo(t,s):g._visibility&2?fn(t,s,l,a):(g._visibility|=2,vs(t,s,l,a,(s.subtreeFlags&10256)!==0||!1)),h&2048&&mc(S,s);break;case 24:fn(t,s,l,a),h&2048&&pc(s.alternate,s);break;default:fn(t,s,l,a)}}function vs(t,s,l,a,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=t,S=s,A=l,x=a,U=S.flags;switch(S.tag){case 0:case 11:case 15:vs(g,S,A,x,h),Ao(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?vs(g,S,A,x,h):xo(g,S):(V._visibility|=2,vs(g,S,A,x,h)),h&&U&2048&&mc(S.alternate,S);break;case 24:vs(g,S,A,x,h),h&&U&2048&&pc(S.alternate,S);break;default:vs(g,S,A,x,h)}s=s.sibling}}function xo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,a=s,h=a.flags;switch(a.tag){case 22:xo(l,a),h&2048&&mc(a.alternate,a);break;case 24:xo(l,a),h&2048&&pc(a.alternate,a);break;default:xo(l,a)}s=s.sibling}}var bo=8192;function _s(t,s,l){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)_p(t,s,l),t=t.sibling}function _p(t,s,l){switch(t.tag){case 26:_s(t,s,l),t.flags&bo&&t.memoizedState!==null&&BE(l,cn,t.memoizedState,t.memoizedProps);break;case 5:_s(t,s,l);break;case 3:case 4:var a=cn;cn=vr(t.stateNode.containerInfo),_s(t,s,l),cn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=bo,bo=16777216,_s(t,s,l),bo=a):_s(t,s,l));break;default:_s(t,s,l)}}function Sp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function wo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];ut=a,Ep(a,t)}Sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tp(t),t=t.sibling}function Tp(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&oi(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,or(t)):wo(t);break;default:wo(t)}}function or(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];ut=a,Ep(a,t)}Sp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:oi(8,s,s.return),or(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,or(s));break;default:or(s)}t=t.sibling}}function Ep(t,s){for(;ut!==null;){var l=ut;switch(l.tag){case 0:case 11:case 15:oi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:uo(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,ut=a;else e:for(l=t;ut!==null;){a=ut;var h=a.sibling,g=a.return;if(dp(a),a===l){ut=null;break e}if(h!==null){h.return=g,ut=h;break e}ut=g}}}var nE={getCacheForType:function(t){var s=pt(tt),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l},cacheSignal:function(){return pt(tt).controller.signal}},iE=typeof WeakMap=="function"?WeakMap:Map,ke=0,ze=null,xe=null,we=0,Oe=0,qt=null,li=!1,Ss=!1,gc=!1,Hn=0,Ze=0,ri=0,Hi=0,yc=0,Bt=0,Ts=0,Ro=null,It=null,vc=!1,lr=0,Ap=0,rr=1/0,ar=null,ai=null,ot=0,ui=null,Es=null,qn=0,_c=0,Sc=null,Cp=null,No=0,Tc=null;function Vt(){return(ke&2)!==0&&we!==0?we&-we:q.T!==null?wc():qd()}function xp(){if(Bt===0)if((we&536870912)===0||Ne){var t=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),Bt=t}else Bt=536870912;return t=Gt.current,t!==null&&(t.flags|=32),Bt}function Mt(t,s,l){(t===ze&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(As(t,0),ci(t,we,Bt,!1)),Ks(t,l),((ke&2)===0||t!==ze)&&(t===ze&&((ke&2)===0&&(Hi|=l),Ze===4&&ci(t,we,Bt,!1)),_n(t))}function bp(t,s,l){if((ke&6)!==0)throw Error(o(327));var a=!l&&(s&127)===0&&(s&t.expiredLanes)===0||Xs(t,s),h=a?lE(t,s):Ac(t,s,!0),g=a;do{if(h===0){Ss&&!a&&ci(t,s,0,!1);break}else{if(l=t.current.alternate,g&&!sE(l)){h=Ac(t,s,!1),g=!1;continue}if(h===2){if(g=s,t.errorRecoveryDisabledLanes&g)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var A=t;h=Ro;var x=A.current.memoizedState.isDehydrated;if(x&&(As(A,S).flags|=256),S=Ac(A,S,!1),S!==2){if(gc&&!x){A.errorRecoveryDisabledLanes|=g,Hi|=g,h=4;break e}g=It,It=h,g!==null&&(It===null?It=g:It.push.apply(It,g))}h=S}if(g=!1,h!==2)continue}}if(h===1){As(t,0),ci(t,s,0,!0);break}e:{switch(a=t,g=h,g){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ci(a,s,Bt,!li);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(h=lr+300-Ut(),10<h)){if(ci(a,s,Bt,!li),vl(a,0,!0)!==0)break e;qn=s,a.timeoutHandle=ig(wp.bind(null,a,l,It,ar,vc,s,Bt,Hi,Ts,li,g,"Throttled",-0,0),h);break e}wp(a,l,It,ar,vc,s,Bt,Hi,Ts,li,g,null,-0,0)}}break}while(!0);_n(t)}function wp(t,s,l,a,h,g,S,A,x,U,V,Y,k,P){if(t.timeoutHandle=-1,Y=s.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},_p(s,g,Y);var ie=(g&62914560)===g?lr-Ut():(g&4194048)===g?Ap-Ut():0;if(ie=VE(Y,ie),ie!==null){qn=g,t.cancelPendingCommit=ie(kp.bind(null,t,s,g,l,a,h,S,A,x,V,Y,null,k,P)),ci(t,g,S,!U);return}}kp(t,s,g,l,a,h,S,A,x)}function sE(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var h=l[a],g=h.getSnapshot;h=h.value;try{if(!Pt(g(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ci(t,s,l,a){s&=~yc,s&=~Hi,t.suspendedLanes|=s,t.pingedLanes&=~s,a&&(t.warmLanes|=s),a=t.expirationTimes;for(var h=s;0<h;){var g=31-kt(h),S=1<<g;a[g]=-1,h&=~S}l!==0&&Od(t,l,s)}function ur(){return(ke&6)===0?(Io(0),!1):!0}function Ec(){if(xe!==null){if(Oe===0)var t=xe.return;else t=xe,Nn=Ii=null,Gu(t),hs=null,fo=0,t=xe;for(;t!==null;)sp(t.alternate,t),t=t.return;xe=null}}function As(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,CE(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),qn=0,Ec(),ze=t,xe=l=wn(t.current,null),we=s,Oe=0,qt=null,li=!1,Ss=Xs(t,s),gc=!1,Ts=Bt=yc=Hi=ri=Ze=0,It=Ro=null,vc=!1,(s&8)!==0&&(s|=s&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=s;0<a;){var h=31-kt(a),g=1<<h;s|=t[h],a&=~g}return Hn=s,Il(),l}function Rp(t,s){ve=null,q.H=So,s===ds||s===Gl?(s=Fh(),Oe=3):s===bu?(s=Fh(),Oe=4):Oe=s===ec?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qt=s,xe===null&&(Ze=1,Wl(t,Wt(s,t.current)))}function Np(){var t=Gt.current;return t===null?!0:(we&4194048)===we?nn===null:(we&62914560)===we||(we&536870912)!==0?t===nn:!1}function Ip(){var t=q.H;return q.H=So,t===null?So:t}function Mp(){var t=q.A;return q.A=nE,t}function cr(){Ze=4,li||(we&4194048)!==we&&Gt.current!==null||(Ss=!0),(ri&134217727)===0&&(Hi&134217727)===0||ze===null||ci(ze,we,Bt,!1)}function Ac(t,s,l){var a=ke;ke|=2;var h=Ip(),g=Mp();(ze!==t||we!==s)&&(ar=null,As(t,s)),s=!1;var S=Ze;e:do try{if(Oe!==0&&xe!==null){var A=xe,x=qt;switch(Oe){case 8:Ec(),S=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(s=!0);var U=Oe;if(Oe=0,qt=null,Cs(t,A,x,U),l&&Ss){S=0;break e}break;default:U=Oe,Oe=0,qt=null,Cs(t,A,x,U)}}oE(),S=Ze;break}catch(V){Rp(t,V)}while(!0);return s&&t.shellSuspendCounter++,Nn=Ii=null,ke=a,q.H=h,q.A=g,xe===null&&(ze=null,we=0,Il()),S}function oE(){for(;xe!==null;)Dp(xe)}function lE(t,s){var l=ke;ke|=2;var a=Ip(),h=Mp();ze!==t||we!==s?(ar=null,rr=Ut()+500,As(t,s)):Ss=Xs(t,s);e:do try{if(Oe!==0&&xe!==null){s=xe;var g=qt;t:switch(Oe){case 1:Oe=0,qt=null,Cs(t,s,g,1);break;case 2:case 9:if(Vh(g)){Oe=0,qt=null,Up(s);break}s=function(){Oe!==2&&Oe!==9||ze!==t||(Oe=7),_n(t)},g.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Vh(g)?(Oe=0,qt=null,Up(s)):(Oe=0,qt=null,Cs(t,s,g,7));break;case 5:var S=null;switch(xe.tag){case 26:S=xe.memoizedState;case 5:case 27:var A=xe;if(S?vg(S):A.stateNode.complete){Oe=0,qt=null;var x=A.sibling;if(x!==null)xe=x;else{var U=A.return;U!==null?(xe=U,fr(U)):xe=null}break t}}Oe=0,qt=null,Cs(t,s,g,5);break;case 6:Oe=0,qt=null,Cs(t,s,g,6);break;case 8:Ec(),Ze=6;break e;default:throw Error(o(462))}}rE();break}catch(V){Rp(t,V)}while(!0);return Nn=Ii=null,q.H=a,q.A=h,ke=l,xe!==null?0:(ze=null,we=0,Il(),Ze)}function rE(){for(;xe!==null&&!IS();)Dp(xe)}function Dp(t){var s=np(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,s===null?fr(t):xe=s}function Up(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=Qm(l,s,s.pendingProps,s.type,void 0,we);break;case 11:s=Qm(l,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:Gu(s);default:sp(l,s),s=xe=Mh(s,Hn),s=np(l,s,Hn)}t.memoizedProps=t.pendingProps,s===null?fr(t):xe=s}function Cs(t,s,l,a){Nn=Ii=null,Gu(s),hs=null,fo=0;var h=s.return;try{if(KT(t,h,s,l,we)){Ze=1,Wl(t,Wt(l,t.current)),xe=null;return}}catch(g){if(h!==null)throw xe=h,g;Ze=1,Wl(t,Wt(l,t.current)),xe=null;return}s.flags&32768?(Ne||a===1?t=!0:Ss||(we&536870912)!==0?t=!1:(li=t=!0,(a===2||a===9||a===3||a===6)&&(a=Gt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Lp(s,t)):fr(s)}function fr(t){var s=t;do{if((s.flags&32768)!==0){Lp(s,li);return}t=s.return;var l=WT(s.alternate,s,Hn);if(l!==null){xe=l;return}if(s=s.sibling,s!==null){xe=s;return}xe=s=t}while(s!==null);Ze===0&&(Ze=5)}function Lp(t,s){do{var l=jT(t.alternate,t);if(l!==null){l.flags&=32767,xe=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){xe=t;return}xe=t=l}while(t!==null);Ze=6,xe=null}function kp(t,s,l,a,h,g,S,A,x){t.cancelPendingCommit=null;do dr();while(ot!==0);if((ke&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(g=s.lanes|s.childLanes,g|=fu,qS(t,l,g,S,A,x),t===ze&&(xe=ze=null,we=0),Es=s,ui=t,qn=l,_c=g,Sc=h,Cp=a,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fE(ml,function(){return qp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null,h=K.p,K.p=2,S=ke,ke|=4;try{eE(t,s,l)}finally{ke=S,K.p=h,q.T=a}}ot=1,Pp(),Op(),Gp()}}function Pp(){if(ot===1){ot=0;var t=ui,s=Es,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var a=K.p;K.p=2;var h=ke;ke|=4;try{gp(s,t);var g=kc,S=Eh(t.containerInfo),A=g.focusedElem,x=g.selectionRange;if(S!==A&&A&&A.ownerDocument&&Th(A.ownerDocument.documentElement,A)){if(x!==null&&lu(A)){var U=x.start,V=x.end;if(V===void 0&&(V=U),"selectionStart"in A)A.selectionStart=U,A.selectionEnd=Math.min(V,A.value.length);else{var Y=A.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var P=k.getSelection(),ie=A.textContent.length,fe=Math.min(x.start,ie),Ve=x.end===void 0?fe:Math.min(x.end,ie);!P.extend&&fe>Ve&&(S=Ve,Ve=fe,fe=S);var M=Sh(A,fe),w=Sh(A,Ve);if(M&&w&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==w.node||P.focusOffset!==w.offset)){var D=Y.createRange();D.setStart(M.node,M.offset),P.removeAllRanges(),fe>Ve?(P.addRange(D),P.extend(w.node,w.offset)):(D.setEnd(w.node,w.offset),P.addRange(D))}}}}for(Y=[],P=A;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Y.length;A++){var F=Y[A];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Cr=!!Lc,kc=Lc=null}finally{ke=h,K.p=a,q.T=l}}t.current=s,ot=2}}function Op(){if(ot===2){ot=0;var t=ui,s=Es,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var a=K.p;K.p=2;var h=ke;ke|=4;try{fp(t,s.alternate,s)}finally{ke=h,K.p=a,q.T=l}}ot=3}}function Gp(){if(ot===4||ot===3){ot=0,MS();var t=ui,s=Es,l=qn,a=Cp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ot=5:(ot=0,Es=ui=null,Hp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ai=null),Ba(l),s=s.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Ys,s,void 0,(s.current.flags&128)===128)}catch{}if(a!==null){s=q.T,h=K.p,K.p=2,q.T=null;try{for(var g=t.onRecoverableError,S=0;S<a.length;S++){var A=a[S];g(A.value,{componentStack:A.stack})}}finally{q.T=s,K.p=h}}(qn&3)!==0&&dr(),_n(t),h=t.pendingLanes,(l&261930)!==0&&(h&42)!==0?t===Tc?No++:(No=0,Tc=t):No=0,Io(0)}}function Hp(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,uo(s)))}function dr(){return Pp(),Op(),Gp(),qp()}function qp(){if(ot!==5)return!1;var t=ui,s=_c;_c=0;var l=Ba(qn),a=q.T,h=K.p;try{K.p=32>l?32:l,q.T=null,l=Sc,Sc=null;var g=ui,S=qn;if(ot=0,Es=ui=null,qn=0,(ke&6)!==0)throw Error(o(331));var A=ke;if(ke|=4,Tp(g.current),vp(g,g.current,S,l),ke=A,Io(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Ys,g)}catch{}return!0}finally{K.p=h,q.T=a,Hp(t,s)}}function Bp(t,s,l){s=Wt(l,s),s=ju(t.stateNode,s,2),t=ni(t,s,2),t!==null&&(Ks(t,2),_n(t))}function Ge(t,s,l){if(t.tag===3)Bp(t,t,l);else for(;s!==null;){if(s.tag===3){Bp(s,t,l);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ai===null||!ai.has(a))){t=Wt(l,t),l=Vm(2),a=ni(s,l,2),a!==null&&(zm(l,a,s,t),Ks(a,2),_n(a));break}}s=s.return}}function Cc(t,s,l){var a=t.pingCache;if(a===null){a=t.pingCache=new iE;var h=new Set;a.set(s,h)}else h=a.get(s),h===void 0&&(h=new Set,a.set(s,h));h.has(l)||(gc=!0,h.add(l),t=aE.bind(null,t,s,l),s.then(t,t))}function aE(t,s,l){var a=t.pingCache;a!==null&&a.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,ze===t&&(we&l)===l&&(Ze===4||Ze===3&&(we&62914560)===we&&300>Ut()-lr?(ke&2)===0&&As(t,0):yc|=l,Ts===we&&(Ts=0)),_n(t)}function Vp(t,s){s===0&&(s=Pd()),t=wi(t,s),t!==null&&(Ks(t,s),_n(t))}function uE(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),Vp(t,l)}function cE(t,s){var l=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(s),Vp(t,l)}function fE(t,s){return Oa(t,s)}var hr=null,xs=null,xc=!1,mr=!1,bc=!1,fi=0;function _n(t){t!==xs&&t.next===null&&(xs===null?hr=xs=t:xs=xs.next=t),mr=!0,xc||(xc=!0,hE())}function Io(t,s){if(!bc&&mr){bc=!0;do for(var l=!1,a=hr;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var g=0;else{var S=a.suspendedLanes,A=a.pingedLanes;g=(1<<31-kt(42|t)+1)-1,g&=h&~(S&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Jp(a,g))}else g=we,g=vl(a,a===ze?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Xs(a,g)||(l=!0,Jp(a,g));a=a.next}while(l);bc=!1}}function dE(){zp()}function zp(){mr=xc=!1;var t=0;fi!==0&&AE()&&(t=fi);for(var s=Ut(),l=null,a=hr;a!==null;){var h=a.next,g=Fp(a,s);g===0?(a.next=null,l===null?hr=h:l.next=h,h===null&&(xs=l)):(l=a,(t!==0||(g&3)!==0)&&(mr=!0)),a=h}ot!==0&&ot!==5||Io(t),fi!==0&&(fi=0)}function Fp(t,s){for(var l=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var S=31-kt(g),A=1<<S,x=h[S];x===-1?((A&l)===0||(A&a)!==0)&&(h[S]=HS(A,s)):x<=s&&(t.expiredLanes|=A),g&=~A}if(s=ze,l=we,l=vl(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,l===0||t===s&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Ga(a),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Xs(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(a!==null&&Ga(a),Ba(l)){case 2:case 8:l=Ld;break;case 32:l=ml;break;case 268435456:l=kd;break;default:l=ml}return a=$p.bind(null,t),l=Oa(l,a),t.callbackPriority=s,t.callbackNode=l,s}return a!==null&&a!==null&&Ga(a),t.callbackPriority=2,t.callbackNode=null,2}function $p(t,s){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(dr()&&t.callbackNode!==l)return null;var a=we;return a=vl(t,t===ze?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(bp(t,a,s),Fp(t,Ut()),t.callbackNode!=null&&t.callbackNode===l?$p.bind(null,t):null)}function Jp(t,s){if(dr())return null;bp(t,s,!0)}function hE(){xE(function(){(ke&6)!==0?Oa(Ud,dE):zp()})}function wc(){if(fi===0){var t=cs;t===0&&(t=pl,pl<<=1,(pl&261888)===0&&(pl=256)),fi=t}return fi}function Yp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:El(""+t)}function Xp(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function mE(t,s,l,a,h){if(s==="submit"&&l&&l.stateNode===h){var g=Yp((h[xt]||null).action),S=a.submitter;S&&(s=(s=S[xt]||null)?Yp(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var A=new bl("action","action",null,a,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(fi!==0){var x=S?Xp(h,S):new FormData(h);Yu(l,{pending:!0,data:x,method:h.method,action:g},null,x)}}else typeof g=="function"&&(A.preventDefault(),x=S?Xp(h,S):new FormData(h),Yu(l,{pending:!0,data:x,method:h.method,action:g},g,x))},currentTarget:h}]})}}for(var Rc=0;Rc<cu.length;Rc++){var Nc=cu[Rc],pE=Nc.toLowerCase(),gE=Nc[0].toUpperCase()+Nc.slice(1);un(pE,"on"+gE)}un(xh,"onAnimationEnd"),un(bh,"onAnimationIteration"),un(wh,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(DT,"onTransitionRun"),un(UT,"onTransitionStart"),un(LT,"onTransitionCancel"),un(Rh,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function Kp(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var a=t[l],h=a.event;a=a.listeners;e:{var g=void 0;if(s)for(var S=a.length-1;0<=S;S--){var A=a[S],x=A.instance,U=A.currentTarget;if(A=A.listener,x!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=U;try{g(h)}catch(V){Nl(V)}h.currentTarget=null,g=x}else for(S=0;S<a.length;S++){if(A=a[S],x=A.instance,U=A.currentTarget,A=A.listener,x!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=U;try{g(h)}catch(V){Nl(V)}h.currentTarget=null,g=x}}}}function be(t,s){var l=s[Va];l===void 0&&(l=s[Va]=new Set);var a=t+"__bubble";l.has(a)||(Qp(s,t,2,!1),l.add(a))}function Ic(t,s,l){var a=0;s&&(a|=4),Qp(l,t,a,s)}var pr="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[pr]){t[pr]=!0,zd.forEach(function(l){l!=="selectionchange"&&(yE.has(l)||Ic(l,!1,t),Ic(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[pr]||(s[pr]=!0,Ic("selectionchange",!1,s))}}function Qp(t,s,l,a){switch(xg(s)){case 2:var h=$E;break;case 8:h=JE;break;default:h=Jc}l=h.bind(null,s,l,t),h=void 0,!Za||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(s,l,{capture:!0,passive:h}):t.addEventListener(s,l,!0):h!==void 0?t.addEventListener(s,l,{passive:h}):t.addEventListener(s,l,!1)}function Dc(t,s,l,a,h){var g=a;if((s&1)===0&&(s&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var A=a.stateNode.containerInfo;if(A===h)break;if(S===4)for(S=a.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;A!==null;){if(S=Yi(A),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){a=g=S;continue e}A=A.parentNode}}a=a.return}th(function(){var U=g,V=Ka(l),Y=[];e:{var k=Nh.get(t);if(k!==void 0){var P=bl,ie=t;switch(t){case"keypress":if(Cl(l)===0)break e;case"keydown":case"keyup":P=cT;break;case"focusin":ie="focus",P=tu;break;case"focusout":ie="blur",P=tu;break;case"beforeblur":case"afterblur":P=tu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=hT;break;case xh:case bh:case wh:P=tT;break;case Rh:P=pT;break;case"scroll":case"scrollend":P=QS;break;case"wheel":P=yT;break;case"copy":case"cut":case"paste":P=iT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=lh;break;case"toggle":case"beforetoggle":P=_T}var fe=(s&4)!==0,Ve=!fe&&(t==="scroll"||t==="scrollend"),M=fe?k!==null?k+"Capture":null:k;fe=[];for(var w=U,D;w!==null;){var F=w;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||M===null||(F=Ws(w,M),F!=null&&fe.push(Do(w,F,D))),Ve)break;w=w.return}0<fe.length&&(k=new P(k,ie,null,l,V),Y.push({event:k,listeners:fe}))}}if((s&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&l!==Xa&&(ie=l.relatedTarget||l.fromElement)&&(Yi(ie)||ie[Ji]))break e;if((P||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,P?(ie=l.relatedTarget||l.toElement,P=U,ie=ie?Yi(ie):null,ie!==null&&(Ve=u(ie),fe=ie.tag,ie!==Ve||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(P=null,ie=U),P!==ie)){if(fe=sh,F="onMouseLeave",M="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(fe=lh,F="onPointerLeave",M="onPointerEnter",w="pointer"),Ve=P==null?k:Zs(P),D=ie==null?k:Zs(ie),k=new fe(F,w+"leave",P,l,V),k.target=Ve,k.relatedTarget=D,F=null,Yi(V)===U&&(fe=new fe(M,w+"enter",ie,l,V),fe.target=D,fe.relatedTarget=Ve,F=fe),Ve=F,P&&ie)t:{for(fe=vE,M=P,w=ie,D=0,F=M;F;F=fe(F))D++;F=0;for(var ae=w;ae;ae=fe(ae))F++;for(;0<D-F;)M=fe(M),D--;for(;0<F-D;)w=fe(w),F--;for(;D--;){if(M===w||w!==null&&M===w.alternate){fe=M;break t}M=fe(M),w=fe(w)}fe=null}else fe=null;P!==null&&Zp(Y,k,P,fe,!1),ie!==null&&Ve!==null&&Zp(Y,Ve,ie,fe,!0)}}e:{if(k=U?Zs(U):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var De=mh;else if(dh(k))if(ph)De=NT;else{De=wT;var le=bT}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&Ya(U.elementType)&&(De=mh):De=RT;if(De&&(De=De(t,U))){hh(Y,De,l,V);break e}le&&le(t,k,U),t==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&Ja(k,"number",k.value)}switch(le=U?Zs(U):window,t){case"focusin":(dh(le)||le.contentEditable==="true")&&(ns=le,ru=U,lo=null);break;case"focusout":lo=ru=ns=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Ah(Y,l,V);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":Ah(Y,l,V)}var Se;if(iu)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ts?ch(t,l)&&(Re="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(rh&&l.locale!=="ko"&&(ts||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ts&&(Se=nh()):(Kn=V,Wa="value"in Kn?Kn.value:Kn.textContent,ts=!0)),le=gr(U,Re),0<le.length&&(Re=new oh(Re,t,null,l,V),Y.push({event:Re,listeners:le}),Se?Re.data=Se:(Se=fh(l),Se!==null&&(Re.data=Se)))),(Se=TT?ET(t,l):AT(t,l))&&(Re=gr(U,"onBeforeInput"),0<Re.length&&(le=new oh("onBeforeInput","beforeinput",null,l,V),Y.push({event:le,listeners:Re}),le.data=Se)),mE(Y,t,U,l,V)}Kp(Y,s)})}function Do(t,s,l){return{instance:t,listener:s,currentTarget:l}}function gr(t,s){for(var l=s+"Capture",a=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ws(t,l),h!=null&&a.unshift(Do(t,h,g)),h=Ws(t,s),h!=null&&a.push(Do(t,h,g))),t.tag===3)return a;t=t.return}return[]}function vE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zp(t,s,l,a,h){for(var g=s._reactName,S=[];l!==null&&l!==a;){var A=l,x=A.alternate,U=A.stateNode;if(A=A.tag,x!==null&&x===a)break;A!==5&&A!==26&&A!==27||U===null||(x=U,h?(U=Ws(l,g),U!=null&&S.unshift(Do(l,U,x))):h||(U=Ws(l,g),U!=null&&S.push(Do(l,U,x)))),l=l.return}S.length!==0&&t.push({event:s,listeners:S})}var _E=/\r\n?/g,SE=/\u0000|\uFFFD/g;function Wp(t){return(typeof t=="string"?t:""+t).replace(_E,`
`).replace(SE,"")}function jp(t,s){return s=Wp(s),Wp(t)===s}function Be(t,s,l,a,h,g){switch(l){case"children":typeof a=="string"?s==="body"||s==="textarea"&&a===""||Wi(t,a):(typeof a=="number"||typeof a=="bigint")&&s!=="body"&&Wi(t,""+a);break;case"className":Sl(t,"class",a);break;case"tabIndex":Sl(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(t,l,a);break;case"style":jd(t,a,g);break;case"data":if(s!=="object"){Sl(t,"data",a);break}case"src":case"href":if(a===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=El(""+a),t.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&Be(t,s,"name",h.name,h,null),Be(t,s,"formEncType",h.formEncType,h,null),Be(t,s,"formMethod",h.formMethod,h,null),Be(t,s,"formTarget",h.formTarget,h,null)):(Be(t,s,"encType",h.encType,h,null),Be(t,s,"method",h.method,h,null),Be(t,s,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=El(""+a),t.setAttribute(l,a);break;case"onClick":a!=null&&(t.onclick=xn);break;case"onScroll":a!=null&&be("scroll",t);break;case"onScrollEnd":a!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}l=El(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""+a):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":a===!0?t.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,a):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(l,a):t.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(l):t.setAttribute(l,a);break;case"popover":be("beforetoggle",t),be("toggle",t),_l(t,"popover",a);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_l(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=XS.get(l)||l,_l(t,l,a))}}function Uc(t,s,l,a,h,g){switch(l){case"style":jd(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"children":typeof a=="string"?Wi(t,a):(typeof a=="number"||typeof a=="bigint")&&Wi(t,""+a);break;case"onScroll":a!=null&&be("scroll",t);break;case"onScrollEnd":a!=null&&be("scrollend",t);break;case"onClick":a!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),g=t[xt]||null,g=g!=null?g[l]:null,typeof g=="function"&&t.removeEventListener(s,g,h),typeof a=="function")){typeof g!="function"&&g!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,a,h);break e}l in t?t[l]=a:a===!0?t.setAttribute(l,""):_l(t,l,a)}}}function yt(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var a=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Be(t,s,g,S,l,null)}}h&&Be(t,s,"srcSet",l.srcSet,l,null),a&&Be(t,s,"src",l.src,l,null);return;case"input":be("invalid",t);var A=g=S=h=null,x=null,U=null;for(a in l)if(l.hasOwnProperty(a)){var V=l[a];if(V!=null)switch(a){case"name":h=V;break;case"type":S=V;break;case"checked":x=V;break;case"defaultChecked":U=V;break;case"value":g=V;break;case"defaultValue":A=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,s));break;default:Be(t,s,a,V,l,null)}}Kd(t,g,A,x,U,S,h,!1);return;case"select":be("invalid",t),a=S=g=null;for(h in l)if(l.hasOwnProperty(h)&&(A=l[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":S=A;break;case"multiple":a=A;default:Be(t,s,h,A,l,null)}s=g,l=S,t.multiple=!!a,s!=null?Zi(t,!!a,s,!1):l!=null&&Zi(t,!!a,l,!0);return;case"textarea":be("invalid",t),g=h=a=null;for(S in l)if(l.hasOwnProperty(S)&&(A=l[S],A!=null))switch(S){case"value":a=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Be(t,s,S,A,l,null)}Zd(t,a,h,g);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(a=l[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Be(t,s,x,a,l,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(a=0;a<Mo.length;a++)be(Mo[a],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(a=l[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Be(t,s,U,a,l,null)}return;default:if(Ya(s)){for(V in l)l.hasOwnProperty(V)&&(a=l[V],a!==void 0&&Uc(t,s,V,a,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(a=l[A],a!=null&&Be(t,s,A,a,l,null))}function TE(t,s,l,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,A=null,x=null,U=null,V=null;for(P in l){var Y=l[P];if(l.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":x=Y;default:a.hasOwnProperty(P)||Be(t,s,P,null,a,Y)}}for(var k in a){var P=a[k];if(Y=l[k],a.hasOwnProperty(k)&&(P!=null||Y!=null))switch(k){case"type":g=P;break;case"name":h=P;break;case"checked":U=P;break;case"defaultChecked":V=P;break;case"value":S=P;break;case"defaultValue":A=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:P!==Y&&Be(t,s,k,P,a,Y)}}$a(t,S,A,x,U,V,g,h);return;case"select":P=S=A=k=null;for(g in l)if(x=l[g],l.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":P=x;default:a.hasOwnProperty(g)||Be(t,s,g,null,a,x)}for(h in a)if(g=a[h],x=l[h],a.hasOwnProperty(h)&&(g!=null||x!=null))switch(h){case"value":k=g;break;case"defaultValue":A=g;break;case"multiple":S=g;default:g!==x&&Be(t,s,h,g,a,x)}s=A,l=S,a=P,k!=null?Zi(t,!!l,k,!1):!!a!=!!l&&(s!=null?Zi(t,!!l,s,!0):Zi(t,!!l,l?[]:"",!1));return;case"textarea":P=k=null;for(A in l)if(h=l[A],l.hasOwnProperty(A)&&h!=null&&!a.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Be(t,s,A,null,a,h)}for(S in a)if(h=a[S],g=l[S],a.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":k=h;break;case"defaultValue":P=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==g&&Be(t,s,S,h,a,g)}Qd(t,k,P);return;case"option":for(var ie in l)if(k=l[ie],l.hasOwnProperty(ie)&&k!=null&&!a.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:Be(t,s,ie,null,a,k)}for(x in a)if(k=a[x],P=l[x],a.hasOwnProperty(x)&&k!==P&&(k!=null||P!=null))switch(x){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Be(t,s,x,k,a,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)k=l[fe],l.hasOwnProperty(fe)&&k!=null&&!a.hasOwnProperty(fe)&&Be(t,s,fe,null,a,k);for(U in a)if(k=a[U],P=l[U],a.hasOwnProperty(U)&&k!==P&&(k!=null||P!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,s));break;default:Be(t,s,U,k,a,P)}return;default:if(Ya(s)){for(var Ve in l)k=l[Ve],l.hasOwnProperty(Ve)&&k!==void 0&&!a.hasOwnProperty(Ve)&&Uc(t,s,Ve,void 0,a,k);for(V in a)k=a[V],P=l[V],!a.hasOwnProperty(V)||k===P||k===void 0&&P===void 0||Uc(t,s,V,k,a,P);return}}for(var M in l)k=l[M],l.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&Be(t,s,M,null,a,k);for(Y in a)k=a[Y],P=l[Y],!a.hasOwnProperty(Y)||k===P||k==null&&P==null||Be(t,s,Y,k,a,P)}function eg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var h=l[a],g=h.transferSize,S=h.initiatorType,A=h.duration;if(g&&A&&eg(S)){for(S=0,A=h.responseEnd,a+=1;a<l.length;a++){var x=l[a],U=x.startTime;if(U>A)break;var V=x.transferSize,Y=x.initiatorType;V&&eg(Y)&&(x=x.responseEnd,S+=V*(x<A?1:(A-U)/(x-U)))}if(--a,s+=8*(g+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lc=null,kc=null;function yr(t){return t.nodeType===9?t:t.ownerDocument}function tg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ng(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Pc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oc=null;function AE(){var t=window.event;return t&&t.type==="popstate"?t===Oc?!1:(Oc=t,!0):(Oc=null,!1)}var ig=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(t){return sg.resolve(null).then(t).catch(bE)}:ig;function bE(t){setTimeout(function(){throw t})}function di(t){return t==="head"}function og(t,s){var l=s,a=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(a===0){t.removeChild(h),Ns(s);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Uo(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Uo(l);for(var g=l.firstChild;g;){var S=g.nextSibling,A=g.nodeName;g[Qs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=S}}else l==="body"&&Uo(t.ownerDocument.body);l=h}while(l);Ns(s)}function lg(t,s){var l=t;t=0;do{var a=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=a}while(l)}function Gc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gc(l),za(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function wE(t,s,l,a){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Qs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function RE(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=sn(t.nextSibling),t===null))return null;return t}function rg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=sn(t.nextSibling),t===null))return null;return t}function Hc(t){return t.data==="$?"||t.data==="$~"}function qc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NE(t,s){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||l.readyState!=="loading")s();else{var a=function(){s(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function sn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Bc=null;function ag(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(s===0)return sn(t.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}t=t.nextSibling}return null}function ug(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return t;s--}else l!=="/$"&&l!=="/&"||s++}t=t.previousSibling}return null}function cg(t,s,l){switch(s=yr(l),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Uo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);za(t)}var on=new Map,fg=new Set;function vr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bn=K.d;K.d={f:IE,r:ME,D:DE,C:UE,L:LE,m:kE,X:OE,S:PE,M:GE};function IE(){var t=Bn.f(),s=ur();return t||s}function ME(t){var s=Xi(t);s!==null&&s.tag===5&&s.type==="form"?Rm(s):Bn.r(t)}var bs=typeof document>"u"?null:document;function dg(t,s,l){var a=bs;if(a&&typeof s=="string"&&s){var h=Qt(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),fg.has(h)||(fg.add(h),t={rel:t,crossOrigin:l,href:s},a.querySelector(h)===null&&(s=a.createElement("link"),yt(s,"link",t),at(s),a.head.appendChild(s)))}}function DE(t){Bn.D(t),dg("dns-prefetch",t,null)}function UE(t,s){Bn.C(t,s),dg("preconnect",t,s)}function LE(t,s,l){Bn.L(t,s,l);var a=bs;if(a&&t&&s){var h='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Qt(l.imageSizes)+'"]')):h+='[href="'+Qt(t)+'"]';var g=h;switch(s){case"style":g=ws(t);break;case"script":g=Rs(t)}on.has(g)||(t=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),on.set(g,t),a.querySelector(h)!==null||s==="style"&&a.querySelector(Lo(g))||s==="script"&&a.querySelector(ko(g))||(s=a.createElement("link"),yt(s,"link",t),at(s),a.head.appendChild(s)))}}function kE(t,s){Bn.m(t,s);var l=bs;if(l&&t){var a=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Qt(a)+'"][href="'+Qt(t)+'"]',g=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Rs(t)}if(!on.has(g)&&(t=_({rel:"modulepreload",href:t},s),on.set(g,t),l.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ko(g)))return}a=l.createElement("link"),yt(a,"link",t),at(a),l.head.appendChild(a)}}}function PE(t,s,l){Bn.S(t,s,l);var a=bs;if(a&&t){var h=Ki(a).hoistableStyles,g=ws(t);s=s||"default";var S=h.get(g);if(!S){var A={loading:0,preload:null};if(S=a.querySelector(Lo(g)))A.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":s},l),(l=on.get(g))&&Vc(t,l);var x=S=a.createElement("link");at(x),yt(x,"link",t),x._p=new Promise(function(U,V){x.onload=U,x.onerror=V}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_r(S,s,a)}S={type:"stylesheet",instance:S,count:1,state:A},h.set(g,S)}}}function OE(t,s){Bn.X(t,s);var l=bs;if(l&&t){var a=Ki(l).hoistableScripts,h=Rs(t),g=a.get(h);g||(g=l.querySelector(ko(h)),g||(t=_({src:t,async:!0},s),(s=on.get(h))&&zc(t,s),g=l.createElement("script"),at(g),yt(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(h,g))}}function GE(t,s){Bn.M(t,s);var l=bs;if(l&&t){var a=Ki(l).hoistableScripts,h=Rs(t),g=a.get(h);g||(g=l.querySelector(ko(h)),g||(t=_({src:t,async:!0,type:"module"},s),(s=on.get(h))&&zc(t,s),g=l.createElement("script"),at(g),yt(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(h,g))}}function hg(t,s,l,a){var h=(h=de.current)?vr(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ws(l.href),l=Ki(h).hoistableStyles,a=l.get(s),a||(a={type:"style",instance:null,count:0,state:null},l.set(s,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ws(l.href);var g=Ki(h).hoistableStyles,S=g.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,S),(g=h.querySelector(Lo(t)))&&!g._p&&(S.instance=g,S.state.loading=5),on.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},on.set(t,l),g||HE(h,t,l,S.state))),s&&a===null)throw Error(o(528,""));return S}if(s&&a!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Rs(l),l=Ki(h).hoistableScripts,a=l.get(s),a||(a={type:"script",instance:null,count:0,state:null},l.set(s,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ws(t){return'href="'+Qt(t)+'"'}function Lo(t){return'link[rel="stylesheet"]['+t+"]"}function mg(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function HE(t,s,l,a){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?a.loading=1:(s=t.createElement("link"),a.preload=s,s.addEventListener("load",function(){return a.loading|=1}),s.addEventListener("error",function(){return a.loading|=2}),yt(s,"link",l),at(s),t.head.appendChild(s))}function Rs(t){return'[src="'+Qt(t)+'"]'}function ko(t){return"script[async]"+t}function pg(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var a=t.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(a)return s.instance=a,at(a),a;var h=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),at(a),yt(a,"style",h),_r(a,l.precedence,t),s.instance=a;case"stylesheet":h=ws(l.href);var g=t.querySelector(Lo(h));if(g)return s.state.loading|=4,s.instance=g,at(g),g;a=mg(l),(h=on.get(h))&&Vc(a,h),g=(t.ownerDocument||t).createElement("link"),at(g);var S=g;return S._p=new Promise(function(A,x){S.onload=A,S.onerror=x}),yt(g,"link",a),s.state.loading|=4,_r(g,l.precedence,t),s.instance=g;case"script":return g=Rs(l.src),(h=t.querySelector(ko(g)))?(s.instance=h,at(h),h):(a=l,(h=on.get(g))&&(a=_({},l),zc(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),at(h),yt(h,"link",a),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(a=s.instance,s.state.loading|=4,_r(a,l.precedence,t));return s.instance}function _r(t,s,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,g=h,S=0;S<a.length;S++){var A=a[S];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function Vc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function zc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Sr=null;function gg(t,s,l){if(Sr===null){var a=new Map,h=Sr=new Map;h.set(l,a)}else h=Sr,a=h.get(l),a||(a=new Map,h.set(l,a));if(a.has(t))return a;for(a.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var g=l[h];if(!(g[Qs]||g[ht]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=t+S;var A=a.get(S);A?A.push(g):a.set(S,[g])}}return a}function yg(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function qE(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BE(t,s,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=ws(a.href),g=s.querySelector(Lo(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Tr.bind(t),s.then(t,t)),l.state.loading|=4,l.instance=g,at(g);return}g=s.ownerDocument||s,a=mg(a),(h=on.get(h))&&Vc(a,h),g=g.createElement("link"),at(g);var S=g;S._p=new Promise(function(A,x){S.onload=A,S.onerror=x}),yt(g,"link",a),l.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Tr.bind(t),s.addEventListener("load",l),s.addEventListener("error",l))}}var Fc=0;function VE(t,s){return t.stylesheets&&t.count===0&&Ar(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var a=setTimeout(function(){if(t.stylesheets&&Ar(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+s);0<t.imgBytes&&Fc===0&&(Fc=62500*EE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ar(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>Fc?50:800)+s);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function Tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ar(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Er=null;function Ar(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Er=new Map,s.forEach(zE,t),Er=null,Tr.call(t))}function zE(t,s){if(!(s.state.loading&4)){var l=Er.get(t);if(l)var a=l.get(null);else{l=new Map,Er.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}h=s.instance,S=h.getAttribute("data-precedence"),g=l.get(S)||a,g===a&&l.set(null,h),l.set(S,h),this.count++,a=Tr.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Po={$$typeof:H,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function FE(t,s,l,a,h,g,S,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function _g(t,s,l,a,h,g,S,A,x,U,V,Y){return t=new FE(t,s,l,S,x,U,V,Y,A),s=1,g===!0&&(s|=24),g=Ot(3,null,null,s),t.current=g,g.stateNode=t,s=Au(),s.refCount++,t.pooledCache=s,s.refCount++,g.memoizedState={element:a,isDehydrated:l,cache:s},wu(g),t}function Sg(t){return t?(t=os,t):os}function Tg(t,s,l,a,h,g){h=Sg(h),a.context===null?a.context=h:a.pendingContext=h,a=ti(s),a.payload={element:l},g=g===void 0?null:g,g!==null&&(a.callback=g),l=ni(t,a,s),l!==null&&(Mt(l,t,s),mo(l,t,s))}function Eg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function $c(t,s){Eg(t,s),(t=t.alternate)&&Eg(t,s)}function Ag(t){if(t.tag===13||t.tag===31){var s=wi(t,67108864);s!==null&&Mt(s,t,67108864),$c(t,67108864)}}function Cg(t){if(t.tag===13||t.tag===31){var s=Vt();s=qa(s);var l=wi(t,s);l!==null&&Mt(l,t,s),$c(t,s)}}var Cr=!0;function $E(t,s,l,a){var h=q.T;q.T=null;var g=K.p;try{K.p=2,Jc(t,s,l,a)}finally{K.p=g,q.T=h}}function JE(t,s,l,a){var h=q.T;q.T=null;var g=K.p;try{K.p=8,Jc(t,s,l,a)}finally{K.p=g,q.T=h}}function Jc(t,s,l,a){if(Cr){var h=Yc(a);if(h===null)Dc(t,s,a,xr,l),bg(t,a);else if(XE(h,t,s,l,a))a.stopPropagation();else if(bg(t,a),s&4&&-1<YE.indexOf(t)){for(;h!==null;){var g=Xi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Ei(g.pendingLanes);if(S!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var x=1<<31-kt(S);A.entanglements[1]|=x,S&=~x}_n(g),(ke&6)===0&&(rr=Ut()+500,Io(0))}}break;case 31:case 13:A=wi(g,2),A!==null&&Mt(A,g,2),ur(),$c(g,2)}if(g=Yc(a),g===null&&Dc(t,s,a,xr,l),g===h)break;h=g}h!==null&&a.stopPropagation()}else Dc(t,s,a,null,l)}}function Yc(t){return t=Ka(t),Xc(t)}var xr=null;function Xc(t){if(xr=null,t=Yi(t),t!==null){var s=u(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=f(s),t!==null)return t;t=null}else if(l===31){if(t=m(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return xr=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(DS()){case Ud:return 2;case Ld:return 8;case ml:case US:return 32;case kd:return 268435456;default:return 32}default:return 32}}var Kc=!1,hi=null,mi=null,pi=null,Oo=new Map,Go=new Map,gi=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bg(t,s){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(s.pointerId)}}function Ho(t,s,l,a,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:l,eventSystemFlags:a,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Xi(s),s!==null&&Ag(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function XE(t,s,l,a,h){switch(s){case"focusin":return hi=Ho(hi,t,s,l,a,h),!0;case"dragenter":return mi=Ho(mi,t,s,l,a,h),!0;case"mouseover":return pi=Ho(pi,t,s,l,a,h),!0;case"pointerover":var g=h.pointerId;return Oo.set(g,Ho(Oo.get(g)||null,t,s,l,a,h)),!0;case"gotpointercapture":return g=h.pointerId,Go.set(g,Ho(Go.get(g)||null,t,s,l,a,h)),!0}return!1}function wg(t){var s=Yi(t.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){t.blockedOn=s,Bd(t.priority,function(){Cg(l)});return}}else if(s===31){if(s=m(l),s!==null){t.blockedOn=s,Bd(t.priority,function(){Cg(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function br(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=Yc(t.nativeEvent);if(l===null){l=t.nativeEvent;var a=new l.constructor(l.type,l);Xa=a,l.target.dispatchEvent(a),Xa=null}else return s=Xi(l),s!==null&&Ag(s),t.blockedOn=l,!1;s.shift()}return!0}function Rg(t,s,l){br(t)&&l.delete(s)}function KE(){Kc=!1,hi!==null&&br(hi)&&(hi=null),mi!==null&&br(mi)&&(mi=null),pi!==null&&br(pi)&&(pi=null),Oo.forEach(Rg),Go.forEach(Rg)}function wr(t,s){t.blockedOn===s&&(t.blockedOn=null,Kc||(Kc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KE)))}var Rr=null;function Ng(t){Rr!==t&&(Rr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rr===t&&(Rr=null);for(var s=0;s<t.length;s+=3){var l=t[s],a=t[s+1],h=t[s+2];if(typeof a!="function"){if(Xc(a||l)===null)continue;break}var g=Xi(l);g!==null&&(t.splice(s,3),s-=3,Yu(g,{pending:!0,data:h,method:l.method,action:a},a,h))}}))}function Ns(t){function s(x){return wr(x,t)}hi!==null&&wr(hi,t),mi!==null&&wr(mi,t),pi!==null&&wr(pi,t),Oo.forEach(s),Go.forEach(s);for(var l=0;l<gi.length;l++){var a=gi[l];a.blockedOn===t&&(a.blockedOn=null)}for(;0<gi.length&&(l=gi[0],l.blockedOn===null);)wg(l),l.blockedOn===null&&gi.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var h=l[a],g=l[a+1],S=h[xt]||null;if(typeof g=="function")S||Ng(l);else if(S){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[xt]||null)A=S.formAction;else if(Xc(h)!==null)continue}else A=S.action;typeof A=="function"?l[a+1]=A:(l.splice(a,3),a-=3),Ng(l)}}}function Ig(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Qc(t){this._internalRoot=t}Nr.prototype.render=Qc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,a=Vt();Tg(l,a,t,s,null,null)},Nr.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Tg(t.current,2,null,t,null,null),ur(),s[Ji]=null}};function Nr(t){this._internalRoot=t}Nr.prototype.unstable_scheduleHydration=function(t){if(t){var s=qd();t={blockedOn:null,target:t,priority:s};for(var l=0;l<gi.length&&s!==0&&s<gi[l].priority;l++);gi.splice(l,0,t),l===0&&wg(t)}};var Mg=e.version;if(Mg!=="19.2.4")throw Error(o(527,Mg,"19.2.4"));K.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var QE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{Ys=Ir.inject(QE),Lt=Ir}catch{}}return Bo.createRoot=function(t,s){if(!r(t))throw Error(o(299));var l=!1,a="",h=Gm,g=Hm,S=qm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=_g(t,1,!1,null,null,l,a,null,h,g,S,Ig),t[Ji]=s.current,Mc(t),new Qc(s)},Bo.hydrateRoot=function(t,s,l){if(!r(t))throw Error(o(299));var a=!1,h="",g=Gm,S=Hm,A=qm,x=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),s=_g(t,1,!0,s,l??null,a,h,x,g,S,A,Ig),s.context=Sg(null),l=s.current,a=Vt(),a=qa(a),h=ti(a),h.callback=null,ni(l,h,a),l=a,s.current.lanes=l,Ks(s,l),_n(s),t[Ji]=s.current,Mc(t),new Nr(s)},Bo.version="19.2.4",Bo}var Bg;function rA(){if(Bg)return jc.exports;Bg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jc.exports=lA(),jc.exports}var aA=rA();const uA=Kf(aA);var Ke=(n=>(n.DASHBOARD="DASHBOARD",n.DIAGNOSTIC="DIAGNOSTIC",n.ADVISOR="ADVISOR",n.RAJIV_WISDOM="RAJIV_WISDOM",n.HISTORY="HISTORY",n.PROFILE="PROFILE",n.LIVE_VOICE="LIVE_VOICE",n))(Ke||{}),Jt=(n=>(n.GEMINI="GEMINI",n.OPENAI="OPENAI",n))(Jt||{});const An={hi:"Hindi - ",mr:"Marathi - ",pa:"Punjabi - ",gu:"Gujarati - ",ta:"Tamil - ",te:"Telugu - ",kn:"Kannada - ",bn:"Bengali - ",ml:"Malayalam - ",or:"Odia - ",en:"English"},cA=({currentView:n,setView:e,userProfile:i,children:o})=>{const r=[{id:Ke.DASHBOARD,label:"Dashboard",icon:""},{id:Ke.DIAGNOSTIC,label:"AI Diagnostic",icon:""},{id:Ke.ADVISOR,label:"Smart Advisor",icon:""},{id:Ke.LIVE_VOICE,label:"Kisan Mitra AI",icon:""},{id:Ke.HISTORY,label:"My History",icon:""},{id:Ke.RAJIV_WISDOM,label:"Natural Wisdom",icon:""}];return E.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-stone-50",children:[E.jsxs("header",{className:"md:hidden bg-green-700 text-white p-4 flex justify-between items-center sticky top-0 z-50 shadow-md",children:[E.jsxs("h1",{className:"font-black text-xl tracking-tight",children:["Kisan ",E.jsx("span",{className:"text-lime-400",children:"Mitra"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[i&&E.jsx("span",{className:"text-[10px] font-black opacity-80 uppercase tracking-widest",children:i.name.split(" ")[0]}),E.jsx("button",{onClick:()=>e(Ke.PROFILE),className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:""})]})]}),E.jsxs("nav",{className:"w-full md:w-72 bg-green-950 text-white flex-shrink-0 flex md:flex-col sticky top-0 h-auto md:h-screen overflow-x-auto md:overflow-y-auto z-40 scrollbar-hide border-r border-green-900 shadow-2xl",children:[E.jsxs("div",{className:"hidden md:flex p-8 border-b border-green-900 items-center justify-between",children:[E.jsxs("h1",{className:"text-2xl font-black tracking-tighter",children:["Kisan ",E.jsx("span",{className:"text-lime-400",children:"Mitra AI"})]}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-lime-400 shadow-[0_0_15px_rgba(163,230,53,0.5)]"})]}),E.jsx("div",{className:"flex flex-row md:flex-col p-3 md:p-6 gap-2 w-full",children:r.map(u=>E.jsxs("button",{onClick:()=>e(u.id),className:`flex items-center gap-4 px-5 py-4 rounded-2xl transition-all whitespace-nowrap group ${n===u.id?"bg-lime-500 text-green-950 font-black shadow-xl ring-4 ring-lime-500/20":"hover:bg-green-900/50 text-stone-300"}`,children:[E.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:u.icon}),E.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:u.label})]},u.id))}),E.jsxs("div",{className:"mt-auto p-6 hidden md:block border-t border-green-900",children:[i&&E.jsxs("button",{onClick:()=>e(Ke.PROFILE),className:"w-full flex items-center gap-4 p-4 bg-green-900/40 rounded-3xl hover:bg-green-900 transition-all text-left border border-white/5 mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-lime-400 rounded-2xl flex items-center justify-center text-2xl text-green-950 font-black shadow-inner",children:i.name.charAt(0)}),E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("p",{className:"font-black text-sm truncate",children:i.name}),E.jsxs("p",{className:"text-[10px] text-lime-400 font-bold uppercase tracking-widest opacity-70",children:["Pro Account  ",i.farmSize," Ac"]})]})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-[0.3em] mb-1",children:"Developed By"}),E.jsx("p",{className:"text-sm font-black text-lime-400",children:"Onkar Mahamuni"}),E.jsx("p",{className:"text-[8px] text-white/30 mt-2 uppercase tracking-widest",children:" 2025 All Rights Reserved"})]})]})]}),E.jsxs("main",{className:"flex-1 p-4 md:p-10 overflow-y-auto flex flex-col",children:[E.jsx("div",{className:"max-w-6xl mx-auto flex-1 w-full",children:o}),E.jsx("footer",{className:"mt-12 py-6 border-t border-stone-200 text-center",children:E.jsxs("p",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest",children:["Crafted with Precision by ",E.jsx("span",{className:"text-green-700",children:"Onkar Mahamuni"})]})})]})]})};var Vo={exports:{}},sf={},of,Vg;function fA(){if(Vg)return of;Vg=1;function n(e,i){typeof i=="boolean"&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return of=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var i=new Date().getTime();if(e&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var o=this._timeouts.shift();if(o===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),o=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},o),this._options.unref&&this._timer.unref(),!0},n.prototype.attempt=function(e,i){this._fn=e,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},i=null,o=0,r=0;r<this._errors.length;r++){var u=this._errors[r],f=u.message,m=(e[f]||0)+1;e[f]=m,m>=o&&(i=u,o=m)}return i},of}var zg;function dA(){return zg||(zg=1,(function(n){var e=fA();n.operation=function(i){var o=n.timeouts(i);return new e(o,{forever:i&&(i.forever||i.retries===1/0),unref:i&&i.unref,maxRetryTime:i&&i.maxRetryTime})},n.timeouts=function(i){if(i instanceof Array)return[].concat(i);var o={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in i)o[r]=i[r];if(o.minTimeout>o.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var u=[],f=0;f<o.retries;f++)u.push(this.createTimeout(f,o));return i&&i.forever&&!u.length&&u.push(this.createTimeout(f,o)),u.sort(function(m,y){return m-y}),u},n.createTimeout=function(i,o){var r=o.randomize?Math.random()+1:1,u=Math.round(r*Math.max(o.minTimeout,1)*Math.pow(o.factor,i));return u=Math.min(u,o.maxTimeout),u},n.wrap=function(i,o,r){if(o instanceof Array&&(r=o,o=null),!r){r=[];for(var u in i)typeof i[u]=="function"&&r.push(u)}for(var f=0;f<r.length;f++){var m=r[f],y=i[m];i[m]=(function(v){var _=n.operation(o),T=Array.prototype.slice.call(arguments,1),C=T.pop();T.push(function(b){_.retry(b)||(b&&(arguments[0]=_.mainError()),C.apply(this,arguments))}),_.attempt(function(){v.apply(i,T)})}).bind(i,y),i[m].options=o}}})(sf)),sf}var lf,Fg;function hA(){return Fg||(Fg=1,lf=dA()),lf}var $g;function mA(){if($g)return Vo.exports;$g=1;const n=hA(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(m){super(),m instanceof Error?(this.originalError=m,{message:m}=m):(this.originalError=new Error(m),this.originalError.stack=this.stack),this.name="AbortError",this.message=m}}const o=(f,m,y)=>{const p=y.retries-(m-1);return f.attemptNumber=m,f.retriesLeft=p,f},r=f=>e.includes(f),u=(f,m)=>new Promise((y,p)=>{m={onFailedAttempt:()=>{},retries:10,...m};const v=n.operation(m);v.attempt(async _=>{try{y(await f(_))}catch(T){if(!(T instanceof Error)){p(new TypeError(`Non-error was thrown: "${T}". You should only throw errors.`));return}if(T instanceof i)v.stop(),p(T.originalError);else if(T instanceof TypeError&&!r(T.message))v.stop(),p(T);else{o(T,_,m);try{await m.onFailedAttempt(T)}catch(C){p(C);return}v.retry(T)||p(v.mainError())}}})});return Vo.exports=u,Vo.exports.default=u,Vo.exports.AbortError=i,Vo.exports}var W0=mA();const pA=Kf(W0);var gA={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yA,vA;function _A(){return{geminiUrl:yA,vertexUrl:vA}}function SA(n,e,i,o){var r,u;if(!(n!=null&&n.baseUrl)){const f=_A();return e?(r=f.vertexUrl)!==null&&r!==void 0?r:i:(u=f.geminiUrl)!==null&&u!==void 0?u:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function j(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(n,e,i){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in n))if(Array.isArray(i))n[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[m])){const y=n[m];if(Array.isArray(i))for(let p=0;p<y.length;p++){const v=y[p];d(v,e.slice(u+1),i[p])}else for(const p of y)d(p,e.slice(u+1),i)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in n||(n[m]=[{}]);const y=n[m];d(y[0],e.slice(u+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[o]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return i;const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(m=>c(m,e.slice(o+1),i)):i}else return i}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return i;throw o}}function TA(n,e){for(const[i,o]of Object.entries(e)){const r=i.split("."),u=o.split("."),f=new Set;let m=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){m=y;break}if(m!==-1&&u.length>m)for(let y=m;y<u.length;y++){const p=u[y];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&f.add(p)}_f(n,r,u,0,f)}}function _f(n,e,i,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const u=e[o];if(u.endsWith("[]")){const f=u.slice(0,-2),m=n;if(f in m&&Array.isArray(m[f]))for(const y of m[f])_f(y,e,i,o+1,r)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,m=Object.keys(f).filter(p=>!p.startsWith("_")&&!r.has(p)),y={};for(const p of m)y[p]=f[p];for(const[p,v]of Object.entries(y)){const _=[];for(const T of i.slice(o))T==="*"?_.push(p):_.push(T);d(f,_,v)}for(const p of m)delete f[p]}}else{const f=n;u in f&&_f(f[u],e,i,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zf(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(n){const e={},i=c(n,["operationName"]);i!=null&&d(e,["operationName"],i);const o=c(n,["resourceName"]);return o!=null&&d(e,["_url","resourceName"],o),e}function AA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],xA(f)),e}function CA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],bA(f)),e}function xA(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>wA(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function bA(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>RA(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function wA(n){const e={},i=c(n,["video"]);return i!=null&&d(e,["video"],LA(i)),e}function RA(n){const e={},i=c(n,["_self"]);return i!=null&&d(e,["video"],kA(i)),e}function NA(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function IA(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function MA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],DA(f)),e}function DA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function j0(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],UA(f)),e}function UA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function LA(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const o=c(n,["encodedVideo"]);o!=null&&d(e,["videoBytes"],Zf(o));const r=c(n,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function kA(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],Zf(o));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jg||(Jg={}));var Yg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Yg||(Yg={}));var Xg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Xg||(Xg={}));var Xe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Xe||(Xe={}));var Kg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kg||(Kg={}));var Qg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Qg||(Qg={}));var Zg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Zg||(Zg={}));var Wg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wg||(Wg={}));var jg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(jg||(jg={}));var ey;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ey||(ey={}));var ty;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ty||(ty={}));var ny;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(ny||(ny={}));var iy;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(iy||(iy={}));var sy;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(sy||(sy={}));var oy;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(oy||(oy={}));var ly;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(ly||(ly={}));var ry;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ry||(ry={}));var ay;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ay||(ay={}));var uy;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(uy||(uy={}));var cy;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(cy||(cy={}));var fy;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fy||(fy={}));var ea;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ea||(ea={}));var dy;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dy||(dy={}));var hy;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hy||(hy={}));var my;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(my||(my={}));var Sf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sf||(Sf={}));var py;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(py||(py={}));var gy;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(gy||(gy={}));var Tf;(function(n){n.COLLECTION="COLLECTION"})(Tf||(Tf={}));var yy;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(yy||(yy={}));var vy;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vy||(vy={}));var ta;(function(n){n.PREDICT="PREDICT",n.EMBED_CONTENT="EMBED_CONTENT"})(ta||(ta={}));var _y;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(_y||(_y={}));var Sy;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Sy||(Sy={}));var Ty;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Ty||(Ty={}));var Ey;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ey||(Ey={}));var Ay;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ay||(Ay={}));var Cy;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cy||(Cy={}));var xy;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xy||(xy={}));var by;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(by||(by={}));var wy;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(wy||(wy={}));var Ry;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Ry||(Ry={}));var Ny;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Ny||(Ny={}));var Iy;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(Iy||(Iy={}));var My;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(My||(My={}));var Dy;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Dy||(Dy={}));var Uy;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Uy||(Uy={}));var Ly;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ly||(Ly={}));var ky;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ky||(ky={}));var Py;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Py||(Py={}));var Oy;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Oy||(Oy={}));var Gy;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gy||(Gy={}));var Hy;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hy||(Hy={}));var qy;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(qy||(qy={}));var By;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(By||(By={}));var Vy;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vy||(Vy={}));var zy;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(zy||(zy={}));var Os;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Os||(Os={}));class Ef{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class zo{get text(){var e,i,o,r,u,f,m,y;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const T of(y=(m=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,b]of Object.entries(T))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,p+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,o,r,u,f,m,y;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(y=(m=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[T,C]of Object.entries(_))T!=="inlineData"&&(C!==null||C!==void 0)&&v.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,o,r,u,f,m,y;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(m=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,o,r,u,f,m,y,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,o,r,u,f,m,y,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Fy{}class $y{}class PA{}class OA{}class GA{}class HA{}class Jy{}class Yy{}class Xy{}class qA{}class na{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new na;let r;const u=e;return i?r=CA(u):r=AA(u),Object.assign(o,r),o}}class Ky{}class Qy{}class Zy{}class Wy{}class BA{}class VA{}class zA{}class Wf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Wf,u=MA(e);return Object.assign(o,u),o}}class FA{}class $A{}class JA{}class YA{}class jy{}class XA{get text(){var e,i,o;let r="",u=!1;const f=[];for(const m of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(m))y!=="text"&&y!=="thought"&&p!==null&&f.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,r+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,i,o;let r="";const u=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[m,y]of Object.entries(f))m!=="inlineData"&&y!==null&&u.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class KA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new jf,u=j0(e);return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ev(n,e){const i=Le(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function tv(n){return Array.isArray(n)?n.map(e=>ia(e)):[ia(n)]}function ia(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function nv(n){const e=ia(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iv(n){const e=ia(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function sv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>e0(e)):[e0(n)]}function Af(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function t0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function n0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ft(n){if(n==null)throw new Error("ContentUnion is required");return Af(n)?n:{role:"user",parts:sv(n)}}function ed(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=ft(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const i=ft(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ft(i)):[ft(e)]}function Yt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(t0(n)||n0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(n)]}const e=[],i=[],o=Af(n[0]);for(const r of n){const u=Af(r);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(t0(r)||n0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return o||e.push({role:"user",parts:sv(i)}),e}function QA(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(Xe).includes(i[0].toUpperCase())?i[0].toUpperCase():Xe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(Xe).includes(o.toUpperCase())?o.toUpperCase():Xe.TYPE_UNSPECIFIED})}}function Hs(n){const e={},i=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&QA(n.type,e);for(const[f,m]of Object.entries(n))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(Xe).includes(m.toUpperCase())?m.toUpperCase():Xe.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Hs(m);else if(o.includes(f)){const y=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}y.push(Hs(p))}e[f]=y}else if(r.includes(f)){const y={};for(const[p,v]of Object.entries(m))y[p]=Hs(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=m}return e}function td(n){return Hs(n)}function nd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function id(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Vs(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hs(e.response));return n}function zs(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function ZA(n,e,i,o=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function Jn(n,e){if(typeof e!="string")throw new Error("name must be a string");return ZA(n,e,"cachedContents")}function ov(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Si(n){return Zf(n)}function WA(n){return n!=null&&typeof n=="object"&&"name"in n}function jA(n){return n!=null&&typeof n=="object"&&"video"in n}function eC(n){return n!=null&&typeof n=="object"&&"uri"in n}function lv(n){var e;let i;if(WA(n)&&(i=n.name),!(eC(n)&&(i=n.uri,i===void 0))&&!(jA(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function rv(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function av(n){for(const e of["models","tunedModels","publisherModels"])if(tC(n,e))return n[e];return[]}function tC(n,e){return n!==null&&typeof n=="object"&&e in n}function nC(n,e={}){const i=n,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function iC(n,e={}){const i=[],o=new Set;for(const r of n){const u=r.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const f=nC(r,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function uv(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function sC(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cv(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let u=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Fs(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function fv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function oC(n){return n.includes("gemini")&&n!=="gemini-embedding-001"||n.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(n){const e={},i=c(n,["responsesFile"]);i!=null&&d(e,["fileName"],i);const o=c(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>qC(f))),d(e,["inlinedResponses"],u)}const r=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function rC(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&d(e,["format"],i);const o=c(n,["gcsDestination","outputUriPrefix"]);o!=null&&d(e,["gcsUri"],o);const r=c(n,["bigqueryDestination","outputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function aC(n){const e={},i=c(n,["format"]);i!=null&&d(e,["predictionsFormat"],i);const o=c(n,["gcsUri"]);o!=null&&d(e,["gcsDestination","outputUriPrefix"],o);const r=c(n,["bigqueryUri"]);if(r!=null&&d(e,["bigqueryDestination","outputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zr(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata","displayName"]);o!=null&&d(e,["displayName"],o);const r=c(n,["metadata","state"]);r!=null&&d(e,["state"],fv(r));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const m=c(n,["metadata","updateTime"]);m!=null&&d(e,["updateTime"],m);const y=c(n,["metadata","model"]);y!=null&&d(e,["model"],y);const p=c(n,["metadata","output"]);return p!=null&&d(e,["dest"],lC(cv(p))),e}function Cf(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["displayName"]);o!=null&&d(e,["displayName"],o);const r=c(n,["state"]);r!=null&&d(e,["state"],fv(r));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const m=c(n,["startTime"]);m!=null&&d(e,["startTime"],m);const y=c(n,["endTime"]);y!=null&&d(e,["endTime"],y);const p=c(n,["updateTime"]);p!=null&&d(e,["updateTime"],p);const v=c(n,["model"]);v!=null&&d(e,["model"],v);const _=c(n,["inputConfig"]);_!=null&&d(e,["src"],uC(_));const T=c(n,["outputConfig"]);T!=null&&d(e,["dest"],rC(cv(T)));const C=c(n,["completionStats"]);return C!=null&&d(e,["completionStats"],C),e}function uC(n){const e={},i=c(n,["instancesFormat"]);i!=null&&d(e,["format"],i);const o=c(n,["gcsSource","uris"]);o!=null&&d(e,["gcsUri"],o);const r=c(n,["bigquerySource","inputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function cC(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(e,["fileName"]);o!=null&&d(i,["fileName"],o);const r=c(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>HC(n,f))),d(i,["requests","requests"],u)}return i}function fC(n){const e={},i=c(n,["format"]);i!=null&&d(e,["instancesFormat"],i);const o=c(n,["gcsUri"]);o!=null&&d(e,["gcsSource","uris"],o);const r=c(n,["bigqueryUri"]);if(r!=null&&d(e,["bigquerySource","inputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function dC(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function hC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function mC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function pC(n){const e={},i=c(n,["content"]);i!=null&&d(e,["content"],i);const o=c(n,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],gC(o));const r=c(n,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const m=c(n,["groundingMetadata"]);m!=null&&d(e,["groundingMetadata"],m);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const p=c(n,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),d(e,["safetyRatings"],T)}const _=c(n,["urlContextMetadata"]);return _!=null&&d(e,["urlContextMetadata"],_),e}function gC(n){const e={},i=c(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),d(e,["citations"],o)}return e}function dv(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>YC(u))),d(e,["parts"],r)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function yC(n,e){const i={},o=c(n,["displayName"]);if(e!==void 0&&o!=null&&d(e,["batch","displayName"],o),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function vC(n,e){const i={},o=c(n,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const r=c(n,["dest"]);return e!==void 0&&r!=null&&d(e,["outputConfig"],aC(sC(r))),i}function i0(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],Le(n,o));const r=c(e,["src"]);r!=null&&d(i,["batch","inputConfig"],cC(n,uv(n,r)));const u=c(e,["config"]);return u!=null&&yC(u,i),i}function _C(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],Le(n,o));const r=c(e,["src"]);r!=null&&d(i,["inputConfig"],fC(uv(n,r)));const u=c(e,["config"]);return u!=null&&vC(u,i),i}function SC(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&d(e,["batch","displayName"],o),i}function TC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],Le(n,o));const r=c(e,["src"]);r!=null&&d(i,["batch","inputConfig"],RC(n,r));const u=c(e,["config"]);return u!=null&&SC(u,i),i}function EC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function AC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function CC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function xC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function bC(n,e){const i={},o=c(e,["contents"]);if(o!=null){let u=ed(n,o);Array.isArray(u)&&(u=u.map(f=>f)),d(i,["requests[]","request","content"],u)}const r=c(e,["config"]);return r!=null&&(d(i,["_self"],wC(r,i)),TA(i,{"requests[].*":"requests[].request.*"})),i}function wC(n,e){const i={},o=c(n,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const r=c(n,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function RC(n,e){const i={},o=c(e,["fileName"]);o!=null&&d(i,["file_name"],o);const r=c(e,["inlinedRequests"]);return r!=null&&d(i,["requests"],bC(n,r)),i}function NC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function IC(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function MC(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const o=c(n,["mode"]);if(o!=null&&d(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function DC(n,e,i){const o={},r=c(e,["systemInstruction"]);i!==void 0&&r!=null&&d(i,["systemInstruction"],dv(ft(r)));const u=c(e,["temperature"]);u!=null&&d(o,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(o,["topP"],f);const m=c(e,["topK"]);m!=null&&d(o,["topK"],m);const y=c(e,["candidateCount"]);y!=null&&d(o,["candidateCount"],y);const p=c(e,["maxOutputTokens"]);p!=null&&d(o,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(o,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&d(o,["logprobs"],T);const C=c(e,["presencePenalty"]);C!=null&&d(o,["presencePenalty"],C);const b=c(e,["frequencyPenalty"]);b!=null&&d(o,["frequencyPenalty"],b);const N=c(e,["seed"]);N!=null&&d(o,["seed"],N);const I=c(e,["responseMimeType"]);I!=null&&d(o,["responseMimeType"],I);const z=c(e,["responseSchema"]);z!=null&&d(o,["responseSchema"],td(z));const B=c(e,["responseJsonSchema"]);if(B!=null&&d(o,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=c(e,["safetySettings"]);if(i!==void 0&&H!=null){let Pe=H;Array.isArray(Pe)&&(Pe=Pe.map(me=>XC(me))),d(i,["safetySettings"],Pe)}const G=c(e,["tools"]);if(i!==void 0&&G!=null){let Pe=zs(G);Array.isArray(Pe)&&(Pe=Pe.map(me=>QC(Vs(me)))),d(i,["tools"],Pe)}const Z=c(e,["toolConfig"]);if(i!==void 0&&Z!=null&&d(i,["toolConfig"],KC(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=c(e,["cachedContent"]);i!==void 0&&O!=null&&d(i,["cachedContent"],Jn(n,O));const $=c(e,["responseModalities"]);$!=null&&d(o,["responseModalities"],$);const ce=c(e,["mediaResolution"]);ce!=null&&d(o,["mediaResolution"],ce);const Q=c(e,["speechConfig"]);if(Q!=null&&d(o,["speechConfig"],nd(Q)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=c(e,["thinkingConfig"]);se!=null&&d(o,["thinkingConfig"],se);const oe=c(e,["imageConfig"]);oe!=null&&d(o,["imageConfig"],GC(oe));const Ee=c(e,["enableEnhancedCivicAnswers"]);if(Ee!=null&&d(o,["enableEnhancedCivicAnswers"],Ee),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function UC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>pC(p))),d(e,["candidates"],y)}const r=c(n,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const m=c(n,["usageMetadata"]);return m!=null&&d(e,["usageMetadata"],m),e}function LC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function kC(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Fs(n,o)),i}function PC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function OC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function GC(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=c(n,["imageSize"]);if(o!=null&&d(e,["imageSize"],o),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["request","model"],Le(n,o));const r=c(e,["contents"]);if(r!=null){let m=Yt(r);Array.isArray(m)&&(m=m.map(y=>dv(y))),d(i,["request","contents"],m)}const u=c(e,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(i,["request","generationConfig"],DC(n,f,c(i,["request"],{}))),i}function qC(n){const e={},i=c(n,["response"]);i!=null&&d(e,["response"],UC(i));const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["error"]);return r!=null&&d(e,["error"],r),e}function BC(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);if(e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function VC(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);e!==void 0&&r!=null&&d(e,["_query","pageToken"],r);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function zC(n){const e={},i=c(n,["config"]);return i!=null&&BC(i,e),e}function FC(n){const e={},i=c(n,["config"]);return i!=null&&VC(i,e),e}function $C(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>zr(f))),d(e,["batchJobs"],u)}return e}function JC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Cf(f))),d(e,["batchJobs"],u)}return e}function YC(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],NC(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],IC(f));const m=c(n,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],dC(y));const p=c(n,["text"]);p!=null&&d(e,["text"],p);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function XC(n){const e={},i=c(n,["category"]);if(i!=null&&d(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function KC(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const o=c(n,["functionCallingConfig"]);return o!=null&&d(e,["functionCallingConfig"],MC(o)),e}function QC(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const r=c(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],PC(f));const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],OC(m));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const p=c(n,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Fn||(Fn={}));class $i{constructor(e,i,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,r)}init(e,i,o){var r,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!o||Object.keys(o).length===0?f={config:{}}:typeof o=="object"?f=Object.assign({},o):f=o,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZC=class extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Fn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=i0(this.apiClient,e),o=i._url,r=j("{model}:batchGenerateContent",o),m=i.batch.inputConfig.requests,y=m.requests,p=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=T,_.request=C}p.push(_)}return m.requests=p,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${r}`;else if(f)o.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=_C(this.apiClient,e);return m=j("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>Cf(v))}else{const p=i0(this.apiClient,e);return m=j("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>zr(v))}}async createEmbeddingsInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TC(this.apiClient,e);return u=j("{model}:asyncBatchEmbedContent",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>zr(y))}}async get(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=kC(this.apiClient,e);return m=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>Cf(v))}else{const p=LC(this.apiClient,e);return m=j("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>zr(v))}}async cancel(e){var i,o,r,u;let f="",m={};if(this.apiClient.isVertexAI()){const y=mC(this.apiClient,e);f=j("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=hC(this.apiClient,e);f=j("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=FC(e);return m=j("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=JC(v),T=new jy;return Object.assign(T,_),T})}else{const p=zC(e);return m=j("batches",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=$C(v),T=new jy;return Object.assign(T,_),T})}}async delete(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=AC(this.apiClient,e);return m=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>xC(v))}else{const p=EC(this.apiClient,e);return m=j("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>CC(v))}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function s0(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Tx(u))),d(e,["parts"],r)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function jC(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let v=Yt(f);Array.isArray(v)&&(v=v.map(_=>s0(_))),d(e,["contents"],v)}const m=c(n,["systemInstruction"]);e!==void 0&&m!=null&&d(e,["systemInstruction"],s0(ft(m)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>Ax(_))),d(e,["tools"],v)}const p=c(n,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],Ex(p)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function ex(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let _=Yt(f);Array.isArray(_)&&(_=_.map(T=>T)),d(e,["contents"],_)}const m=c(n,["systemInstruction"]);e!==void 0&&m!=null&&d(e,["systemInstruction"],ft(m));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>Cx(T))),d(e,["tools"],_)}const p=c(n,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],p);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),i}function tx(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],ev(n,o));const r=c(e,["config"]);return r!=null&&jC(r,i),i}function nx(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],ev(n,o));const r=c(e,["config"]);return r!=null&&ex(r,i),i}function ix(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Jn(n,o)),i}function sx(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Jn(n,o)),i}function ox(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function lx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function rx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function ax(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ux(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const o=c(n,["mode"]);if(o!=null&&d(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cx(n){const e={},i=c(n,["description"]);i!=null&&d(e,["description"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const r=c(n,["parameters"]);r!=null&&d(e,["parameters"],r);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const m=c(n,["responseJsonSchema"]);if(m!=null&&d(e,["responseJsonSchema"],m),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function fx(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Jn(n,o)),i}function dx(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Jn(n,o)),i}function hx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function mx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function px(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function gx(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function yx(n){const e={},i=c(n,["config"]);return i!=null&&px(i,e),e}function vx(n){const e={},i=c(n,["config"]);return i!=null&&gx(i,e),e}function _x(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function Sx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function Tx(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],rx(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],ax(f));const m=c(n,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],WC(y));const p=c(n,["text"]);p!=null&&d(e,["text"],p);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function Ex(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const o=c(n,["functionCallingConfig"]);return o!=null&&d(e,["functionCallingConfig"],ux(o)),e}function Ax(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const r=c(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],hx(f));const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],mx(m));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const p=c(n,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function Cx(n){const e={},i=c(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=c(n,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(n,["codeExecution"]);r!=null&&d(e,["codeExecution"],r);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>cx(T))),d(e,["functionDeclarations"],_)}const m=c(n,["googleMaps"]);m!=null&&d(e,["googleMaps"],m);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const p=c(n,["googleSearchRetrieval"]);p!=null&&d(e,["googleSearchRetrieval"],p);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function xx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),i}function bx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),i}function wx(n,e){const i={},o=c(e,["name"]);o!=null&&d(i,["_url","name"],Jn(n,o));const r=c(e,["config"]);return r!=null&&xx(r,i),i}function Rx(n,e){const i={},o=c(e,["name"]);o!=null&&d(i,["_url","name"],Jn(n,o));const r=c(e,["config"]);return r!=null&&bx(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nx extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Fn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=nx(this.apiClient,e);return m=j("cachedContents",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=tx(this.apiClient,e);return m=j("cachedContents",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=dx(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=fx(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=sx(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=lx(v),T=new Zy;return Object.assign(T,_),T})}else{const p=ix(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=ox(v),T=new Zy;return Object.assign(T,_),T})}}async update(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Rx(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=wx(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=vx(e);return m=j("cachedContents",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Sx(v),T=new Wy;return Object.assign(T,_),T})}else{const p=yx(e);return m=j("cachedContents",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=_x(v),T=new Wy;return Object.assign(T,_),T})}}}function sa(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(i[o[r]]=n[o[r]]);return i}function o0(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(n){return this instanceof ge?(this.v=n,this):new ge(n)}function hn(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(C){return function(b){return Promise.resolve(b).then(C,_)}}function m(C,b){o[C]&&(r[C]=function(N){return new Promise(function(I,z){u.push([C,N,I,z])>1||y(C,N)})},b&&(r[C]=b(r[C])))}function y(C,b){try{p(o[C](b))}catch(N){T(u[0][3],N)}}function p(C){C.value instanceof ge?Promise.resolve(C.value.v).then(v,_):T(u[0][2],C)}function v(C){y("next",C)}function _(C){y("throw",C)}function T(C,b){C(b),u.shift(),u.length&&y(u[0][0],u[0][1])}}function mn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof o0=="function"?o0(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=n[u]&&function(f){return new Promise(function(m,y){f=n[u](f),r(m,y,f.done,f.value)})}}function r(u,f,m,y){Promise.resolve(y).then(function(p){u({value:p,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ix(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:hv(i)}function hv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Mx(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function l0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let o=0;for(;o<i;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let u=!0;for(;o<i&&n[o].role==="model";)r.push(n[o]),u&&!hv(n[o])&&(u=!1),o++;u?e.push(...r):e.pop()}return e}class Dx{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Ux(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let Ux=class{constructor(e,i,o,r={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),Mx(u)}async sendMessage(e){var i;await this.sendPromise;const o=ft(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,f,m;const y=await r,p=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];v!=null&&(T=(m=v.slice(_))!==null&&m!==void 0?m:[]);const C=p?[p]:[];this.recordHistory(o,C,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const o=ft(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,o)}getHistory(e=!1){const i=e?l0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return hn(this,arguments,function*(){var r,u,f,m,y,p;const v=[];try{for(var _=!0,T=mn(e),C;C=yield ge(T.next()),r=C.done,!r;_=!0){m=C.value,_=!1;const b=m;if(Ix(b)){const N=(p=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||p===void 0?void 0:p.content;N!==void 0&&v.push(N)}yield yield ge(b)}}catch(b){u={error:b}}finally{try{!_&&!r&&(f=T.return)&&(yield ge(f.call(T)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let r=[];i.length>0&&i.every(u=>u.role!==void 0)?r=i:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...l0(o)):this.history.push(e),this.history.push(...r)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ll extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ll.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lx(n){const e={},i=c(n,["file"]);return i!=null&&d(e,["file"],i),e}function kx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Px(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],lv(i)),e}function Ox(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Gx(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],lv(i)),e}function Hx(n){const e={},i=c(n,["uris"]);return i!=null&&d(e,["uris"],i),e}function qx(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function Bx(n){const e={},i=c(n,["config"]);return i!=null&&qx(i,e),e}function Vx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}function zx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fx=class extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Fn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Bx(e);return u=j("files",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=Vx(y),v=new FA;return Object.assign(v,p),v})}}async createInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Lx(e);return u=j("upload/v1beta/files",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=kx(y),v=new $A;return Object.assign(v,p),v})}}async get(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Gx(e);return u=j("files/{file}",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Px(e);return u=j("files/{file}",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=Ox(y),v=new JA;return Object.assign(v,p),v})}}async registerFilesInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Hx(e);return u=j("files:register",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=zx(y),v=new YA;return Object.assign(v,p),v})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fr(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function $x(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>rb(u))),d(e,["parts"],r)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function Jx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Yx(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xx(n){const e={},i=c(n,["description"]);i!=null&&d(e,["description"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const r=c(n,["parameters"]);r!=null&&d(e,["parameters"],r);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const m=c(n,["responseJsonSchema"]);if(m!=null&&d(e,["responseJsonSchema"],m),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Kx(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const o=c(n,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const r=c(n,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const m=c(n,["frequencyPenalty"]);m!=null&&d(e,["frequencyPenalty"],m);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const p=c(n,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&d(e,["presencePenalty"],_);const T=c(n,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const C=c(n,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const b=c(n,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const N=c(n,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const I=c(n,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const z=c(n,["seed"]);z!=null&&d(e,["seed"],z);const B=c(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const H=c(n,["stopSequences"]);H!=null&&d(e,["stopSequences"],H);const G=c(n,["temperature"]);G!=null&&d(e,["temperature"],G);const Z=c(n,["thinkingConfig"]);Z!=null&&d(e,["thinkingConfig"],Z);const O=c(n,["topK"]);O!=null&&d(e,["topK"],O);const $=c(n,["topP"]);if($!=null&&d(e,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Qx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Zx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function Wx(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const m=c(n,["topK"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=c(n,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],id(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],$x(ft(b)));const N=c(n,["tools"]);if(e!==void 0&&N!=null){let O=zs(N);Array.isArray(O)&&(O=O.map($=>ub(Vs($)))),d(e,["setup","tools"],O)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],ab(I));const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const H=c(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&d(e,["setup","realtimeInputConfig"],H);const G=c(n,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function jx(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],Kx(o));const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const m=c(n,["topK"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=c(n,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],id(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],ft(b));const N=c(n,["tools"]);if(e!==void 0&&N!=null){let $=zs(N);Array.isArray($)&&($=$.map(ce=>cb(Vs(ce)))),d(e,["setup","tools"],$)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],I);const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const H=c(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&d(e,["setup","realtimeInputConfig"],H);const G=c(n,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Z=c(n,["proactivity"]);e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z);const O=c(n,["explicitVadSignal"]);return e!==void 0&&O!=null&&d(e,["setup","explicitVadSignal"],O),i}function eb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],Le(n,o));const r=c(e,["config"]);return r!=null&&d(i,["config"],Wx(r,i)),i}function tb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],Le(n,o));const r=c(e,["config"]);return r!=null&&d(i,["config"],jx(r,i)),i}function nb(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function ib(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),d(e,["weightedPrompts"],o)}return e}function sb(n){const e={},i=c(n,["media"]);if(i!=null){let p=tv(i);Array.isArray(p)&&(p=p.map(v=>Fr(v))),d(e,["mediaChunks"],p)}const o=c(n,["audio"]);o!=null&&d(e,["audio"],Fr(iv(o)));const r=c(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=c(n,["video"]);u!=null&&d(e,["video"],Fr(nv(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const m=c(n,["activityStart"]);m!=null&&d(e,["activityStart"],m);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function ob(n){const e={},i=c(n,["media"]);if(i!=null){let p=tv(i);Array.isArray(p)&&(p=p.map(v=>v)),d(e,["mediaChunks"],p)}const o=c(n,["audio"]);o!=null&&d(e,["audio"],iv(o));const r=c(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=c(n,["video"]);u!=null&&d(e,["video"],nv(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const m=c(n,["activityStart"]);m!=null&&d(e,["activityStart"],m);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function lb(n){const e={},i=c(n,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const o=c(n,["serverContent"]);o!=null&&d(e,["serverContent"],o);const r=c(n,["toolCall"]);r!=null&&d(e,["toolCall"],r);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],fb(f));const m=c(n,["goAway"]);m!=null&&d(e,["goAway"],m);const y=c(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const p=c(n,["voiceActivityDetectionSignal"]);p!=null&&d(e,["voiceActivityDetectionSignal"],p);const v=c(n,["voiceActivity"]);return v!=null&&d(e,["voiceActivity"],db(v)),e}function rb(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],Jx(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],Yx(f));const m=c(n,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Fr(y));const p=c(n,["text"]);p!=null&&d(e,["text"],p);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function ab(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ub(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const r=c(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],Qx(f));const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],Zx(m));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const p=c(n,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function cb(n){const e={},i=c(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=c(n,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(n,["codeExecution"]);r!=null&&d(e,["codeExecution"],r);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>Xx(T))),d(e,["functionDeclarations"],_)}const m=c(n,["googleMaps"]);m!=null&&d(e,["googleMaps"],m);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const p=c(n,["googleSearchRetrieval"]);p!=null&&d(e,["googleSearchRetrieval"],p);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function fb(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const o=c(n,["cachedContentTokenCount"]);o!=null&&d(e,["cachedContentTokenCount"],o);const r=c(n,["candidatesTokenCount"]);r!=null&&d(e,["responseTokenCount"],r);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const m=c(n,["totalTokenCount"]);m!=null&&d(e,["totalTokenCount"],m);const y=c(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["promptTokensDetails"],C)}const p=c(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["cacheTokensDetails"],C)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["responseTokensDetails"],C)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["toolUsePromptTokensDetails"],C)}const T=c(n,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function db(n){const e={},i=c(n,["type"]);return i!=null&&d(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(n,e){const i={},o=c(n,["data"]);if(o!=null&&d(i,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(n,["mimeType"]);return r!=null&&d(i,["mimeType"],r),i}function mb(n,e){const i={},o=c(n,["content"]);o!=null&&d(i,["content"],o);const r=c(n,["citationMetadata"]);r!=null&&d(i,["citationMetadata"],pb(r));const u=c(n,["tokenCount"]);u!=null&&d(i,["tokenCount"],u);const f=c(n,["finishReason"]);f!=null&&d(i,["finishReason"],f);const m=c(n,["avgLogprobs"]);m!=null&&d(i,["avgLogprobs"],m);const y=c(n,["groundingMetadata"]);y!=null&&d(i,["groundingMetadata"],y);const p=c(n,["index"]);p!=null&&d(i,["index"],p);const v=c(n,["logprobsResult"]);v!=null&&d(i,["logprobsResult"],v);const _=c(n,["safetyRatings"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(b=>b)),d(i,["safetyRatings"],C)}const T=c(n,["urlContextMetadata"]);return T!=null&&d(i,["urlContextMetadata"],T),i}function pb(n,e){const i={},o=c(n,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(i,["citations"],r)}return i}function gb(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let f=Yt(u);Array.isArray(f)&&(f=f.map(m=>m)),d(o,["contents"],f)}return o}function yb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["tokensInfo"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(i,["tokensInfo"],u)}return i}function vb(n,e){const i={},o=c(n,["values"]);o!=null&&d(i,["values"],o);const r=c(n,["statistics"]);return r!=null&&d(i,["statistics"],_b(r)),i}function _b(n,e){const i={},o=c(n,["truncated"]);o!=null&&d(i,["truncated"],o);const r=c(n,["token_count"]);return r!=null&&d(i,["tokenCount"],r),i}function ul(n,e){const i={},o=c(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Rw(f))),d(i,["parts"],u)}const r=c(n,["role"]);return r!=null&&d(i,["role"],r),i}function Sb(n,e){const i={},o=c(n,["controlType"]);o!=null&&d(i,["controlType"],o);const r=c(n,["enableControlImageComputation"]);return r!=null&&d(i,["computeControl"],r),i}function Tb(n,e){const i={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function Eb(n,e,i){const o={},r=c(n,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],ft(r));const u=c(n,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>yv(y))),d(e,["tools"],m)}const f=c(n,["generationConfig"]);return e!==void 0&&f!=null&&d(e,["generationConfig"],hw(f)),o}function Ab(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let m=Yt(u);Array.isArray(m)&&(m=m.map(y=>ul(y))),d(o,["contents"],m)}const f=c(e,["config"]);return f!=null&&Tb(f),o}function Cb(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let m=Yt(u);Array.isArray(m)&&(m=m.map(y=>y)),d(o,["contents"],m)}const f=c(e,["config"]);return f!=null&&Eb(f,o),o}function xb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["totalTokens"]);r!=null&&d(i,["totalTokens"],r);const u=c(n,["cachedContentTokenCount"]);return u!=null&&d(i,["cachedContentTokenCount"],u),i}function bb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["totalTokens"]);return r!=null&&d(i,["totalTokens"],r),i}function wb(n,e,i){const o={},r=c(e,["model"]);return r!=null&&d(o,["_url","name"],Le(n,r)),o}function Rb(n,e,i){const o={},r=c(e,["model"]);return r!=null&&d(o,["_url","name"],Le(n,r)),o}function Nb(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function Ib(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function Mb(n,e,i){const o={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(n,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const m=c(n,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const p=c(n,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const C=c(n,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=c(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const z=c(n,["addWatermark"]);e!==void 0&&z!=null&&d(e,["parameters","addWatermark"],z);const B=c(n,["labels"]);e!==void 0&&B!=null&&d(e,["labels"],B);const H=c(n,["editMode"]);e!==void 0&&H!=null&&d(e,["parameters","editMode"],H);const G=c(n,["baseSteps"]);return e!==void 0&&G!=null&&d(e,["parameters","editConfig","baseSteps"],G),o}function Db(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=c(e,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(p=>Lw(p))),d(o,["instances[0]","referenceImages"],y)}const m=c(e,["config"]);return m!=null&&Mb(m,o),o}function Ub(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>ga(f))),d(i,["generatedImages"],u)}return i}function Lb(n,e,i){const o={},r=c(n,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const u=c(n,["title"]);e!==void 0&&u!=null&&d(e,["requests[]","title"],u);const f=c(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&d(e,["requests[]","outputDimensionality"],f),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function kb(n,e,i){const o={};let r=c(i,["embeddingApiType"]);if(r===void 0&&(r="PREDICT"),r==="PREDICT"){const p=c(n,["taskType"]);e!==void 0&&p!=null&&d(e,["instances[]","task_type"],p)}else if(r==="EMBED_CONTENT"){const p=c(n,["taskType"]);e!==void 0&&p!=null&&d(e,["taskType"],p)}let u=c(i,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const p=c(n,["title"]);e!==void 0&&p!=null&&d(e,["instances[]","title"],p)}else if(u==="EMBED_CONTENT"){const p=c(n,["title"]);e!==void 0&&p!=null&&d(e,["title"],p)}let f=c(i,["embeddingApiType"]);if(f===void 0&&(f="PREDICT"),f==="PREDICT"){const p=c(n,["outputDimensionality"]);e!==void 0&&p!=null&&d(e,["parameters","outputDimensionality"],p)}else if(f==="EMBED_CONTENT"){const p=c(n,["outputDimensionality"]);e!==void 0&&p!=null&&d(e,["outputDimensionality"],p)}let m=c(i,["embeddingApiType"]);if(m===void 0&&(m="PREDICT"),m==="PREDICT"){const p=c(n,["mimeType"]);e!==void 0&&p!=null&&d(e,["instances[]","mimeType"],p)}let y=c(i,["embeddingApiType"]);if(y===void 0&&(y="PREDICT"),y==="PREDICT"){const p=c(n,["autoTruncate"]);e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p)}else if(y==="EMBED_CONTENT"){const p=c(n,["autoTruncate"]);e!==void 0&&p!=null&&d(e,["autoTruncate"],p)}return o}function Pb(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let p=ed(n,u);Array.isArray(p)&&(p=p.map(v=>v)),d(o,["requests[]","content"],p)}const f=c(e,["content"]);f!=null&&ul(ft(f));const m=c(e,["config"]);m!=null&&Lb(m,o);const y=c(e,["model"]);return y!==void 0&&d(o,["requests[]","model"],Le(n,y)),o}function Ob(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));let u=c(i,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const y=c(e,["contents"]);if(y!=null){let p=ed(n,y);Array.isArray(p)&&(p=p.map(v=>v)),d(o,["instances[]","content"],p)}}let f=c(i,["embeddingApiType"]);if(f===void 0&&(f="PREDICT"),f==="EMBED_CONTENT"){const y=c(e,["content"]);y!=null&&d(o,["content"],ft(y))}const m=c(e,["config"]);return m!=null&&kb(m,o,i),o}function Gb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),d(i,["embeddings"],f)}const u=c(n,["metadata"]);return u!=null&&d(i,["metadata"],u),i}function Hb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>vb(m))),d(i,["embeddings"],f)}const u=c(n,["metadata"]);if(u!=null&&d(i,["metadata"],u),e&&c(e,["embeddingApiType"])==="EMBED_CONTENT"){const f=c(n,["embedding"]),m=c(n,["usageMetadata"]),y=c(n,["truncated"]);if(f){const p={};m&&m.promptTokenCount&&(p.tokenCount=m.promptTokenCount),y&&(p.truncated=y),f.statistics=p,d(i,["embeddings"],[f])}}return i}function qb(n,e){const i={},o=c(n,["endpoint"]);o!=null&&d(i,["name"],o);const r=c(n,["deployedModelId"]);return r!=null&&d(i,["deployedModelId"],r),i}function Bb(n,e){const i={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(i,["fileUri"],o);const r=c(n,["mimeType"]);return r!=null&&d(i,["mimeType"],r),i}function Vb(n,e){const i={},o=c(n,["id"]);o!=null&&d(i,["id"],o);const r=c(n,["args"]);r!=null&&d(i,["args"],r);const u=c(n,["name"]);if(u!=null&&d(i,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function zb(n,e){const i={},o=c(n,["allowedFunctionNames"]);o!=null&&d(i,["allowedFunctionNames"],o);const r=c(n,["mode"]);if(r!=null&&d(i,["mode"],r),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function Fb(n,e){const i={},o=c(n,["description"]);o!=null&&d(i,["description"],o);const r=c(n,["name"]);r!=null&&d(i,["name"],r);const u=c(n,["parameters"]);u!=null&&d(i,["parameters"],u);const f=c(n,["parametersJsonSchema"]);f!=null&&d(i,["parametersJsonSchema"],f);const m=c(n,["response"]);m!=null&&d(i,["response"],m);const y=c(n,["responseJsonSchema"]);if(y!=null&&d(i,["responseJsonSchema"],y),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function $b(n,e,i,o){const r={},u=c(e,["systemInstruction"]);i!==void 0&&u!=null&&d(i,["systemInstruction"],ul(ft(u)));const f=c(e,["temperature"]);f!=null&&d(r,["temperature"],f);const m=c(e,["topP"]);m!=null&&d(r,["topP"],m);const y=c(e,["topK"]);y!=null&&d(r,["topK"],y);const p=c(e,["candidateCount"]);p!=null&&d(r,["candidateCount"],p);const v=c(e,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const T=c(e,["responseLogprobs"]);T!=null&&d(r,["responseLogprobs"],T);const C=c(e,["logprobs"]);C!=null&&d(r,["logprobs"],C);const b=c(e,["presencePenalty"]);b!=null&&d(r,["presencePenalty"],b);const N=c(e,["frequencyPenalty"]);N!=null&&d(r,["frequencyPenalty"],N);const I=c(e,["seed"]);I!=null&&d(r,["seed"],I);const z=c(e,["responseMimeType"]);z!=null&&d(r,["responseMimeType"],z);const B=c(e,["responseSchema"]);B!=null&&d(r,["responseSchema"],td(B));const H=c(e,["responseJsonSchema"]);if(H!=null&&d(r,["responseJsonSchema"],H),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(i!==void 0&&G!=null){let me=G;Array.isArray(me)&&(me=me.map(Ae=>kw(Ae))),d(i,["safetySettings"],me)}const Z=c(e,["tools"]);if(i!==void 0&&Z!=null){let me=zs(Z);Array.isArray(me)&&(me=me.map(Ae=>Vw(Vs(Ae)))),d(i,["tools"],me)}const O=c(e,["toolConfig"]);if(i!==void 0&&O!=null&&d(i,["toolConfig"],Bw(O)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=c(e,["cachedContent"]);i!==void 0&&$!=null&&d(i,["cachedContent"],Jn(n,$));const ce=c(e,["responseModalities"]);ce!=null&&d(r,["responseModalities"],ce);const Q=c(e,["mediaResolution"]);Q!=null&&d(r,["mediaResolution"],Q);const se=c(e,["speechConfig"]);if(se!=null&&d(r,["speechConfig"],nd(se)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=c(e,["thinkingConfig"]);oe!=null&&d(r,["thinkingConfig"],oe);const Ee=c(e,["imageConfig"]);Ee!=null&&d(r,["imageConfig"],vw(Ee));const Pe=c(e,["enableEnhancedCivicAnswers"]);if(Pe!=null&&d(r,["enableEnhancedCivicAnswers"],Pe),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Jb(n,e,i,o){const r={},u=c(e,["systemInstruction"]);i!==void 0&&u!=null&&d(i,["systemInstruction"],ft(u));const f=c(e,["temperature"]);f!=null&&d(r,["temperature"],f);const m=c(e,["topP"]);m!=null&&d(r,["topP"],m);const y=c(e,["topK"]);y!=null&&d(r,["topK"],y);const p=c(e,["candidateCount"]);p!=null&&d(r,["candidateCount"],p);const v=c(e,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const T=c(e,["responseLogprobs"]);T!=null&&d(r,["responseLogprobs"],T);const C=c(e,["logprobs"]);C!=null&&d(r,["logprobs"],C);const b=c(e,["presencePenalty"]);b!=null&&d(r,["presencePenalty"],b);const N=c(e,["frequencyPenalty"]);N!=null&&d(r,["frequencyPenalty"],N);const I=c(e,["seed"]);I!=null&&d(r,["seed"],I);const z=c(e,["responseMimeType"]);z!=null&&d(r,["responseMimeType"],z);const B=c(e,["responseSchema"]);B!=null&&d(r,["responseSchema"],td(B));const H=c(e,["responseJsonSchema"]);H!=null&&d(r,["responseJsonSchema"],H);const G=c(e,["routingConfig"]);G!=null&&d(r,["routingConfig"],G);const Z=c(e,["modelSelectionConfig"]);Z!=null&&d(r,["modelConfig"],Z);const O=c(e,["safetySettings"]);if(i!==void 0&&O!=null){let ee=O;Array.isArray(ee)&&(ee=ee.map(_e=>_e)),d(i,["safetySettings"],ee)}const $=c(e,["tools"]);if(i!==void 0&&$!=null){let ee=zs($);Array.isArray(ee)&&(ee=ee.map(_e=>yv(Vs(_e)))),d(i,["tools"],ee)}const ce=c(e,["toolConfig"]);i!==void 0&&ce!=null&&d(i,["toolConfig"],ce);const Q=c(e,["labels"]);i!==void 0&&Q!=null&&d(i,["labels"],Q);const se=c(e,["cachedContent"]);i!==void 0&&se!=null&&d(i,["cachedContent"],Jn(n,se));const oe=c(e,["responseModalities"]);oe!=null&&d(r,["responseModalities"],oe);const Ee=c(e,["mediaResolution"]);Ee!=null&&d(r,["mediaResolution"],Ee);const Pe=c(e,["speechConfig"]);Pe!=null&&d(r,["speechConfig"],nd(Pe));const me=c(e,["audioTimestamp"]);me!=null&&d(r,["audioTimestamp"],me);const Ae=c(e,["thinkingConfig"]);Ae!=null&&d(r,["thinkingConfig"],Ae);const q=c(e,["imageConfig"]);if(q!=null&&d(r,["imageConfig"],_w(q)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=c(e,["modelArmorConfig"]);return i!==void 0&&K!=null&&d(i,["modelArmorConfig"],K),r}function r0(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let m=Yt(u);Array.isArray(m)&&(m=m.map(y=>ul(y))),d(o,["contents"],m)}const f=c(e,["config"]);return f!=null&&d(o,["generationConfig"],$b(n,f,o)),o}function a0(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["contents"]);if(u!=null){let m=Yt(u);Array.isArray(m)&&(m=m.map(y=>y)),d(o,["contents"],m)}const f=c(e,["config"]);return f!=null&&d(o,["generationConfig"],Jb(n,f,o)),o}function u0(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(v=>mb(v))),d(i,["candidates"],p)}const u=c(n,["modelVersion"]);u!=null&&d(i,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(i,["promptFeedback"],f);const m=c(n,["responseId"]);m!=null&&d(i,["responseId"],m);const y=c(n,["usageMetadata"]);return y!=null&&d(i,["usageMetadata"],y),i}function c0(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(_=>_)),d(i,["candidates"],v)}const u=c(n,["createTime"]);u!=null&&d(i,["createTime"],u);const f=c(n,["modelVersion"]);f!=null&&d(i,["modelVersion"],f);const m=c(n,["promptFeedback"]);m!=null&&d(i,["promptFeedback"],m);const y=c(n,["responseId"]);y!=null&&d(i,["responseId"],y);const p=c(n,["usageMetadata"]);return p!=null&&d(i,["usageMetadata"],p),i}function Yb(n,e,i){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(n,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["guidanceScale"]);if(e!==void 0&&f!=null&&d(e,["parameters","guidanceScale"],f),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const p=c(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const v=c(n,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const _=c(n,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const T=c(n,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const C=c(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(n,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Xb(n,e,i){const o={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(n,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const m=c(n,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const p=c(n,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const C=c(n,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=c(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const z=c(n,["addWatermark"]);e!==void 0&&z!=null&&d(e,["parameters","addWatermark"],z);const B=c(n,["labels"]);e!==void 0&&B!=null&&d(e,["labels"],B);const H=c(n,["imageSize"]);e!==void 0&&H!=null&&d(e,["parameters","sampleImageSize"],H);const G=c(n,["enhancePrompt"]);return e!==void 0&&G!=null&&d(e,["parameters","enhancePrompt"],G),o}function Kb(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&Yb(f,o),o}function Qb(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&Xb(f,o),o}function Zb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>uw(m))),d(i,["generatedImages"],f)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&d(i,["positivePromptSafetyAttributes"],pv(u)),i}function Wb(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>ga(m))),d(i,["generatedImages"],f)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&d(i,["positivePromptSafetyAttributes"],gv(u)),i}function jb(n,e,i){const o={},r=c(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(n,["durationSeconds"]);if(e!==void 0&&u!=null&&d(e,["parameters","durationSeconds"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const m=c(n,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=c(n,["personGeneration"]);if(e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=c(n,["negativePrompt"]);e!==void 0&&p!=null&&d(e,["parameters","negativePrompt"],p);const v=c(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(n,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],ya(_));const T=c(n,["referenceImages"]);if(e!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>tR(b))),d(e,["instances[0]","referenceImages"],C)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function ew(n,e,i){const o={},r=c(n,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["fps"]);e!==void 0&&f!=null&&d(e,["parameters","fps"],f);const m=c(n,["durationSeconds"]);e!==void 0&&m!=null&&d(e,["parameters","durationSeconds"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const p=c(n,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const v=c(n,["resolution"]);e!==void 0&&v!=null&&d(e,["parameters","resolution"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(n,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const C=c(n,["negativePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","negativePrompt"],C);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const N=c(n,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const I=c(n,["lastFrame"]);e!==void 0&&I!=null&&d(e,["instances[0]","lastFrame"],pn(I));const z=c(n,["referenceImages"]);if(e!==void 0&&z!=null){let G=z;Array.isArray(G)&&(G=G.map(Z=>nR(Z))),d(e,["instances[0]","referenceImages"],G)}const B=c(n,["mask"]);e!==void 0&&B!=null&&d(e,["instances[0]","mask"],eR(B));const H=c(n,["compressionQuality"]);return e!==void 0&&H!=null&&d(e,["parameters","compressionQuality"],H),o}function tw(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["name"],o);const r=c(n,["metadata"]);r!=null&&d(i,["metadata"],r);const u=c(n,["done"]);u!=null&&d(i,["done"],u);const f=c(n,["error"]);f!=null&&d(i,["error"],f);const m=c(n,["response","generateVideoResponse"]);return m!=null&&d(i,["response"],ow(m)),i}function nw(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["name"],o);const r=c(n,["metadata"]);r!=null&&d(i,["metadata"],r);const u=c(n,["done"]);u!=null&&d(i,["done"],u);const f=c(n,["error"]);f!=null&&d(i,["error"],f);const m=c(n,["response"]);return m!=null&&d(i,["response"],lw(m)),i}function iw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(o,["instances[0]","image"],ya(f));const m=c(e,["video"]);m!=null&&d(o,["instances[0]","video"],vv(m));const y=c(e,["source"]);y!=null&&rw(y,o);const p=c(e,["config"]);return p!=null&&jb(p,o),o}function sw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(o,["instances[0]","image"],pn(f));const m=c(e,["video"]);m!=null&&d(o,["instances[0]","video"],_v(m));const y=c(e,["source"]);y!=null&&aw(y,o);const p=c(e,["config"]);return p!=null&&ew(p,o),o}function ow(n,e){const i={},o=c(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>fw(m))),d(i,["generatedVideos"],f)}const r=c(n,["raiMediaFilteredCount"]);r!=null&&d(i,["raiMediaFilteredCount"],r);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&d(i,["raiMediaFilteredReasons"],u),i}function lw(n,e){const i={},o=c(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>dw(m))),d(i,["generatedVideos"],f)}const r=c(n,["raiMediaFilteredCount"]);r!=null&&d(i,["raiMediaFilteredCount"],r);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&d(i,["raiMediaFilteredReasons"],u),i}function rw(n,e,i){const o={},r=c(n,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],ya(u));const f=c(n,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],vv(f)),o}function aw(n,e,i){const o={},r=c(n,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],pn(u));const f=c(n,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],_v(f)),o}function uw(n,e){const i={},o=c(n,["_self"]);o!=null&&d(i,["image"],Sw(o));const r=c(n,["raiFilteredReason"]);r!=null&&d(i,["raiFilteredReason"],r);const u=c(n,["_self"]);return u!=null&&d(i,["safetyAttributes"],pv(u)),i}function ga(n,e){const i={},o=c(n,["_self"]);o!=null&&d(i,["image"],mv(o));const r=c(n,["raiFilteredReason"]);r!=null&&d(i,["raiFilteredReason"],r);const u=c(n,["_self"]);u!=null&&d(i,["safetyAttributes"],gv(u));const f=c(n,["prompt"]);return f!=null&&d(i,["enhancedPrompt"],f),i}function cw(n,e){const i={},o=c(n,["_self"]);o!=null&&d(i,["mask"],mv(o));const r=c(n,["labels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(i,["labels"],u)}return i}function fw(n,e){const i={},o=c(n,["video"]);return o!=null&&d(i,["video"],Ww(o)),i}function dw(n,e){const i={},o=c(n,["_self"]);return o!=null&&d(i,["video"],jw(o)),i}function hw(n,e){const i={},o=c(n,["modelSelectionConfig"]);o!=null&&d(i,["modelConfig"],o);const r=c(n,["responseJsonSchema"]);r!=null&&d(i,["responseJsonSchema"],r);const u=c(n,["audioTimestamp"]);u!=null&&d(i,["audioTimestamp"],u);const f=c(n,["candidateCount"]);f!=null&&d(i,["candidateCount"],f);const m=c(n,["enableAffectiveDialog"]);m!=null&&d(i,["enableAffectiveDialog"],m);const y=c(n,["frequencyPenalty"]);y!=null&&d(i,["frequencyPenalty"],y);const p=c(n,["logprobs"]);p!=null&&d(i,["logprobs"],p);const v=c(n,["maxOutputTokens"]);v!=null&&d(i,["maxOutputTokens"],v);const _=c(n,["mediaResolution"]);_!=null&&d(i,["mediaResolution"],_);const T=c(n,["presencePenalty"]);T!=null&&d(i,["presencePenalty"],T);const C=c(n,["responseLogprobs"]);C!=null&&d(i,["responseLogprobs"],C);const b=c(n,["responseMimeType"]);b!=null&&d(i,["responseMimeType"],b);const N=c(n,["responseModalities"]);N!=null&&d(i,["responseModalities"],N);const I=c(n,["responseSchema"]);I!=null&&d(i,["responseSchema"],I);const z=c(n,["routingConfig"]);z!=null&&d(i,["routingConfig"],z);const B=c(n,["seed"]);B!=null&&d(i,["seed"],B);const H=c(n,["speechConfig"]);H!=null&&d(i,["speechConfig"],H);const G=c(n,["stopSequences"]);G!=null&&d(i,["stopSequences"],G);const Z=c(n,["temperature"]);Z!=null&&d(i,["temperature"],Z);const O=c(n,["thinkingConfig"]);O!=null&&d(i,["thinkingConfig"],O);const $=c(n,["topK"]);$!=null&&d(i,["topK"],$);const ce=c(n,["topP"]);if(ce!=null&&d(i,["topP"],ce),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function mw(n,e,i){const o={},r=c(e,["model"]);return r!=null&&d(o,["_url","name"],Le(n,r)),o}function pw(n,e,i){const o={},r=c(e,["model"]);return r!=null&&d(o,["_url","name"],Le(n,r)),o}function gw(n,e){const i={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(i,["enableWidget"],o),i}function yw(n,e){const i={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(i,["timeRangeFilter"],o),i}function vw(n,e){const i={},o=c(n,["aspectRatio"]);o!=null&&d(i,["aspectRatio"],o);const r=c(n,["imageSize"]);if(r!=null&&d(i,["imageSize"],r),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function _w(n,e){const i={},o=c(n,["aspectRatio"]);o!=null&&d(i,["aspectRatio"],o);const r=c(n,["imageSize"]);r!=null&&d(i,["imageSize"],r);const u=c(n,["personGeneration"]);u!=null&&d(i,["personGeneration"],u);const f=c(n,["outputMimeType"]);f!=null&&d(i,["imageOutputOptions","mimeType"],f);const m=c(n,["outputCompressionQuality"]);return m!=null&&d(i,["imageOutputOptions","compressionQuality"],m),i}function Sw(n,e){const i={},o=c(n,["bytesBase64Encoded"]);o!=null&&d(i,["imageBytes"],Si(o));const r=c(n,["mimeType"]);return r!=null&&d(i,["mimeType"],r),i}function mv(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&d(i,["gcsUri"],o);const r=c(n,["bytesBase64Encoded"]);r!=null&&d(i,["imageBytes"],Si(r));const u=c(n,["mimeType"]);return u!=null&&d(i,["mimeType"],u),i}function ya(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&d(i,["bytesBase64Encoded"],Si(o));const r=c(n,["mimeType"]);return r!=null&&d(i,["mimeType"],r),i}function pn(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&d(i,["gcsUri"],o);const r=c(n,["imageBytes"]);r!=null&&d(i,["bytesBase64Encoded"],Si(r));const u=c(n,["mimeType"]);return u!=null&&d(i,["mimeType"],u),i}function Tw(n,e,i,o){const r={},u=c(e,["pageSize"]);i!==void 0&&u!=null&&d(i,["_query","pageSize"],u);const f=c(e,["pageToken"]);i!==void 0&&f!=null&&d(i,["_query","pageToken"],f);const m=c(e,["filter"]);i!==void 0&&m!=null&&d(i,["_query","filter"],m);const y=c(e,["queryBase"]);return i!==void 0&&y!=null&&d(i,["_url","models_url"],rv(n,y)),r}function Ew(n,e,i,o){const r={},u=c(e,["pageSize"]);i!==void 0&&u!=null&&d(i,["_query","pageSize"],u);const f=c(e,["pageToken"]);i!==void 0&&f!=null&&d(i,["_query","pageToken"],f);const m=c(e,["filter"]);i!==void 0&&m!=null&&d(i,["_query","filter"],m);const y=c(e,["queryBase"]);return i!==void 0&&y!=null&&d(i,["_url","models_url"],rv(n,y)),r}function Aw(n,e,i){const o={},r=c(e,["config"]);return r!=null&&Tw(n,r,o),o}function Cw(n,e,i){const o={},r=c(e,["config"]);return r!=null&&Ew(n,r,o),o}function xw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=c(n,["_self"]);if(u!=null){let f=av(u);Array.isArray(f)&&(f=f.map(m=>xf(m))),d(i,["models"],f)}return i}function bw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=c(n,["_self"]);if(u!=null){let f=av(u);Array.isArray(f)&&(f=f.map(m=>bf(m))),d(i,["models"],f)}return i}function ww(n,e){const i={},o=c(n,["maskMode"]);o!=null&&d(i,["maskMode"],o);const r=c(n,["segmentationClasses"]);r!=null&&d(i,["maskClasses"],r);const u=c(n,["maskDilation"]);return u!=null&&d(i,["dilation"],u),i}function xf(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["name"],o);const r=c(n,["displayName"]);r!=null&&d(i,["displayName"],r);const u=c(n,["description"]);u!=null&&d(i,["description"],u);const f=c(n,["version"]);f!=null&&d(i,["version"],f);const m=c(n,["_self"]);m!=null&&d(i,["tunedModelInfo"],zw(m));const y=c(n,["inputTokenLimit"]);y!=null&&d(i,["inputTokenLimit"],y);const p=c(n,["outputTokenLimit"]);p!=null&&d(i,["outputTokenLimit"],p);const v=c(n,["supportedGenerationMethods"]);v!=null&&d(i,["supportedActions"],v);const _=c(n,["temperature"]);_!=null&&d(i,["temperature"],_);const T=c(n,["maxTemperature"]);T!=null&&d(i,["maxTemperature"],T);const C=c(n,["topP"]);C!=null&&d(i,["topP"],C);const b=c(n,["topK"]);b!=null&&d(i,["topK"],b);const N=c(n,["thinking"]);return N!=null&&d(i,["thinking"],N),i}function bf(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["name"],o);const r=c(n,["displayName"]);r!=null&&d(i,["displayName"],r);const u=c(n,["description"]);u!=null&&d(i,["description"],u);const f=c(n,["versionId"]);f!=null&&d(i,["version"],f);const m=c(n,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>qb(C))),d(i,["endpoints"],T)}const y=c(n,["labels"]);y!=null&&d(i,["labels"],y);const p=c(n,["_self"]);p!=null&&d(i,["tunedModelInfo"],Fw(p));const v=c(n,["defaultCheckpointId"]);v!=null&&d(i,["defaultCheckpointId"],v);const _=c(n,["checkpoints"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>C)),d(i,["checkpoints"],T)}return i}function Rw(n,e){const i={},o=c(n,["mediaResolution"]);o!=null&&d(i,["mediaResolution"],o);const r=c(n,["codeExecutionResult"]);r!=null&&d(i,["codeExecutionResult"],r);const u=c(n,["executableCode"]);u!=null&&d(i,["executableCode"],u);const f=c(n,["fileData"]);f!=null&&d(i,["fileData"],Bb(f));const m=c(n,["functionCall"]);m!=null&&d(i,["functionCall"],Vb(m));const y=c(n,["functionResponse"]);y!=null&&d(i,["functionResponse"],y);const p=c(n,["inlineData"]);p!=null&&d(i,["inlineData"],hb(p));const v=c(n,["text"]);v!=null&&d(i,["text"],v);const _=c(n,["thought"]);_!=null&&d(i,["thought"],_);const T=c(n,["thoughtSignature"]);T!=null&&d(i,["thoughtSignature"],T);const C=c(n,["videoMetadata"]);return C!=null&&d(i,["videoMetadata"],C),i}function Nw(n,e){const i={},o=c(n,["productImage"]);return o!=null&&d(i,["image"],pn(o)),i}function Iw(n,e,i){const o={},r=c(n,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const u=c(n,["baseSteps"]);e!==void 0&&u!=null&&d(e,["parameters","baseSteps"],u);const f=c(n,["outputGcsUri"]);e!==void 0&&f!=null&&d(e,["parameters","storageUri"],f);const m=c(n,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&d(e,["parameters","safetySetting"],y);const p=c(n,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const v=c(n,["addWatermark"]);e!==void 0&&v!=null&&d(e,["parameters","addWatermark"],v);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const T=c(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const C=c(n,["enhancePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C);const b=c(n,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),o}function Mw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["source"]);u!=null&&Uw(u,o);const f=c(e,["config"]);return f!=null&&Iw(f,o),o}function Dw(n,e){const i={},o=c(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>ga(u))),d(i,["generatedImages"],r)}return i}function Uw(n,e,i){const o={},r=c(n,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const u=c(n,["personImage"]);e!==void 0&&u!=null&&d(e,["instances[0]","personImage","image"],pn(u));const f=c(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>Nw(y))),d(e,["instances[0]","productImages"],m)}return o}function Lw(n,e){const i={},o=c(n,["referenceImage"]);o!=null&&d(i,["referenceImage"],pn(o));const r=c(n,["referenceId"]);r!=null&&d(i,["referenceId"],r);const u=c(n,["referenceType"]);u!=null&&d(i,["referenceType"],u);const f=c(n,["maskImageConfig"]);f!=null&&d(i,["maskImageConfig"],ww(f));const m=c(n,["controlImageConfig"]);m!=null&&d(i,["controlImageConfig"],Sb(m));const y=c(n,["styleImageConfig"]);y!=null&&d(i,["styleImageConfig"],y);const p=c(n,["subjectImageConfig"]);return p!=null&&d(i,["subjectImageConfig"],p),i}function pv(n,e){const i={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(i,["categories"],o);const r=c(n,["safetyAttributes","scores"]);r!=null&&d(i,["scores"],r);const u=c(n,["contentType"]);return u!=null&&d(i,["contentType"],u),i}function gv(n,e){const i={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(i,["categories"],o);const r=c(n,["safetyAttributes","scores"]);r!=null&&d(i,["scores"],r);const u=c(n,["contentType"]);return u!=null&&d(i,["contentType"],u),i}function kw(n,e){const i={},o=c(n,["category"]);if(o!=null&&d(i,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(n,["threshold"]);return r!=null&&d(i,["threshold"],r),i}function Pw(n,e){const i={},o=c(n,["image"]);return o!=null&&d(i,["image"],pn(o)),i}function Ow(n,e,i){const o={},r=c(n,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const u=c(n,["maxPredictions"]);e!==void 0&&u!=null&&d(e,["parameters","maxPredictions"],u);const f=c(n,["confidenceThreshold"]);e!==void 0&&f!=null&&d(e,["parameters","confidenceThreshold"],f);const m=c(n,["maskDilation"]);e!==void 0&&m!=null&&d(e,["parameters","maskDilation"],m);const y=c(n,["binaryColorThreshold"]);e!==void 0&&y!=null&&d(e,["parameters","binaryColorThreshold"],y);const p=c(n,["labels"]);return e!==void 0&&p!=null&&d(e,["labels"],p),o}function Gw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["source"]);u!=null&&qw(u,o);const f=c(e,["config"]);return f!=null&&Ow(f,o),o}function Hw(n,e){const i={},o=c(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>cw(u))),d(i,["generatedMasks"],r)}return i}function qw(n,e,i){const o={},r=c(n,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],pn(u));const f=c(n,["scribbleImage"]);return e!==void 0&&f!=null&&d(e,["instances[0]","scribble"],Pw(f)),o}function Bw(n,e){const i={},o=c(n,["retrievalConfig"]);o!=null&&d(i,["retrievalConfig"],o);const r=c(n,["functionCallingConfig"]);return r!=null&&d(i,["functionCallingConfig"],zb(r)),i}function Vw(n,e){const i={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&d(i,["computerUse"],o);const r=c(n,["fileSearch"]);r!=null&&d(i,["fileSearch"],r);const u=c(n,["codeExecution"]);if(u!=null&&d(i,["codeExecution"],u),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),d(i,["functionDeclarations"],_)}const m=c(n,["googleMaps"]);m!=null&&d(i,["googleMaps"],gw(m));const y=c(n,["googleSearch"]);y!=null&&d(i,["googleSearch"],yw(y));const p=c(n,["googleSearchRetrieval"]);p!=null&&d(i,["googleSearchRetrieval"],p);const v=c(n,["urlContext"]);return v!=null&&d(i,["urlContext"],v),i}function yv(n,e){const i={},o=c(n,["retrieval"]);o!=null&&d(i,["retrieval"],o);const r=c(n,["computerUse"]);if(r!=null&&d(i,["computerUse"],r),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(n,["codeExecution"]);u!=null&&d(i,["codeExecution"],u);const f=c(n,["enterpriseWebSearch"]);f!=null&&d(i,["enterpriseWebSearch"],f);const m=c(n,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>Fb(C))),d(i,["functionDeclarations"],T)}const y=c(n,["googleMaps"]);y!=null&&d(i,["googleMaps"],y);const p=c(n,["googleSearch"]);p!=null&&d(i,["googleSearch"],p);const v=c(n,["googleSearchRetrieval"]);v!=null&&d(i,["googleSearchRetrieval"],v);const _=c(n,["urlContext"]);return _!=null&&d(i,["urlContext"],_),i}function zw(n,e){const i={},o=c(n,["baseModel"]);o!=null&&d(i,["baseModel"],o);const r=c(n,["createTime"]);r!=null&&d(i,["createTime"],r);const u=c(n,["updateTime"]);return u!=null&&d(i,["updateTime"],u),i}function Fw(n,e){const i={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(i,["baseModel"],o);const r=c(n,["createTime"]);r!=null&&d(i,["createTime"],r);const u=c(n,["updateTime"]);return u!=null&&d(i,["updateTime"],u),i}function $w(n,e,i){const o={},r=c(n,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=c(n,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),o}function Jw(n,e,i){const o={},r=c(n,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=c(n,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),o}function Yw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","name"],Le(n,r));const u=c(e,["config"]);return u!=null&&$w(u,o),o}function Xw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["config"]);return u!=null&&Jw(u,o),o}function Kw(n,e,i){const o={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=c(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const f=c(n,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=c(n,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const p=c(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","compressionQuality"],p);const v=c(n,["enhanceInputImage"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],v);const _=c(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const T=c(n,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const C=c(n,["numberOfImages"]);e!==void 0&&C!=null&&d(e,["parameters","sampleCount"],C);const b=c(n,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),o}function Qw(n,e,i){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Le(n,r));const u=c(e,["image"]);u!=null&&d(o,["instances[0]","image"],pn(u));const f=c(e,["upscaleFactor"]);f!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=c(e,["config"]);return m!=null&&Kw(m,o),o}function Zw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>ga(f))),d(i,["generatedImages"],u)}return i}function Ww(n,e){const i={},o=c(n,["uri"]);o!=null&&d(i,["uri"],o);const r=c(n,["encodedVideo"]);r!=null&&d(i,["videoBytes"],Si(r));const u=c(n,["encoding"]);return u!=null&&d(i,["mimeType"],u),i}function jw(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&d(i,["uri"],o);const r=c(n,["bytesBase64Encoded"]);r!=null&&d(i,["videoBytes"],Si(r));const u=c(n,["mimeType"]);return u!=null&&d(i,["mimeType"],u),i}function eR(n,e){const i={},o=c(n,["image"]);o!=null&&d(i,["_self"],pn(o));const r=c(n,["maskMode"]);return r!=null&&d(i,["maskMode"],r),i}function tR(n,e){const i={},o=c(n,["image"]);o!=null&&d(i,["image"],ya(o));const r=c(n,["referenceType"]);return r!=null&&d(i,["referenceType"],r),i}function nR(n,e){const i={},o=c(n,["image"]);o!=null&&d(i,["image"],pn(o));const r=c(n,["referenceType"]);return r!=null&&d(i,["referenceType"],r),i}function vv(n,e){const i={},o=c(n,["uri"]);o!=null&&d(i,["uri"],o);const r=c(n,["videoBytes"]);r!=null&&d(i,["encodedVideo"],Si(r));const u=c(n,["mimeType"]);return u!=null&&d(i,["encoding"],u),i}function _v(n,e){const i={},o=c(n,["uri"]);o!=null&&d(i,["gcsUri"],o);const r=c(n,["videoBytes"]);r!=null&&d(i,["bytesBase64Encoded"],Si(r));const u=c(n,["mimeType"]);return u!=null&&d(i,["mimeType"],u),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iR(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&d(e,["displayName"],o),i}function sR(n){const e={},i=c(n,["config"]);return i!=null&&iR(i,e),e}function oR(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function lR(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&oR(o,e),e}function rR(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function aR(n,e){const i={},o=c(n,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const r=c(n,["chunkingConfig"]);return e!==void 0&&r!=null&&d(e,["chunkingConfig"],r),i}function uR(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],fR(f)),e}function cR(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=c(n,["fileName"]);o!=null&&d(e,["fileName"],o);const r=c(n,["config"]);return r!=null&&aR(r,e),e}function fR(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function dR(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function hR(n){const e={},i=c(n,["config"]);return i!=null&&dR(i,e),e}function mR(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function Sv(n,e){const i={},o=c(n,["mimeType"]);e!==void 0&&o!=null&&d(e,["mimeType"],o);const r=c(n,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),d(e,["customMetadata"],m)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),i}function pR(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=c(n,["config"]);return o!=null&&Sv(o,e),e}function gR(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR="Content-Type",vR="X-Server-Timeout",_R="User-Agent",wf="x-goog-api-client",SR="1.42.0",TR=`google-genai-sdk/${SR}`,ER="v1beta1",AR="v1beta",CR=5,xR=[408,429,500,502,503,504];class bR{constructor(e){var i,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const m=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!m?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:ER}else{if(!this.clientOptions.apiKey)throw new ll({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:AR,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const r=[this.getRequestUrlInternal(i)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Tf.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))r.searchParams.append(f,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(i))typeof u=="object"?o[r]=Object.assign(Object.assign({},o[r]),u):u!==void 0&&(o[r]=u);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,r){if(i&&i.timeout||r){const u=new AbortController,f=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const m=setTimeout(()=>u.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=f}return i&&i.extraBody!==null&&wR(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await f0(r),new Ef(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await f0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return hn(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:v}=yield ge(r.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const N=JSON.parse(JSON.stringify(b.error)),I=N.status,z=N.code,B=`got status: ${I}. ${JSON.stringify(b)}`;if(z>=400&&z<600)throw new ll({message:B,status:z})}}catch(b){if(b.name==="ApiError")throw b}f+=_;let T=-1,C=0;for(;;){T=-1,C=0;for(const I of y){const z=f.indexOf(I);z!==-1&&(T===-1||z<T)&&(T=z,C=I.length)}if(T===-1)break;const b=f.substring(0,T);f=f.substring(T+C);const N=b.trim();if(N.startsWith(m)){const I=N.substring(m.length).trim();try{const z=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ge(new Ef(z))}catch(z){throw new Error(`exception parsing stream chunk ${I}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){var o;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,i);const r=this.clientOptions.httpOptions.retryOptions;return pA(async()=>{const f=await fetch(e,i);if(f.ok)return f;throw xR.includes(f.status)?new Error(`Retryable HTTP Error: ${f.statusText}`):new W0.AbortError(`Non-retryable exception ${f.statusText} sending request`)},{retries:((o=r.attempts)!==null&&o!==void 0?o:CR)-1})}getDefaultHeaders(){const e={},i=TR+" "+this.clientOptions.userAgentExtra;return e[_R]=i,e[wf]=i,e[yR]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))o.append(r,u);e.timeout&&e.timeout>0&&o.append(vR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);r.sizeBytes=String(f.size);const m=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=m;const y={file:r},p=this.getFileName(e),v=j("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,p,y,i==null?void 0:i.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,o){var r;const u=this.clientOptions.uploader,f=await u.stat(i),m=String(f.size),y=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),_={};o!=null&&Sv(o,_);const T=await this.fetchUploadUrl(p,m,y,v,_,o==null?void 0:o.httpOptions);return u.uploadToFileSearchStore(i,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,r,u,f){var m;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=p==null?void 0:p.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function f0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw i>=400&&i<600?new ll({message:r,status:i}):new Error(r)}}function wR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,f){const m=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const p=f[y],v=m[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),m[y]=p)}return m}const r=o(i,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RR="mcp_used/unknown";let NR=!1;function Tv(n){for(const e of n)if(IR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NR}function Ev(n){var e;const i=(e=n[wf])!==null&&e!==void 0?e:"";n[wf]=(i+` ${RR}`).trimStart()}function IR(n){return n!==null&&typeof n=="object"&&n instanceof sd}function MR(n){return hn(this,arguments,function*(i,o=100){let r,u=0;for(;u<o;){const f=yield ge(i.listTools({cursor:r}));for(const m of f.tools)yield yield ge(m),u++;if(!f.nextCursor)break;r=f.nextCursor}})}class sd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new sd(e,i)}async initialize(){var e,i,o,r;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var m=!0,y=(i=void 0,mn(MR(v))),p;p=await y.next(),e=p.done,!e;m=!0){r=p.value,m=!1;const _=r;f.push(_);const T=_.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(_){i={error:_}}finally{try{!m&&!e&&(o=y.return)&&await o.call(y)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),iC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await r.callTool({name:o.name,arguments:o.args},void 0,u);i.push({functionResponse:{name:o.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DR(n,e,i){const o=new KA;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(o,r),e(o)}class UR{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=PR(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const v=new Promise(H=>{p=H}),_=e.callbacks,T=function(){p({})},C=this.apiClient,b={onopen:T,onmessage:H=>{DR(C,_.onmessage,H)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(H){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(H){}},N=this.webSocketFactory.create(y,kR(f),b);N.connect(),await v;const B={setup:{model:Le(this.apiClient,e.model)}};return N.send(JSON.stringify(B)),new LR(N,this.apiClient)}}class LR{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=ib(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=nb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Os.PLAY)}pause(){this.sendPlaybackControl(Os.PAUSE)}stop(){this.sendPlaybackControl(Os.STOP)}resetContext(){this.sendPlaybackControl(Os.RESET_CONTEXT)}close(){this.conn.close()}}function kR(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function PR(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GR(n,e,i){const o=new XA;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const u=JSON.parse(r);if(n.isVertexAI()){const f=lb(u);Object.assign(o,f)}else Object.assign(o,u);e(o)}class HR{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new UR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,r,u,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Tv(e.config.tools)&&Ev(_);const T=zR(_);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),se=this.apiClient.getLocation(),oe=this.apiClient.getApiKey(),Ee=!!Q&&!!se||!!oe;this.apiClient.getCustomBaseUrl()&&!Ee?v=y:(v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const Q=this.apiClient.getApiKey();let se="BidiGenerateContent",oe="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",oe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${se}?${oe}=${Q}`}let C=()=>{};const b=new Promise(Q=>{C=Q}),N=e.callbacks,I=function(){var Q;(Q=N==null?void 0:N.onopen)===null||Q===void 0||Q.call(N),C({})},z=this.apiClient,B={onopen:I,onmessage:Q=>{GR(z,N.onmessage,Q)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(o=N==null?void 0:N.onclose)!==null&&o!==void 0?o:function(Q){}},H=this.webSocketFactory.create(v,VR(T),B);H.connect(),await b;let G=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const Q=this.apiClient.getProject(),se=this.apiClient.getLocation();Q&&se&&(G=`projects/${Q}/locations/${se}/`+G)}let Z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ea.AUDIO]}:e.config.responseModalities=[ea.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],$=[];for(const Q of O)if(this.isCallableTool(Q)){const se=Q;$.push(await se.tool())}else $.push(Q);$.length>0&&(e.config.tools=$);const ce={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=tb(this.apiClient,ce):Z=eb(this.apiClient,ce),delete Z.config,H.send(JSON.stringify(Z)),new BR(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qR={turnComplete:!0};class BR{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Yt(i.turns),e.isVertexAI()||(o=o.map(r=>ul(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(OR)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},qR),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:ob(e)}:i={realtimeInput:sb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function VR(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function zR(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d0=10;function h0(n){var e,i,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(qs(f)){r=!0;break}if(!r)return!0;const u=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function qs(n){return"callTool"in n&&typeof n.callTool=="function"}function FR(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>qs(r)))!==null&&o!==void 0?o:!1}function m0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(qs(o))return;const u=o;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(r)}),i}function p0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $R=class extends $n{constructor(e){super(),this.apiClient=e,this.embedContent=async i=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(i);if(i.model.includes("gemini")&&i.model!=="gemini-embedding-001"||i.model.includes("maas")){const r=Yt(i.contents);if(r.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const u=Object.assign(Object.assign({},i),{content:r[0],embeddingApiType:ta.EMBED_CONTENT});return await this.embedContentInternal(u)}else{const r=Object.assign(Object.assign({},i),{embeddingApiType:ta.PREDICT});return await this.embedContentInternal(r)}},this.generateContent=async i=>{var o,r,u,f,m;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!FR(i)||h0(i.config))return await this.generateContentInternal(y);const p=m0(i);if(p.length>0){const N=p.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let v,_;const T=Yt(y.contents),C=(u=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:d0;let b=0;for(;b<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const N=v.candidates[0].content,I=[];for(const z of(m=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(qs(z)){const H=await z.callTool(v.functionCalls);I.push(...H)}b++,_={role:"user",parts:I},y.contents=Yt(y.contents),y.contents.push(N),y.contents.push(_),p0(y.config)&&(T.push(N),T.push(_))}return p0(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async i=>{var o,r,u,f,m;if(this.maybeMoveToResponseJsonSchem(i),h0(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const y=m0(i);if(y.length>0){const _=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(u=(r=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(m=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var r;let u;const f=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let m;return u?m={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:o.sdkHttpResponse},m}),this.list=async i=>{var o;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((o=f.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new $i(Fn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var o,r,u,f,m,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(u=i.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(m=i.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,r;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const f=await Promise.all(u.map(async y=>qs(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&Tv(e.config.tools)){const y=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ev(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var i,o,r;const u=new Map;for(const f of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(qs(f)){const m=f,y=await m.tool();for(const p of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,m)}}return u}async processAfcStream(e){var i,o,r;const u=(r=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:d0;let f=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(p,v,_){return hn(this,arguments,function*(){for(var T,C,b,N,I,z;m<u;){f&&(m++,f=!1);const Z=yield ge(p.processParamsMaybeAddMcpUsage(_)),O=yield ge(p.generateContentStreamInternal(Z)),$=[],ce=[];try{for(var B=!0,H=(C=void 0,mn(O)),G;G=yield ge(H.next()),T=G.done,!T;B=!0){N=G.value,B=!1;const Q=N;if(yield yield ge(Q),Q.candidates&&(!((I=Q.candidates[0])===null||I===void 0)&&I.content)){ce.push(Q.candidates[0].content);for(const se of(z=Q.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(m<u&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const oe=yield ge(v.get(se.functionCall.name).callTool([se.functionCall]));$.push(...oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(Q){C={error:Q}}finally{try{!B&&!T&&(b=H.return)&&(yield ge(b.call(H)))}finally{if(C)throw C.error}}if($.length>0){f=!0;const Q=new zo;Q.candidates=[{content:{role:"user",parts:$}}],yield yield ge(Q);const se=[];se.push(...ce),se.push({role:"user",parts:$});const oe=Yt(_.contents).concat(se);_.contents=oe}else break}})})(this,y,e)}async generateContentInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=a0(this.apiClient,e);return m=j("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=c0(v),T=new zo;return Object.assign(T,_),T})}else{const p=r0(this.apiClient,e);return m=j("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=u0(v),T=new zo;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=a0(this.apiClient,e);return m=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),f.then(function(_){return hn(this,arguments,function*(){var T,C,b,N;try{for(var I=!0,z=mn(_),B;B=yield ge(z.next()),T=B.done,!T;I=!0){N=B.value,I=!1;const H=N,G=c0(yield ge(H.json()),e);G.sdkHttpResponse={headers:H.headers};const Z=new zo;Object.assign(Z,G),yield yield ge(Z)}}catch(H){C={error:H}}finally{try{!I&&!T&&(b=z.return)&&(yield ge(b.call(z)))}finally{if(C)throw C.error}}})})}else{const p=r0(this.apiClient,e);return m=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return hn(this,arguments,function*(){var T,C,b,N;try{for(var I=!0,z=mn(_),B;B=yield ge(z.next()),T=B.done,!T;I=!0){N=B.value,I=!1;const H=N,G=u0(yield ge(H.json()),e);G.sdkHttpResponse={headers:H.headers};const Z=new zo;Object.assign(Z,G),yield yield ge(Z)}}catch(H){C={error:H}}finally{try{!I&&!T&&(b=z.return)&&(yield ge(b.call(z)))}finally{if(C)throw C.error}}})})}}async embedContentInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Ob(this.apiClient,e,e),v=oC(e.model)?"{model}:embedContent":"{model}:predict";return m=j(v,p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),f.then(_=>{const T=Hb(_,e),C=new Fy;return Object.assign(C,T),C})}else{const p=Pb(this.apiClient,e);return m=j("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Gb(v),T=new Fy;return Object.assign(T,_),T})}}async generateImagesInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Qb(this.apiClient,e);return m=j("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Wb(v),T=new $y;return Object.assign(T,_),T})}else{const p=Kb(this.apiClient,e);return m=j("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Zb(v),T=new $y;return Object.assign(T,_),T})}}async editImageInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=Db(this.apiClient,e);return u=j("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=Ub(y),v=new PA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=Qw(this.apiClient,e);return u=j("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=Zw(y),v=new OA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=Mw(this.apiClient,e);return u=j("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=Dw(y),v=new GA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=Gw(this.apiClient,e);return u=j("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=Hw(y),v=new HA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=pw(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>bf(v))}else{const p=mw(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>xf(v))}}async listInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Cw(this.apiClient,e);return m=j("{models_url}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=bw(v),T=new Jy;return Object.assign(T,_),T})}else{const p=Aw(this.apiClient,e);return m=j("{models_url}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=xw(v),T=new Jy;return Object.assign(T,_),T})}}async update(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Xw(this.apiClient,e);return m=j("{model}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>bf(v))}else{const p=Yw(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>xf(v))}}async delete(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Rb(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Ib(v),T=new Yy;return Object.assign(T,_),T})}else{const p=wb(this.apiClient,e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Nb(v),T=new Yy;return Object.assign(T,_),T})}}async countTokens(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=Cb(this.apiClient,e);return m=j("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=bb(v),T=new Xy;return Object.assign(T,_),T})}else{const p=Ab(this.apiClient,e);return m=j("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=xb(v),T=new Xy;return Object.assign(T,_),T})}}async computeTokens(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=gb(this.apiClient,e);return u=j("{model}:computeTokens",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=yb(y),v=new qA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=sw(this.apiClient,e);return m=j("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>{const _=nw(v),T=new na;return Object.assign(T,_),T})}else{const p=iw(this.apiClient,e);return m=j("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=tw(v),T=new na;return Object.assign(T,_),T})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JR extends $n{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=IA(e);return m=j("{operationName}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f}else{const p=NA(e);return m=j("{operationName}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=EA(e);return u=j("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YR(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function XR(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>iN(u))),d(e,["parts"],r)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function KR(n,e,i){const o={},r=c(e,["expireTime"]);i!==void 0&&r!=null&&d(i,["expireTime"],r);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const f=c(e,["uses"]);i!==void 0&&f!=null&&d(i,["uses"],f);const m=c(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&d(i,["bidiGenerateContentSetup"],nN(n,m));const y=c(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&d(i,["fieldMask"],y),o}function QR(n,e){const i={},o=c(e,["config"]);return o!=null&&d(i,["config"],KR(n,o,i)),i}function ZR(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WR(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function eN(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function tN(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const m=c(n,["topK"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=c(n,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],id(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],XR(ft(b)));const N=c(n,["tools"]);if(e!==void 0&&N!=null){let O=zs(N);Array.isArray(O)&&(O=O.map($=>oN(Vs($)))),d(e,["setup","tools"],O)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],sN(I));const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const H=c(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&d(e,["setup","realtimeInputConfig"],H);const G=c(n,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function nN(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],Le(n,o));const r=c(e,["config"]);return r!=null&&d(i,["config"],tN(r,i)),i}function iN(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],ZR(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],WR(f));const m=c(n,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],YR(y));const p=c(n,["text"]);p!=null&&d(e,["text"],p);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function sN(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oN(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const r=c(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],jR(f));const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],eN(m));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const p=c(n,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lN(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(u=>`${i}.${u}`);e.push(...r)}else e.push(i)}return e.join(",")}function rN(n,e){let i=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,i=u):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(i){const u=lN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];r.length>0&&(m=r.map(p=>f.includes(p)?`generationConfig.${p}`:p));const y=[];u&&y.push(u),m.length>0&&y.push(...m),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class aN extends $n{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=QR(this.apiClient,e);u=j("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const y=rN(m,e.config);return r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uN(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function cN(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&uN(o,e),e}function fN(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function dN(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function hN(n){const e={},i=c(n,["parent"]);i!=null&&d(e,["_url","parent"],i);const o=c(n,["config"]);return o!=null&&dN(o,e),e}function mN(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const r=c(n,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pN extends $n{constructor(e){super(),this.apiClient=e,this.list=async i=>new $i(Fn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fN(e);return u=j("{name}",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var i,o;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cN(e);r=j("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=hN(e);return u=j("{parent}/documents",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=mN(y),v=new BA;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gN extends $n{constructor(e,i=new pN(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new $i(Fn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=sR(e);return u=j("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=rR(e);return u=j("{name}",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var i,o;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=lR(e);r=j("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=hR(e);return u=j("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=mR(y),v=new VA;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pR(e);return u=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=gR(y),v=new zA;return Object.assign(v,p),v})}}async importFile(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=cR(e);return u=j("{file_search_store_name}:importFile",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=uR(y),v=new Wf;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Av=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Av=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const yN=()=>Av();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Nf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rn extends Error{}let an=class If extends rn{constructor(e,i,o,r){super(`${If.makeMessage(e,i,o)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,o){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,o,r){if(!e||!r)return new va({message:o,cause:Nf(i)});const u=i;return e===400?new xv(e,u,o,r):e===401?new bv(e,u,o,r):e===403?new wv(e,u,o,r):e===404?new Rv(e,u,o,r):e===409?new Nv(e,u,o,r):e===422?new Iv(e,u,o,r):e===429?new Mv(e,u,o,r):e>=500?new Dv(e,u,o,r):new If(e,u,o,r)}},Mf=class extends an{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},va=class extends an{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}},Cv=class extends va{constructor({message:e}={}){super({message:e??"Request timed out."})}},xv=class extends an{},bv=class extends an{},wv=class extends an{},Rv=class extends an{},Nv=class extends an{},Iv=class extends an{},Mv=class extends an{},Dv=class extends an{};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vN=/^[a-z][a-z0-9+.-]*:/i,_N=n=>vN.test(n);let Df=n=>(Df=Array.isArray,Df(n));const SN=Df;let TN=SN;const g0=TN;function EN(n){if(!n)return!0;for(const e in n)return!1;return!0}function AN(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const CN=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new rn(`${n} must be an integer`);if(e<0)throw new rn(`${n} must be a positive integer`);return e},xN=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bN=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Us="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const RN=()=>{var n,e,i,o,r;const u=wN();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Us,"X-Stainless-OS":v0(Deno.build.os),"X-Stainless-Arch":y0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Us,"X-Stainless-OS":v0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":y0((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=NN();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function NN(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const o=i.exec(navigator.userAgent);if(o){const r=o[1]||0,u=o[2]||0,f=o[3]||0;return{browser:e,version:`${r}.${u}.${f}`}}}return null}const y0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",v0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Mr;const IN=()=>Mr??(Mr=RN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Uv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function DN(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Uv({start(){},async pull(i){const{done:o,value:r}=await e.next();o?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Lv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UN(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=n.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LN=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rf(n,e,i){return kv(),new File(n,e??"unknown_file",i)}function kN(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const PN=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",ON=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Pv(n),GN=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function HN(n,e,i){if(kv(),n=await n,ON(n))return n instanceof File?n:rf([await n.arrayBuffer()],n.name);if(GN(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),rf(await Uf(r),e,i)}const o=await Uf(n);if(e||(e=kN(n)),!(i!=null&&i.type)){const r=o.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return rf(o,e,i)}async function Uf(n){var e,i,o,r,u;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(Pv(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(PN(n))try{for(var m=!0,y=mn(n),p;p=await y.next(),e=p.done,!e;m=!0){r=p.value,m=!1;const v=r;f.push(...await Uf(v))}}catch(v){i={error:v}}finally{try{!m&&!e&&(o=y.return)&&await o.call(y)}finally{if(i)throw i.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${qN(n)}`)}return f}function qN(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ov=class{constructor(e){this._client=e}};Ov._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const _0=Object.freeze(Object.create(null)),BN=(n=Gv)=>(function(i,...o){if(i.length===1)return i[0];let r=!1;const u=[],f=i.reduce((v,_,T)=>{var C,b,N;/[?#]/.test(_)&&(r=!0);const I=o[T];let z=(r?encodeURIComponent:n)(""+I);return T!==o.length&&(I==null||typeof I=="object"&&I.toString===((N=Object.getPrototypeOf((b=Object.getPrototypeOf((C=I.hasOwnProperty)!==null&&C!==void 0?C:_0))!==null&&b!==void 0?b:_0))===null||N===void 0?void 0:N.toString))&&(z=I+"",u.push({start:v.length+_.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),v+_+(T===o.length?"":z)},""),m=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(m))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((T,C)=>{const b=" ".repeat(C.start-v),N="^".repeat(C.length);return v=C.start+C.length,T+b+N},"");throw new rn(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${f}
${_}`)}return f}),Dr=BN(Gv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv extends Ov{create(e,i){var o;const{api_version:r=this._client.apiVersion}=e,u=sa(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new rn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new rn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Dr`/${r}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(Dr`/${r}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(Dr`/${r}/interactions/${e}/cancel`,o)}get(e,i={},o){var r;const u=i??{},{api_version:f=this._client.apiVersion}=u,m=sa(u,["api_version"]);return this._client.get(Dr`/${f}/interactions/${e}`,Object.assign(Object.assign({query:m},o),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}Hv._key=Object.freeze(["interactions"]);class qv extends Hv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VN(n){let e=0;for(const r of n)e+=r.length;const i=new Uint8Array(e);let o=0;for(const r of n)i.set(r,o),o+=r.length;return i}let Ur;function od(n){let e;return(Ur??(e=new globalThis.TextEncoder,Ur=e.encode.bind(e)))(n)}let Lr;function S0(n){let e;return(Lr??(e=new globalThis.TextDecoder,Lr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _a=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?od(e):e;this.buffer=VN([this.buffer,i]);const o=[];let r;for(;(r=zN(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(S0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=S0(this.buffer.subarray(0,u));o.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};_a.NEWLINE_CHARS=new Set([`
`,"\r"]);_a.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zN(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function FN(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oa={off:0,error:200,warn:300,info:400,debug:500},T0=(n,e,i)=>{if(n){if(AN(oa,n))return n;Ct(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(oa))}`)}};function Jo(){}function kr(n,e,i){return!e||oa[n]>oa[i]?Jo:e[n].bind(e)}const $N={error:Jo,warn:Jo,info:Jo,debug:Jo};let E0=new WeakMap;function Ct(n){var e;const i=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return $N;const r=E0.get(i);if(r&&r[0]===o)return r[1];const u={error:kr("error",i,o),warn:kr("warn",i,o),info:kr("info",i,o),debug:kr("debug",i,o)};return E0.set(i,[o,u]),u}const qi=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JN=class Yo{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let r=!1;const u=o?Ct(o):console;function f(){return hn(this,arguments,function*(){var y,p,v,_;if(r)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var C=!0,b=mn(YN(e,i)),N;N=yield ge(b.next()),y=N.done,!y;C=!0){_=N.value,C=!1;const I=_;if(!T)if(I.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield ge(JSON.parse(I.data))}catch(z){throw u.error("Could not parse message into JSON:",I.data),u.error("From chunk:",I.raw),z}}}catch(I){p={error:I}}finally{try{!C&&!y&&(v=b.return)&&(yield ge(v.call(b)))}finally{if(p)throw p.error}}T=!0}catch(I){if(Rf(I))return yield ge(void 0);throw I}finally{T||i.abort()}})}return new Yo(f,i,o)}static fromReadableStream(e,i,o){let r=!1;function u(){return hn(this,arguments,function*(){var y,p,v,_;const T=new _a,C=Lv(e);try{for(var b=!0,N=mn(C),I;I=yield ge(N.next()),y=I.done,!y;b=!0){_=I.value,b=!1;const z=_;for(const B of T.decode(z))yield yield ge(B)}}catch(z){p={error:z}}finally{try{!b&&!y&&(v=N.return)&&(yield ge(v.call(N)))}finally{if(p)throw p.error}}for(const z of T.flush())yield yield ge(z)})}function f(){return hn(this,arguments,function*(){var y,p,v,_;if(r)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var C=!0,b=mn(u()),N;N=yield ge(b.next()),y=N.done,!y;C=!0){_=N.value,C=!1;const I=_;T||I&&(yield yield ge(JSON.parse(I)))}}catch(I){p={error:I}}finally{try{!C&&!y&&(v=b.return)&&(yield ge(v.call(b)))}finally{if(p)throw p.error}}T=!0}catch(I){if(Rf(I))return yield ge(void 0);throw I}finally{T||i.abort()}})}return new Yo(f,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),r=u=>({next:()=>{if(u.length===0){const f=o.next();e.push(f),i.push(f)}return u.shift()}});return[new Yo(()=>r(e),this.controller,this.client),new Yo(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Uv({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:u}=await i.next();if(u)return o.close();const f=od(JSON.stringify(r)+`
`);o.enqueue(f)}catch(r){o.error(r)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}};function YN(n,e){return hn(this,arguments,function*(){var o,r,u,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new rn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new rn("Attempted to iterate over a response with no body");const m=new KN,y=new _a,p=Lv(n.body);try{for(var v=!0,_=mn(XN(p)),T;T=yield ge(_.next()),o=T.done,!o;v=!0){f=T.value,v=!1;const C=f;for(const b of y.decode(C)){const N=m.decode(b);N&&(yield yield ge(N))}}}catch(C){r={error:C}}finally{try{!v&&!o&&(u=_.return)&&(yield ge(u.call(_)))}finally{if(r)throw r.error}}for(const C of y.flush()){const b=m.decode(C);b&&(yield yield ge(b))}})}function XN(n){return hn(this,arguments,function*(){var i,o,r,u;let f=new Uint8Array;try{for(var m=!0,y=mn(n),p;p=yield ge(y.next()),i=p.done,!i;m=!0){u=p.value,m=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?od(v):v;let T=new Uint8Array(f.length+_.length);T.set(f),T.set(_,f.length),f=T;let C;for(;(C=FN(f))!==-1;)yield yield ge(f.slice(0,C)),f=f.slice(C)}}catch(v){o={error:v}}finally{try{!m&&!i&&(r=y.return)&&(yield ge(r.call(y)))}finally{if(o)throw o.error}}f.length>0&&(yield yield ge(f))})}let KN=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,r]=QN(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}};function QN(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZN(n,e){const{response:i,requestLogID:o,retryOfRequestLogID:r,startTime:u}=e,f=await(async()=>{var m;if(e.options.stream)return Ct(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):JN.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),p=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return Ct(n).debug(`[${o}] response parsed`,qi({retryOfRequestLogID:r,url:i.url,status:i.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WN=class Bv extends Promise{constructor(e,i,o=ZN){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Bv(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=Symbol("brand.privateNullableHeaders");function*jN(n){if(!n)return;if(Vv in n){const{values:o,nulls:r}=n;yield*o.entries();for(const u of r)yield[u,null];return}let e=!1,i;n instanceof Headers?i=n.entries():g0(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let o of i){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const u=g0(o[1])?o[1]:[o[1]];let f=!1;for(const m of u)m!==void 0&&(e&&!f&&(f=!0,yield[r,null]),yield[r,m])}}const Fo=n=>{const e=new Headers,i=new Set;for(const o of n){const r=new Set;for(const[u,f]of jN(o)){const m=u.toLowerCase();r.has(m)||(e.delete(u),r.add(m)),f===null?(e.delete(u),i.add(m)):(e.append(u,f),i.delete(m))}}return{[Vv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const af=n=>{var e,i,o,r,u,f;if(typeof globalThis.process<"u")return(o=(i=(e=gA)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||u===void 0?void 0:u.call(r,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zv;class Sa{constructor(e){var i,o,r,u,f,m,y,{baseURL:p=af("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=af("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:_="v1beta"}=e,T=sa(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:_},T),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(o=C.timeout)!==null&&o!==void 0?o:Sa.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=T0(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:T0(af("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=C.fetchOptions,this.maxRetries=(m=C.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:MN(),this.encoder=LN,this._options=C,this.apiKey=v,this.apiVersion=_,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Fo([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Fo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new rn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Us}`}defaultIdempotencyKey(){return`stainless-node-retry-${yN()}`}makeStatusError(e,i,o,r){return an.generate(e,i,o,r)}buildURL(e,i,o){const r=!this.baseURLOverridden()&&o||this.baseURL,u=_N(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return EN(f)||(i=Object.assign(Object.assign({},f),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new WN(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var r,u,f;const m=await e,y=(r=m.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=y),await this.prepareOptions(m);const{req:p,url:v,timeout:_}=await this.buildRequest(m,{retryCount:y-i});await this.prepareRequest(p,{url:v,options:m});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=o===void 0?"":`, retryOf: ${o}`,b=Date.now();if(Ct(this).debug(`[${T}] sending request`,qi({retryOfRequestLogID:o,method:m.method,url:v,options:m,headers:p.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Mf;const N=new AbortController,I=await this.fetchWithTimeout(v,p,_,N).catch(Nf),z=Date.now();if(I instanceof globalThis.Error){const H=`retrying, ${i} attempts remaining`;if(!((f=m.signal)===null||f===void 0)&&f.aborted)throw new Mf;const G=Rf(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(i)return Ct(this).info(`[${T}] connection ${G?"timed out":"failed"} - ${H}`),Ct(this).debug(`[${T}] connection ${G?"timed out":"failed"} (${H})`,qi({retryOfRequestLogID:o,url:v,durationMs:z-b,message:I.message})),this.retryRequest(m,i,o??T);throw Ct(this).info(`[${T}] connection ${G?"timed out":"failed"} - error; no more retries left`),Ct(this).debug(`[${T}] connection ${G?"timed out":"failed"} (error; no more retries left)`,qi({retryOfRequestLogID:o,url:v,durationMs:z-b,message:I.message})),G?new Cv:new va({cause:I})}const B=`[${T}${C}] ${p.method} ${v} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${z-b}ms`;if(!I.ok){const H=await this.shouldRetry(I);if(i&&H){const Q=`retrying, ${i} attempts remaining`;return await UN(I.body),Ct(this).info(`${B} - ${Q}`),Ct(this).debug(`[${T}] response error (${Q})`,qi({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:z-b})),this.retryRequest(m,i,o??T,I.headers)}const G=H?"error; no more retries left":"error; not retryable";Ct(this).info(`${B} - ${G}`);const Z=await I.text().catch(Q=>Nf(Q).message),O=xN(Z),$=O?void 0:Z;throw Ct(this).debug(`[${T}] response error (${G})`,qi({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,message:$,durationMs:Date.now()-b})),this.makeStatusError(I.status,O,$,I.headers)}return Ct(this).info(B),Ct(this).debug(`[${T}] response start`,qi({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:z-b})),{response:I,options:m,controller:N,requestLogID:T,retryOfRequestLogID:o,startTime:b}}async fetchWithTimeout(e,i,o,r){const u=i||{},{signal:f,method:m}=u,y=sa(u,["signal","method"]),p=this._makeAbort(r);f&&f.addEventListener("abort",p,{once:!0});const v=setTimeout(p,o),_=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},_?{duplex:"half"}:{}),{method:"GET"}),y);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(v)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,r){var u;let f;const m=r==null?void 0:r.get("retry-after-ms");if(m){const p=parseFloat(m);Number.isNaN(p)||(f=p)}const y=r==null?void 0:r.get("retry-after");if(y&&!f){const p=parseFloat(y);Number.isNaN(p)?f=Date.parse(y)-Date.now():f=p*1e3}if(!(f&&0<=f&&f<60*1e3)){const p=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(i,p)}return await bN(f),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,f=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,r,u;const f=Object.assign({},e),{method:m,path:y,query:p,defaultBaseURL:v}=f,_=this.buildURL(y,p,v);"timeout"in f&&CN("timeout",f.timeout),f.timeout=(o=f.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:T,body:C}=this.buildBody({options:f}),b=await this.buildHeaders({options:e,method:m,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:r}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let m=Fo([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),IN()),this._options.defaultHeaders,o,e.headers,f]);return this.validateHeaders(m),m.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Fo([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:DN(e)}:typeof e=="object"&&o.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(e)}:this.encoder({body:e,headers:o})}}Sa.DEFAULT_TIMEOUT=6e4;class dt extends Sa{constructor(){super(...arguments),this.interactions=new qv(this)}}zv=dt;dt.GeminiNextGenAPIClient=zv;dt.GeminiNextGenAPIClientError=rn;dt.APIError=an;dt.APIConnectionError=va;dt.APIConnectionTimeoutError=Cv;dt.APIUserAbortError=Mf;dt.NotFoundError=Rv;dt.ConflictError=Nv;dt.RateLimitError=Mv;dt.BadRequestError=xv;dt.AuthenticationError=bv;dt.InternalServerError=Dv;dt.PermissionDeniedError=wv;dt.UnprocessableEntityError=Iv;dt.toFile=HN;dt.Interactions=qv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eI(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function tI(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function nI(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function iI(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function sI(n,e,i){const o={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const m=c(n,["batchSize"]);e!==void 0&&m!=null&&d(e,["tuningTask","hyperparameters","batchSize"],m);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(c(n,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return o}function oI(n,e,i){const o={};let r=c(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec"],uf(O))}else if(r==="PREFERENCE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec"],uf(O))}else if(r==="DISTILLATION"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["distillationSpec"],uf(O))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(m==="PREFERENCE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(m==="DISTILLATION"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","epochCount"],O)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(y==="PREFERENCE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(y==="DISTILLATION"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(p==="PREFERENCE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(p==="DISTILLATION"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["distillationSpec","exportLastCheckpointOnly"],O)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(v==="PREFERENCE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(v==="DISTILLATION"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","adapterSize"],O)}let _=c(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const O=c(n,["tuningMode"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","tuningMode"],O)}const T=c(n,["customBaseModel"]);e!==void 0&&T!=null&&d(e,["customBaseModel"],T);let C=c(i,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const O=c(n,["batchSize"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let b=c(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRate"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const N=c(n,["labels"]);e!==void 0&&N!=null&&d(e,["labels"],N);const I=c(n,["beta"]);e!==void 0&&I!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],I);const z=c(n,["baseTeacherModel"]);e!==void 0&&z!=null&&d(e,["distillationSpec","baseTeacherModel"],z);const B=c(n,["tunedTeacherModelSource"]);e!==void 0&&B!=null&&d(e,["distillationSpec","tunedTeacherModelSource"],B);const H=c(n,["sftLossWeightMultiplier"]);e!==void 0&&H!=null&&d(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],H);const G=c(n,["outputUri"]);e!==void 0&&G!=null&&d(e,["outputUri"],G);const Z=c(n,["encryptionSpec"]);return e!==void 0&&Z!=null&&d(e,["encryptionSpec"],Z),o}function lI(n,e){const i={},o=c(n,["baseModel"]);o!=null&&d(i,["baseModel"],o);const r=c(n,["preTunedModel"]);r!=null&&d(i,["preTunedModel"],r);const u=c(n,["trainingDataset"]);u!=null&&yI(u);const f=c(n,["config"]);return f!=null&&sI(f,i),i}function rI(n,e){const i={},o=c(n,["baseModel"]);o!=null&&d(i,["baseModel"],o);const r=c(n,["preTunedModel"]);r!=null&&d(i,["preTunedModel"],r);const u=c(n,["trainingDataset"]);u!=null&&vI(u,i,e);const f=c(n,["config"]);return f!=null&&oI(f,i,e),i}function aI(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function uI(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function cI(n,e,i){const o={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),o}function fI(n,e,i){const o={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),o}function dI(n,e){const i={},o=c(n,["config"]);return o!=null&&cI(o,i),i}function hI(n,e){const i={},o=c(n,["config"]);return o!=null&&fI(o,i),i}function mI(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Fv(m))),d(i,["tuningJobs"],f)}return i}function pI(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Lf(m))),d(i,["tuningJobs"],f)}return i}function gI(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["model"],o);const r=c(n,["name"]);return r!=null&&d(i,["endpoint"],r),i}function yI(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(i,["examples","examples"],r)}return i}function vI(n,e,i){const o={};let r=c(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(r==="DISTILLATION"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Fv(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["name"]);r!=null&&d(i,["name"],r);const u=c(n,["state"]);u!=null&&d(i,["state"],ov(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const m=c(n,["tuningTask","startTime"]);m!=null&&d(i,["startTime"],m);const y=c(n,["tuningTask","completeTime"]);y!=null&&d(i,["endTime"],y);const p=c(n,["updateTime"]);p!=null&&d(i,["updateTime"],p);const v=c(n,["description"]);v!=null&&d(i,["description"],v);const _=c(n,["baseModel"]);_!=null&&d(i,["baseModel"],_);const T=c(n,["_self"]);return T!=null&&d(i,["tunedModel"],gI(T)),i}function Lf(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["name"]);r!=null&&d(i,["name"],r);const u=c(n,["state"]);u!=null&&d(i,["state"],ov(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const m=c(n,["startTime"]);m!=null&&d(i,["startTime"],m);const y=c(n,["endTime"]);y!=null&&d(i,["endTime"],y);const p=c(n,["updateTime"]);p!=null&&d(i,["updateTime"],p);const v=c(n,["error"]);v!=null&&d(i,["error"],v);const _=c(n,["description"]);_!=null&&d(i,["description"],_);const T=c(n,["baseModel"]);T!=null&&d(i,["baseModel"],T);const C=c(n,["tunedModel"]);C!=null&&d(i,["tunedModel"],C);const b=c(n,["preTunedModel"]);b!=null&&d(i,["preTunedModel"],b);const N=c(n,["supervisedTuningSpec"]);N!=null&&d(i,["supervisedTuningSpec"],N);const I=c(n,["preferenceOptimizationSpec"]);I!=null&&d(i,["preferenceOptimizationSpec"],I);const z=c(n,["distillationSpec"]);z!=null&&d(i,["distillationSpec"],z);const B=c(n,["tuningDataStats"]);B!=null&&d(i,["tuningDataStats"],B);const H=c(n,["encryptionSpec"]);H!=null&&d(i,["encryptionSpec"],H);const G=c(n,["partnerModelTuningSpec"]);G!=null&&d(i,["partnerModelTuningSpec"],G);const Z=c(n,["customBaseModel"]);Z!=null&&d(i,["customBaseModel"],Z);const O=c(n,["experiment"]);O!=null&&d(i,["experiment"],O);const $=c(n,["labels"]);$!=null&&d(i,["labels"],$);const ce=c(n,["outputUri"]);ce!=null&&d(i,["outputUri"],ce);const Q=c(n,["pipelineJob"]);Q!=null&&d(i,["pipelineJob"],Q);const se=c(n,["serviceAccount"]);se!=null&&d(i,["serviceAccount"],se);const oe=c(n,["tunedModelDisplayName"]);oe!=null&&d(i,["tunedModelDisplayName"],oe);const Ee=c(n,["veoTuningSpec"]);return Ee!=null&&d(i,["veoTuningSpec"],Ee),i}function _I(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const r=c(n,["name"]);r!=null&&d(i,["name"],r);const u=c(n,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(n,["done"]);f!=null&&d(i,["done"],f);const m=c(n,["error"]);return m!=null&&d(i,["error"],m),i}function uf(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&d(i,["validationDatasetUri"],o);const r=c(n,["vertexDatasetResource"]);return r!=null&&d(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SI extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Fn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),u=await this.tuneMldevInternal(r);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Sf.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=uI(e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>Lf(v))}else{const p=aI(e);return m=j("{name}",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>Fv(v))}}async listInternal(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=hI(e);return m=j("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=pI(v),T=new Ky;return Object.assign(T,_),T})}else{const p=dI(e);return m=j("tunedModels",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=mI(v),T=new Ky;return Object.assign(T,_),T})}}async cancel(e){var i,o,r,u;let f,m="",y={};if(this.apiClient.isVertexAI()){const p=tI(e);return m=j("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=iI(v),T=new Qy;return Object.assign(T,_),T})}else{const p=eI(e);return m=j("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=nI(v),T=new Qy;return Object.assign(T,_),T})}}async tuneInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const m=rI(e,e);return u=j("tuningJobs",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Lf(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=lI(e);return u=j("tunedModels",m._url),f=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>_I(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TI{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EI=1024*1024*8,AI=3,CI=1e3,xI=2,la="x-goog-upload-status";async function bI(n,e,i){var o;const r=await $v(n,e,i),u=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[la])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function wI(n,e,i){var o;const r=await $v(n,e,i),u=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[la])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=j0(u),m=new jf;return Object.assign(m,f),m}async function $v(n,e,i){var o,r;let u=0,f=0,m=new Ef(new Response),y="upload";for(u=n.size;f<u;){const p=Math.min(EI,u-f),v=n.slice(f,f+p);f+p>=u&&(y+=", finalize");let _=0,T=CI;for(;_<AI&&(m=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(p)}}}),!(!((o=m==null?void 0:m.headers)===null||o===void 0)&&o[la]));)_++,await NI(T),T=T*xI;if(f+=p,((r=m==null?void 0:m.headers)===null||r===void 0?void 0:r[la])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function RI(n){return{size:n.size,type:n.type}}function NI(n){return new Promise(e=>setTimeout(e,n))}class II{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bI(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wI(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MI{create(e,i,o){return new DI(e,i,o)}}class DI{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0="x-goog-api-key";class UI{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(A0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(A0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LI="gl-node/";class kI{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(e=i==null?void 0:i.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=o.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=SA(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new UI(this.apiKey);this.apiClient=new bR({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LI+"web",uploader:new II,downloader:new TI}),this.models=new $R(this.apiClient),this.live=new HR(this.apiClient,r,new MI),this.batches=new ZC(this.apiClient),this.chats=new Dx(this.models,this.apiClient),this.caches=new Nx(this.apiClient),this.files=new Fx(this.apiClient),this.operations=new JR(this.apiClient),this.authTokens=new aN(this.apiClient),this.tunings=new SI(this.apiClient),this.fileSearchStores=new gN(this.apiClient)}}const Ta=new kI({apiKey:void 0}),Jv={type:Xe.OBJECT,properties:{disease:{type:Xe.STRING},confidence:{type:Xe.NUMBER},description:{type:Xe.STRING},solutions:{type:Xe.OBJECT,properties:{issue:{type:Xe.STRING},chemicalSolution:{type:Xe.OBJECT,properties:{product:{type:Xe.STRING},dosage:{type:Xe.STRING},precautions:{type:Xe.STRING}},required:["product","dosage","precautions"]},naturalSolution:{type:Xe.OBJECT,properties:{name:{type:Xe.STRING},preparation:{type:Xe.STRING},benefits:{type:Xe.STRING},philosophy:{type:Xe.STRING}},required:["name","preparation","benefits","philosophy"]}},required:["issue","chemicalSolution","naturalSolution"]}},required:["disease","confidence","description","solutions"]},PI=async(n,e="en")=>{const o=await Ta.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:n}},{text:`Diagnose the crop disease. Provide chemical and Rajiv Dixit natural solutions in JSON. Output all text in ${An[e]}.`}]},config:{responseMimeType:"application/json",responseSchema:Jv}});return JSON.parse(o.text||"{}")},OI=async(n,e,i="en")=>{var y,p,v;const r=await Ta.models.generateContent({model:"gemini-3-flash-preview",contents:`Farmer Question: "${n}" in "${e||"India"}". Provide chemical and natural solutions with Google Search. Output all text in ${An[i]}.`,config:{tools:[{googleSearch:{}}],responseMimeType:"application/json",responseSchema:Jv.properties.solutions}}),f=(((v=(p=(y=r.candidates)==null?void 0:y[0])==null?void 0:p.groundingMetadata)==null?void 0:v.groundingChunks)||[]).map(_=>{var T,C;return{title:(T=_.web)==null?void 0:T.title,uri:(C=_.web)==null?void 0:C.uri}}).filter(_=>_.uri);return{...JSON.parse(r.text||"{}"),groundingSources:f}},GI=async(n="en")=>(await Ta.models.generateContent({model:"gemini-2.5-flash-lite-latest",contents:`Give a 1-sentence quick professional tip for soil moisture conservation today in ${An[n]}.`})).text||"Keep your soil mulched!",HI=(n,e="en")=>Ta.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",callbacks:n,config:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Puck"}}},inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:`You are 'Kisan Mitra', a wise and warm agricultural advisor. 
      Respond ONLY in ${An[e]} using simple, conversational language.
      
      RULES:
      1. Always address the farmer with respect.
      2. First, offer a natural, zero-budget solution based on Rajiv Dixit's principles.
      3. Then, provide a scientific chemical alternative as a backup.
      4. Use regional farming terms in ${An[e]}.
      5. Agriculture is hard work; be empathetic.`}});function he(n,e,i,o,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,i),i}function L(n,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:e.get(n)}let Yv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Yv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};function kf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Pf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};class ue extends Error{}class St extends ue{constructor(e,i,o,r){super(`${St.makeMessage(e,i,o)}`),this.status=e,this.headers=r,this.requestID=r==null?void 0:r.get("x-request-id"),this.error=i;const u=i;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(e,i,o){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,o,r){if(!e||!r)return new Ea({message:o,cause:Pf(i)});const u=i==null?void 0:i.error;return e===400?new Xv(e,u,o,r):e===401?new Kv(e,u,o,r):e===403?new Qv(e,u,o,r):e===404?new Zv(e,u,o,r):e===409?new Wv(e,u,o,r):e===422?new jv(e,u,o,r):e===429?new e_(e,u,o,r):e>=500?new t_(e,u,o,r):new St(e,u,o,r)}}class ln extends St{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ea extends St{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class ld extends Ea{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Xv extends St{}class Kv extends St{}class Qv extends St{}class Zv extends St{}class Wv extends St{}class jv extends St{}class e_ extends St{}class t_ extends St{}class n_ extends ue{constructor(){super("Could not parse response content as the length limit was reached")}}class i_ extends ue{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Xo extends Error{constructor(e){super(e)}}const qI=/^[a-z][a-z0-9+.-]*:/i,BI=n=>qI.test(n);let Dt=n=>(Dt=Array.isArray,Dt(n)),C0=Dt;function s_(n){return typeof n!="object"?{}:n??{}}function VI(n){if(!n)return!0;for(const e in n)return!1;return!0}function zI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function cf(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}const FI=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ue(`${n} must be an integer`);if(e<0)throw new ue(`${n} must be a positive integer`);return e},$I=n=>{try{return JSON.parse(n)}catch{return}},cl=n=>new Promise(e=>setTimeout(e,n)),Ls="6.22.0",JI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function YI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XI=()=>{var i;const n=YI();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":b0(Deno.build.os),"X-Stainless-Arch":x0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((i=Deno.version)==null?void 0:i.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":b0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":x0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=KI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function KI(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const o=i.exec(navigator.userAgent);if(o){const r=o[1]||0,u=o[2]||0,f=o[3]||0;return{browser:e,version:`${r}.${u}.${f}`}}}return null}const x0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",b0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let w0;const QI=()=>w0??(w0=XI());function ZI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function o_(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function l_(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return o_({start(){},async pull(i){const{done:o,value:r}=await e.next();o?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)==null?void 0:i.call(e))}})}function r_(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function WI(n){var o,r;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((r=(o=n[Symbol.asyncIterator]()).return)==null?void 0:r.call(o));return}const e=n.getReader(),i=e.cancel();e.releaseLock(),await i}const jI=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),a_="RFC3986",u_=n=>String(n),R0={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:u_},eM="RFC1738";let Of=(n,e)=>(Of=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Of(n,e));const Sn=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),ff=1024,tM=(n,e,i,o,r)=>{if(n.length===0)return n;let u=n;if(typeof n=="symbol"?u=Symbol.prototype.toString.call(n):typeof n!="string"&&(u=String(n)),i==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});let f="";for(let m=0;m<u.length;m+=ff){const y=u.length>=ff?u.slice(m,m+ff):u,p=[];for(let v=0;v<y.length;++v){let _=y.charCodeAt(v);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||r===eM&&(_===40||_===41)){p[p.length]=y.charAt(v);continue}if(_<128){p[p.length]=Sn[_];continue}if(_<2048){p[p.length]=Sn[192|_>>6]+Sn[128|_&63];continue}if(_<55296||_>=57344){p[p.length]=Sn[224|_>>12]+Sn[128|_>>6&63]+Sn[128|_&63];continue}v+=1,_=65536+((_&1023)<<10|y.charCodeAt(v)&1023),p[p.length]=Sn[240|_>>18]+Sn[128|_>>12&63]+Sn[128|_>>6&63]+Sn[128|_&63]}f+=p.join("")}return f};function nM(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function N0(n,e){if(Dt(n)){const i=[];for(let o=0;o<n.length;o+=1)i.push(e(n[o]));return i}return e(n)}const c_={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},f_=function(n,e){Array.prototype.push.apply(n,Dt(e)?e:[e])};let I0;const rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:tM,encodeValuesOnly:!1,format:a_,formatter:u_,indices:!1,serializeDate(n){return(I0??(I0=Function.prototype.call.bind(Date.prototype.toISOString)))(n)},skipNulls:!1,strictNullHandling:!1};function iM(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const df={};function d_(n,e,i,o,r,u,f,m,y,p,v,_,T,C,b,N,I,z){let B=n,H=z,G=0,Z=!1;for(;(H=H.get(df))!==void 0&&!Z;){const se=H.get(n);if(G+=1,typeof se<"u"){if(se===G)throw new RangeError("Cyclic object value");Z=!0}typeof H.get(df)>"u"&&(G=0)}if(typeof p=="function"?B=p(e,B):B instanceof Date?B=T==null?void 0:T(B):i==="comma"&&Dt(B)&&(B=N0(B,function(se){return se instanceof Date?T==null?void 0:T(se):se})),B===null){if(u)return y&&!N?y(e,rt.encoder,I,"key",C):e;B=""}if(iM(B)||nM(B)){if(y){const se=N?e:y(e,rt.encoder,I,"key",C);return[(b==null?void 0:b(se))+"="+(b==null?void 0:b(y(B,rt.encoder,I,"value",C)))]}return[(b==null?void 0:b(e))+"="+(b==null?void 0:b(String(B)))]}const O=[];if(typeof B>"u")return O;let $;if(i==="comma"&&Dt(B))N&&y&&(B=N0(B,y)),$=[{value:B.length>0?B.join(",")||null:void 0}];else if(Dt(p))$=p;else{const se=Object.keys(B);$=v?se.sort(v):se}const ce=m?String(e).replace(/\./g,"%2E"):String(e),Q=o&&Dt(B)&&B.length===1?ce+"[]":ce;if(r&&Dt(B)&&B.length===0)return Q+"[]";for(let se=0;se<$.length;++se){const oe=$[se],Ee=typeof oe=="object"&&typeof oe.value<"u"?oe.value:B[oe];if(f&&Ee===null)continue;const Pe=_&&m?oe.replace(/\./g,"%2E"):oe,me=Dt(B)?typeof i=="function"?i(Q,Pe):Q:Q+(_?"."+Pe:"["+Pe+"]");z.set(n,G);const Ae=new WeakMap;Ae.set(df,z),f_(O,d_(Ee,me,i,o,r,u,f,m,i==="comma"&&N&&Dt(B)?null:y,p,v,_,T,C,b,N,I,Ae))}return O}function sM(n=rt){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||rt.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let i=a_;if(typeof n.format<"u"){if(!Of(R0,n.format))throw new TypeError("Unknown format option provided.");i=n.format}const o=R0[i];let r=rt.filter;(typeof n.filter=="function"||Dt(n.filter))&&(r=n.filter);let u;if(n.arrayFormat&&n.arrayFormat in c_?u=n.arrayFormat:"indices"in n?u=n.indices?"indices":"repeat":u=rt.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const f=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:rt.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:rt.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:rt.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:rt.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?rt.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:rt.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:rt.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:rt.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:rt.encodeValuesOnly,filter:r,format:i,formatter:o,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:rt.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:rt.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:rt.strictNullHandling}}function oM(n,e={}){let i=n;const o=sM(e);let r,u;typeof o.filter=="function"?(u=o.filter,i=u("",i)):Dt(o.filter)&&(u=o.filter,r=u);const f=[];if(typeof i!="object"||i===null)return"";const m=c_[o.arrayFormat],y=m==="comma"&&o.commaRoundTrip;r||(r=Object.keys(i)),o.sort&&r.sort(o.sort);const p=new WeakMap;for(let T=0;T<r.length;++T){const C=r[T];o.skipNulls&&i[C]===null||f_(f,d_(i[C],C,m,y,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}const v=f.join(o.delimiter);let _=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""}function lM(n){let e=0;for(const r of n)e+=r.length;const i=new Uint8Array(e);let o=0;for(const r of n)i.set(r,o),o+=r.length;return i}let M0;function rd(n){let e;return(M0??(e=new globalThis.TextEncoder,M0=e.encode.bind(e)))(n)}let D0;function U0(n){let e;return(D0??(e=new globalThis.TextDecoder,D0=e.decode.bind(e)))(n)}var zt,Ft;class Aa{constructor(){zt.set(this,void 0),Ft.set(this,void 0),he(this,zt,new Uint8Array),he(this,Ft,null)}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?rd(e):e;he(this,zt,lM([L(this,zt,"f"),i]));const o=[];let r;for(;(r=rM(L(this,zt,"f"),L(this,Ft,"f")))!=null;){if(r.carriage&&L(this,Ft,"f")==null){he(this,Ft,r.index);continue}if(L(this,Ft,"f")!=null&&(r.index!==L(this,Ft,"f")+1||r.carriage)){o.push(U0(L(this,zt,"f").subarray(0,L(this,Ft,"f")-1))),he(this,zt,L(this,zt,"f").subarray(L(this,Ft,"f"))),he(this,Ft,null);continue}const u=L(this,Ft,"f")!==null?r.preceding-1:r.preceding,f=U0(L(this,zt,"f").subarray(0,u));o.push(f),he(this,zt,L(this,zt,"f").subarray(r.index)),he(this,Ft,null)}return o}flush(){return L(this,zt,"f").length?this.decode(`
`):[]}}zt=new WeakMap,Ft=new WeakMap;Aa.NEWLINE_CHARS=new Set([`
`,"\r"]);Aa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rM(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function aM(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}const ra={off:0,error:200,warn:300,info:400,debug:500},L0=(n,e,i)=>{if(n){if(zI(ra,n))return n;vt(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(ra))}`)}};function Ko(){}function Pr(n,e,i){return!e||ra[n]>ra[i]?Ko:e[n].bind(e)}const uM={error:Ko,warn:Ko,info:Ko,debug:Ko};let k0=new WeakMap;function vt(n){const e=n.logger,i=n.logLevel??"off";if(!e)return uM;const o=k0.get(e);if(o&&o[0]===i)return o[1];const r={error:Pr("error",e,i),warn:Pr("warn",e,i),info:Pr("info",e,i),debug:Pr("debug",e,i)};return k0.set(e,[i,r]),r}const Bi=n=>(n.options&&(n.options={...n.options},delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);var $o;class En{constructor(e,i,o){this.iterator=e,$o.set(this,void 0),this.controller=i,he(this,$o,o)}static fromSSEResponse(e,i,o){let r=!1;const u=o?vt(o):console;async function*f(){if(r)throw new ue("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{for await(const y of cM(e,i))if(!m){if(y.data.startsWith("[DONE]")){m=!0;continue}if(y.event===null||!y.event.startsWith("thread.")){let p;try{p=JSON.parse(y.data)}catch(v){throw u.error("Could not parse message into JSON:",y.data),u.error("From chunk:",y.raw),v}if(p&&p.error)throw new St(void 0,p.error,void 0,e.headers);yield p}else{let p;try{p=JSON.parse(y.data)}catch(v){throw console.error("Could not parse message into JSON:",y.data),console.error("From chunk:",y.raw),v}if(y.event=="error")throw new St(void 0,p.error,p.message,void 0);yield{event:y.event,data:p}}}m=!0}catch(y){if(kf(y))return;throw y}finally{m||i.abort()}}return new En(f,i,o)}static fromReadableStream(e,i,o){let r=!1;async function*u(){const m=new Aa,y=r_(e);for await(const p of y)for(const v of m.decode(p))yield v;for(const p of m.flush())yield p}async function*f(){if(r)throw new ue("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{for await(const y of u())m||y&&(yield JSON.parse(y));m=!0}catch(y){if(kf(y))return;throw y}finally{m||i.abort()}}return new En(f,i,o)}[($o=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),r=u=>({next:()=>{if(u.length===0){const f=o.next();e.push(f),i.push(f)}return u.shift()}});return[new En(()=>r(e),this.controller,L(this,$o,"f")),new En(()=>r(i),this.controller,L(this,$o,"f"))]}toReadableStream(){const e=this;let i;return o_({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:u}=await i.next();if(u)return o.close();const f=rd(JSON.stringify(r)+`
`);o.enqueue(f)}catch(r){o.error(r)}},async cancel(){var o;await((o=i.return)==null?void 0:o.call(i))}})}}async function*cM(n,e){if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ue("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ue("Attempted to iterate over a response with no body");const i=new dM,o=new Aa,r=r_(n.body);for await(const u of fM(r))for(const f of o.decode(u)){const m=i.decode(f);m&&(yield m)}for(const u of o.flush()){const f=i.decode(u);f&&(yield f)}}async function*fM(n){let e=new Uint8Array;for await(const i of n){if(i==null)continue;const o=i instanceof ArrayBuffer?new Uint8Array(i):typeof i=="string"?rd(i):i;let r=new Uint8Array(e.length+o.length);r.set(e),r.set(o,e.length),e=r;let u;for(;(u=aM(e))!==-1;)yield e.slice(0,u),e=e.slice(u)}e.length>0&&(yield e)}class dM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,r]=hM(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function hM(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}async function h_(n,e){const{response:i,requestLogID:o,retryOfRequestLogID:r,startTime:u}=e,f=await(async()=>{var _;if(e.options.stream)return vt(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):En.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const m=i.headers.get("content-type"),y=(_=m==null?void 0:m.split(";")[0])==null?void 0:_.trim();if((y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))){if(i.headers.get("content-length")==="0")return;const C=await i.json();return m_(C,i)}return await i.text()})();return vt(n).debug(`[${o}] response parsed`,Bi({retryOfRequestLogID:r,url:i.url,status:i.status,body:f,durationMs:Date.now()-u})),f}function m_(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Qo;class Ca extends Promise{constructor(e,i,o=h_){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=o,Qo.set(this,void 0),he(this,Qo,e)}_thenUnwrap(e){return new Ca(L(this,Qo,"f"),this.responsePromise,async(i,o)=>m_(e(await this.parseResponse(i,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i,request_id:i.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(L(this,Qo,"f"),e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Qo=new WeakMap;var Or;class ad{constructor(e,i,o,r){Or.set(this,void 0),he(this,Or,e),this.options=r,this.response=i,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ue("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await L(this,Or,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Or=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const i of e.getPaginatedItems())yield i}}class mM extends Ca{constructor(e,i,o){super(e,i,async(r,u)=>new o(r,u.response,await h_(r,u),u.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const i of e)yield i}}class xa extends ad{constructor(e,i,o,r){super(e,i,o,r),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class We extends ad{constructor(e,i,o,r){super(e,i,o,r),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var o;const e=this.getPaginatedItems(),i=(o=e[e.length-1])==null?void 0:o.id;return i?{...this.options,query:{...s_(this.options.query),after:i}}:null}}class aa extends ad{constructor(e,i,o,r){super(e,i,o,r),this.data=o.data||[],this.has_more=o.has_more||!1,this.last_id=o.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...s_(this.options.query),after:e}}:null}}const p_=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)==null?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function il(n,e,i){return p_(),new File(n,e??"unknown_file",i)}function $r(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const ud=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",rl=async(n,e)=>Gf(n.body)?{...n,body:await g_(n.body,e)}:n,Bs=async(n,e)=>({...n,body:await g_(n.body,e)}),P0=new WeakMap;function pM(n){const e=typeof n=="function"?n:n.fetch,i=P0.get(e);if(i)return i;const o=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,u=new FormData;return u.toString()!==await new r(u).text()}catch{return!0}})();return P0.set(e,o),o}const g_=async(n,e)=>{if(!await pM(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const i=new FormData;return await Promise.all(Object.entries(n||{}).map(([o,r])=>Hf(i,o,r))),i},y_=n=>n instanceof Blob&&"name"in n,gM=n=>typeof n=="object"&&n!==null&&(n instanceof Response||ud(n)||y_(n)),Gf=n=>{if(gM(n))return!0;if(Array.isArray(n))return n.some(Gf);if(n&&typeof n=="object"){for(const e in n)if(Gf(n[e]))return!0}return!1},Hf=async(n,e,i)=>{if(i!==void 0){if(i==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")n.append(e,String(i));else if(i instanceof Response)n.append(e,il([await i.blob()],$r(i)));else if(ud(i))n.append(e,il([await new Response(l_(i)).blob()],$r(i)));else if(y_(i))n.append(e,i,$r(i));else if(Array.isArray(i))await Promise.all(i.map(o=>Hf(n,e+"[]",o)));else if(typeof i=="object")await Promise.all(Object.entries(i).map(([o,r])=>Hf(n,`${e}[${o}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`)}},v_=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",yM=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&v_(n),vM=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function _M(n,e,i){if(p_(),n=await n,yM(n))return n instanceof File?n:il([await n.arrayBuffer()],n.name);if(vM(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),il(await qf(r),e,i)}const o=await qf(n);if(e||(e=$r(n)),!(i!=null&&i.type)){const r=o.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof r=="string"&&(i={...i,type:r})}return il(o,e,i)}async function qf(n){var i;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(v_(n))e.push(n instanceof Blob?n:await n.arrayBuffer());else if(ud(n))for await(const o of n)e.push(...await qf(o));else{const o=(i=n==null?void 0:n.constructor)==null?void 0:i.name;throw new Error(`Unexpected data type: ${typeof n}${o?`; constructor: ${o}`:""}${SM(n)}`)}return e}function SM(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}class re{constructor(e){this._client=e}}function __(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const O0=Object.freeze(Object.create(null)),TM=(n=__)=>function(i,...o){if(i.length===1)return i[0];let r=!1;const u=[],f=i.reduce((v,_,T)=>{var N;/[?#]/.test(_)&&(r=!0);const C=o[T];let b=(r?encodeURIComponent:n)(""+C);return T!==o.length&&(C==null||typeof C=="object"&&C.toString===((N=Object.getPrototypeOf(Object.getPrototypeOf(C.hasOwnProperty??O0)??O0))==null?void 0:N.toString))&&(b=C+"",u.push({start:v.length+_.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),v+_+(T===o.length?"":b)},""),m=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(m))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((T,C)=>{const b=" ".repeat(C.start-v),N="^".repeat(C.length);return v=C.start+C.length,T+b+N},"");throw new ue(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${f}
${_}`)}return f},X=TM(__);let S_=class extends re{list(e,i={},o){return this._client.getAPIList(X`/chat/completions/${e}/messages`,We,{query:i,...o})}};function ua(n){return n!==void 0&&"function"in n&&n.function!==void 0}function cd(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function fl(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function EM(n,e){return!e||!T_(e)?{...n,choices:n.choices.map(i=>(E_(i.message.tool_calls),{...i,message:{...i.message,parsed:null,...i.message.tool_calls?{tool_calls:i.message.tool_calls}:void 0}}))}:fd(n,e)}function fd(n,e){const i=n.choices.map(o=>{var r;if(o.finish_reason==="length")throw new n_;if(o.finish_reason==="content_filter")throw new i_;return E_(o.message.tool_calls),{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:((r=o.message.tool_calls)==null?void 0:r.map(u=>CM(e,u)))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?AM(e,o.message.content):null}}});return{...n,choices:i}}function AM(n,e){var i,o;return((i=n.response_format)==null?void 0:i.type)!=="json_schema"?null:((o=n.response_format)==null?void 0:o.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function CM(n,e){var o;const i=(o=n.tools)==null?void 0:o.find(r=>{var u;return ua(r)&&((u=r.function)==null?void 0:u.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:fl(i)?i.$parseRaw(e.function.arguments):i!=null&&i.function.strict?JSON.parse(e.function.arguments):null}}}function xM(n,e){var o;if(!n||!("tools"in n)||!n.tools)return!1;const i=(o=n.tools)==null?void 0:o.find(r=>{var u;return ua(r)&&((u=r.function)==null?void 0:u.name)===e.function.name});return ua(i)&&(fl(i)||(i==null?void 0:i.function.strict)||!1)}function T_(n){var e;return cd(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(i=>fl(i)||i.type==="function"&&i.function.strict===!0))??!1}function E_(n){for(const e of n||[])if(e.type!=="function")throw new ue(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function bM(n){for(const e of n??[]){if(e.type!=="function")throw new ue(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ue(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ca=n=>(n==null?void 0:n.role)==="assistant",A_=n=>(n==null?void 0:n.role)==="tool";var Bf,Jr,Yr,Zo,Wo,Xr,jo,zn,el,fa,da,ks,C_;class dd{constructor(){Bf.add(this),this.controller=new AbortController,Jr.set(this,void 0),Yr.set(this,()=>{}),Zo.set(this,()=>{}),Wo.set(this,void 0),Xr.set(this,()=>{}),jo.set(this,()=>{}),zn.set(this,{}),el.set(this,!1),fa.set(this,!1),da.set(this,!1),ks.set(this,!1),he(this,Jr,new Promise((e,i)=>{he(this,Yr,e,"f"),he(this,Zo,i,"f")})),he(this,Wo,new Promise((e,i)=>{he(this,Xr,e,"f"),he(this,jo,i,"f")})),L(this,Jr,"f").catch(()=>{}),L(this,Wo,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},L(this,Bf,"m",C_).bind(this))},0)}_connected(){this.ended||(L(this,Yr,"f").call(this),this._emit("connect"))}get ended(){return L(this,el,"f")}get errored(){return L(this,fa,"f")}get aborted(){return L(this,da,"f")}abort(){this.controller.abort()}on(e,i){return(L(this,zn,"f")[e]||(L(this,zn,"f")[e]=[])).push({listener:i}),this}off(e,i){const o=L(this,zn,"f")[e];if(!o)return this;const r=o.findIndex(u=>u.listener===i);return r>=0&&o.splice(r,1),this}once(e,i){return(L(this,zn,"f")[e]||(L(this,zn,"f")[e]=[])).push({listener:i,once:!0}),this}emitted(e){return new Promise((i,o)=>{he(this,ks,!0),e!=="error"&&this.once("error",o),this.once(e,i)})}async done(){he(this,ks,!0),await L(this,Wo,"f")}_emit(e,...i){if(L(this,el,"f"))return;e==="end"&&(he(this,el,!0),L(this,Xr,"f").call(this));const o=L(this,zn,"f")[e];if(o&&(L(this,zn,"f")[e]=o.filter(r=>!r.once),o.forEach(({listener:r})=>r(...i))),e==="abort"){const r=i[0];!L(this,ks,"f")&&!(o!=null&&o.length)&&Promise.reject(r),L(this,Zo,"f").call(this,r),L(this,jo,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=i[0];!L(this,ks,"f")&&!(o!=null&&o.length)&&Promise.reject(r),L(this,Zo,"f").call(this,r),L(this,jo,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Jr=new WeakMap,Yr=new WeakMap,Zo=new WeakMap,Wo=new WeakMap,Xr=new WeakMap,jo=new WeakMap,zn=new WeakMap,el=new WeakMap,fa=new WeakMap,da=new WeakMap,ks=new WeakMap,Bf=new WeakSet,C_=function(e){if(he(this,fa,!0),e instanceof Error&&e.name==="AbortError"&&(e=new ln),e instanceof ln)return he(this,da,!0),this._emit("abort",e);if(e instanceof ue)return this._emit("error",e);if(e instanceof Error){const i=new ue(e.message);return i.cause=e,this._emit("error",i)}return this._emit("error",new ue(String(e)))};function wM(n){return typeof n.parse=="function"}var At,Vf,ha,zf,Ff,$f,x_,b_;const RM=10;class w_ extends dd{constructor(){super(...arguments),At.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var o;this._chatCompletions.push(e),this._emit("chatCompletion",e);const i=(o=e.choices[0])==null?void 0:o.message;return i&&this._addMessage(i),e}_addMessage(e,i=!0){if("content"in e||(e.content=null),this.messages.push(e),i){if(this._emit("message",e),A_(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(ca(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionToolCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ue("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),L(this,At,"m",Vf).call(this)}async finalMessage(){return await this.done(),L(this,At,"m",ha).call(this)}async finalFunctionToolCall(){return await this.done(),L(this,At,"m",zf).call(this)}async finalFunctionToolCallResult(){return await this.done(),L(this,At,"m",Ff).call(this)}async totalUsage(){return await this.done(),L(this,At,"m",$f).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const i=L(this,At,"m",ha).call(this);i&&this._emit("finalMessage",i);const o=L(this,At,"m",Vf).call(this);o&&this._emit("finalContent",o);const r=L(this,At,"m",zf).call(this);r&&this._emit("finalFunctionToolCall",r);const u=L(this,At,"m",Ff).call(this);u!=null&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(f=>f.usage)&&this._emit("totalUsage",L(this,At,"m",$f).call(this))}async _createChatCompletion(e,i,o){const r=o==null?void 0:o.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,At,"m",x_).call(this,i);const u=await e.chat.completions.create({...i,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(fd(u,i))}async _runChatCompletion(e,i,o){for(const r of i.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,i,o)}async _runTools(e,i,o){var C,b,N;const r="tool",{tool_choice:u="auto",stream:f,...m}=i,y=typeof u!="string"&&u.type==="function"&&((C=u==null?void 0:u.function)==null?void 0:C.name),{maxChatCompletions:p=RM}=o||{},v=i.tools.map(I=>{if(fl(I)){if(!I.$callback)throw new ue("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:I.$callback,name:I.function.name,description:I.function.description||"",parameters:I.function.parameters,parse:I.$parseRaw,strict:!0}}}return I}),_={};for(const I of v)I.type==="function"&&(_[I.function.name||I.function.function.name]=I.function);const T="tools"in i?v.map(I=>I.type==="function"?{type:"function",function:{name:I.function.name||I.function.function.name,parameters:I.function.parameters,description:I.function.description,strict:I.function.strict}}:I):void 0;for(const I of i.messages)this._addMessage(I,!1);for(let I=0;I<p;++I){const B=(b=(await this._createChatCompletion(e,{...m,tool_choice:u,tools:T,messages:[...this.messages]},o)).choices[0])==null?void 0:b.message;if(!B)throw new ue("missing message in ChatCompletion response");if(!((N=B.tool_calls)!=null&&N.length))return;for(const H of B.tool_calls){if(H.type!=="function")continue;const G=H.id,{name:Z,arguments:O}=H.function,$=_[Z];if($){if(y&&y!==Z){const oe=`Invalid tool_call: ${JSON.stringify(Z)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:r,tool_call_id:G,content:oe});continue}}else{const oe=`Invalid tool_call: ${JSON.stringify(Z)}. Available options are: ${Object.keys(_).map(Ee=>JSON.stringify(Ee)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:G,content:oe});continue}let ce;try{ce=wM($)?await $.parse(O):O}catch(oe){const Ee=oe instanceof Error?oe.message:String(oe);this._addMessage({role:r,tool_call_id:G,content:Ee});continue}const Q=await $.function(ce,this),se=L(this,At,"m",b_).call(this,Q);if(this._addMessage({role:r,tool_call_id:G,content:se}),y)return}}}}At=new WeakSet,Vf=function(){return L(this,At,"m",ha).call(this).content??null},ha=function(){let e=this.messages.length;for(;e-- >0;){const i=this.messages[e];if(ca(i))return{...i,content:i.content??null,refusal:i.refusal??null}}throw new ue("stream ended without producing a ChatCompletionMessage with role=assistant")},zf=function(){var e,i;for(let o=this.messages.length-1;o>=0;o--){const r=this.messages[o];if(ca(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(i=r.tool_calls.filter(u=>u.type==="function").at(-1))==null?void 0:i.function}},Ff=function(){for(let e=this.messages.length-1;e>=0;e--){const i=this.messages[e];if(A_(i)&&i.content!=null&&typeof i.content=="string"&&this.messages.some(o=>{var r;return o.role==="assistant"&&((r=o.tool_calls)==null?void 0:r.some(u=>u.type==="function"&&u.id===i.tool_call_id))}))return i.content}},$f=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:i}of this._chatCompletions)i&&(e.completion_tokens+=i.completion_tokens,e.prompt_tokens+=i.prompt_tokens,e.total_tokens+=i.total_tokens);return e},x_=function(e){if(e.n!=null&&e.n>1)throw new ue("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},b_=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class hd extends w_{static runTools(e,i,o){const r=new hd,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,i,u)),r}_addMessage(e,i=!0){super._addMessage(e,i),ca(e)&&e.content&&this._emit("content",e.content)}}const R_=1,N_=2,I_=4,M_=8,D_=16,U_=32,L_=64,k_=128,P_=256,O_=k_|P_,G_=D_|U_|O_|L_,H_=R_|N_|G_,q_=I_|M_,NM=H_|q_,ct={STR:R_,NUM:N_,ARR:I_,OBJ:M_,NULL:D_,BOOL:U_,NAN:L_,INFINITY:k_,MINUS_INFINITY:P_,INF:O_,SPECIAL:G_,ATOM:H_,COLLECTION:q_,ALL:NM};class IM extends Error{}class MM extends Error{}function DM(n,e=ct.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return UM(n.trim(),e)}const UM=(n,e)=>{const i=n.length;let o=0;const r=T=>{throw new IM(`${T} at position ${o}`)},u=T=>{throw new MM(`${T} at position ${o}`)},f=()=>(_(),o>=i&&r("Unexpected end of input"),n[o]==='"'?m():n[o]==="{"?y():n[o]==="["?p():n.substring(o,o+4)==="null"||ct.NULL&e&&i-o<4&&"null".startsWith(n.substring(o))?(o+=4,null):n.substring(o,o+4)==="true"||ct.BOOL&e&&i-o<4&&"true".startsWith(n.substring(o))?(o+=4,!0):n.substring(o,o+5)==="false"||ct.BOOL&e&&i-o<5&&"false".startsWith(n.substring(o))?(o+=5,!1):n.substring(o,o+8)==="Infinity"||ct.INFINITY&e&&i-o<8&&"Infinity".startsWith(n.substring(o))?(o+=8,1/0):n.substring(o,o+9)==="-Infinity"||ct.MINUS_INFINITY&e&&1<i-o&&i-o<9&&"-Infinity".startsWith(n.substring(o))?(o+=9,-1/0):n.substring(o,o+3)==="NaN"||ct.NAN&e&&i-o<3&&"NaN".startsWith(n.substring(o))?(o+=3,NaN):v()),m=()=>{const T=o;let C=!1;for(o++;o<i&&(n[o]!=='"'||C&&n[o-1]==="\\");)C=n[o]==="\\"?!C:!1,o++;if(n.charAt(o)=='"')try{return JSON.parse(n.substring(T,++o-Number(C)))}catch(b){u(String(b))}else if(ct.STR&e)try{return JSON.parse(n.substring(T,o-Number(C))+'"')}catch{return JSON.parse(n.substring(T,n.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},y=()=>{o++,_();const T={};try{for(;n[o]!=="}";){if(_(),o>=i&&ct.OBJ&e)return T;const C=m();_(),o++;try{const b=f();Object.defineProperty(T,C,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(ct.OBJ&e)return T;throw b}_(),n[o]===","&&o++}}catch{if(ct.OBJ&e)return T;r("Expected '}' at end of object")}return o++,T},p=()=>{o++;const T=[];try{for(;n[o]!=="]";)T.push(f()),_(),n[o]===","&&o++}catch{if(ct.ARR&e)return T;r("Expected ']' at end of array")}return o++,T},v=()=>{if(o===0){n==="-"&&ct.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(n)}catch(C){if(ct.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}u(String(C))}}const T=o;for(n[o]==="-"&&o++;n[o]&&!",]}".includes(n[o]);)o++;o==i&&!(ct.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(n.substring(T,o))}catch{n.substring(T,o)==="-"&&ct.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(n.substring(T,n.lastIndexOf("e")))}catch(b){u(String(b))}}},_=()=>{for(;o<i&&` 
\r	`.includes(n[o]);)o++};return f()},G0=n=>DM(n,ct.ALL^ct.NUM);var lt,Vn,Is,vi,hf,Gr,mf,pf,gf,Hr,yf,H0;class al extends w_{constructor(e){super(),lt.add(this),Vn.set(this,void 0),Is.set(this,void 0),vi.set(this,void 0),he(this,Vn,e),he(this,Is,[])}get currentChatCompletionSnapshot(){return L(this,vi,"f")}static fromReadableStream(e){const i=new al(null);return i._run(()=>i._fromReadableStream(e)),i}static createChatCompletion(e,i,o){const r=new al(i);return r._run(()=>r._runChatCompletion(e,{...i,stream:!0},{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,i,o){var f;super._createChatCompletion;const r=o==null?void 0:o.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,lt,"m",hf).call(this);const u=await e.chat.completions.create({...i,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const m of u)L(this,lt,"m",mf).call(this,m);if((f=u.controller.signal)!=null&&f.aborted)throw new ln;return this._addChatCompletion(L(this,lt,"m",Hr).call(this))}async _fromReadableStream(e,i){var f;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),L(this,lt,"m",hf).call(this),this._connected();const r=En.fromReadableStream(e,this.controller);let u;for await(const m of r)u&&u!==m.id&&this._addChatCompletion(L(this,lt,"m",Hr).call(this)),L(this,lt,"m",mf).call(this,m),u=m.id;if((f=r.controller.signal)!=null&&f.aborted)throw new ln;return this._addChatCompletion(L(this,lt,"m",Hr).call(this))}[(Vn=new WeakMap,Is=new WeakMap,vi=new WeakMap,lt=new WeakSet,hf=function(){this.ended||he(this,vi,void 0)},Gr=function(i){let o=L(this,Is,"f")[i.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},L(this,Is,"f")[i.index]=o,o)},mf=function(i){var r,u,f,m,y,p,v,_,T,C,b,N,I,z,B;if(this.ended)return;const o=L(this,lt,"m",H0).call(this,i);this._emit("chunk",i,o);for(const H of i.choices){const G=o.choices[H.index];H.delta.content!=null&&((r=G.message)==null?void 0:r.role)==="assistant"&&((u=G.message)!=null&&u.content)&&(this._emit("content",H.delta.content,G.message.content),this._emit("content.delta",{delta:H.delta.content,snapshot:G.message.content,parsed:G.message.parsed})),H.delta.refusal!=null&&((f=G.message)==null?void 0:f.role)==="assistant"&&((m=G.message)!=null&&m.refusal)&&this._emit("refusal.delta",{delta:H.delta.refusal,snapshot:G.message.refusal}),((y=H.logprobs)==null?void 0:y.content)!=null&&((p=G.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(v=H.logprobs)==null?void 0:v.content,snapshot:((_=G.logprobs)==null?void 0:_.content)??[]}),((T=H.logprobs)==null?void 0:T.refusal)!=null&&((C=G.message)==null?void 0:C.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=H.logprobs)==null?void 0:b.refusal,snapshot:((N=G.logprobs)==null?void 0:N.refusal)??[]});const Z=L(this,lt,"m",Gr).call(this,G);G.finish_reason&&(L(this,lt,"m",gf).call(this,G),Z.current_tool_call_index!=null&&L(this,lt,"m",pf).call(this,G,Z.current_tool_call_index));for(const O of H.delta.tool_calls??[])Z.current_tool_call_index!==O.index&&(L(this,lt,"m",gf).call(this,G),Z.current_tool_call_index!=null&&L(this,lt,"m",pf).call(this,G,Z.current_tool_call_index)),Z.current_tool_call_index=O.index;for(const O of H.delta.tool_calls??[]){const $=(I=G.message.tool_calls)==null?void 0:I[O.index];$!=null&&$.type&&(($==null?void 0:$.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(z=$.function)==null?void 0:z.name,index:O.index,arguments:$.function.arguments,parsed_arguments:$.function.parsed_arguments,arguments_delta:((B=O.function)==null?void 0:B.arguments)??""}):($==null||$.type,void 0))}}},pf=function(i,o){var f,m,y;if(L(this,lt,"m",Gr).call(this,i).done_tool_calls.has(o))return;const u=(f=i.message.tool_calls)==null?void 0:f[o];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const p=(y=(m=L(this,Vn,"f"))==null?void 0:m.tools)==null?void 0:y.find(v=>ua(v)&&v.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:o,arguments:u.function.arguments,parsed_arguments:fl(p)?p.$parseRaw(u.function.arguments):p!=null&&p.function.strict?JSON.parse(u.function.arguments):null})}else u.type},gf=function(i){var r,u;const o=L(this,lt,"m",Gr).call(this,i);if(i.message.content&&!o.content_done){o.content_done=!0;const f=L(this,lt,"m",yf).call(this);this._emit("content.done",{content:i.message.content,parsed:f?f.$parseRaw(i.message.content):null})}i.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:i.message.refusal})),(r=i.logprobs)!=null&&r.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:i.logprobs.content})),(u=i.logprobs)!=null&&u.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:i.logprobs.refusal}))},Hr=function(){if(this.ended)throw new ue("stream has ended, this shouldn't happen");const i=L(this,vi,"f");if(!i)throw new ue("request ended without sending any chunks");return he(this,vi,void 0),he(this,Is,[]),LM(i,L(this,Vn,"f"))},yf=function(){var o;const i=(o=L(this,Vn,"f"))==null?void 0:o.response_format;return cd(i)?i:null},H0=function(i){var o,r,u,f;let m=L(this,vi,"f");const{choices:y,...p}=i;m?Object.assign(m,p):m=he(this,vi,{...p,choices:[]});for(const{delta:v,finish_reason:_,index:T,logprobs:C=null,...b}of i.choices){let N=m.choices[T];if(N||(N=m.choices[T]={finish_reason:_,index:T,message:{},logprobs:C,...b}),C)if(!N.logprobs)N.logprobs=Object.assign({},C);else{const{content:O,refusal:$,...ce}=C;Object.assign(N.logprobs,ce),O&&((o=N.logprobs).content??(o.content=[]),N.logprobs.content.push(...O)),$&&((r=N.logprobs).refusal??(r.refusal=[]),N.logprobs.refusal.push(...$))}if(_&&(N.finish_reason=_,L(this,Vn,"f")&&T_(L(this,Vn,"f")))){if(_==="length")throw new n_;if(_==="content_filter")throw new i_}if(Object.assign(N,b),!v)continue;const{content:I,refusal:z,function_call:B,role:H,tool_calls:G,...Z}=v;if(Object.assign(N.message,Z),z&&(N.message.refusal=(N.message.refusal||"")+z),H&&(N.message.role=H),B&&(N.message.function_call?(B.name&&(N.message.function_call.name=B.name),B.arguments&&((u=N.message.function_call).arguments??(u.arguments=""),N.message.function_call.arguments+=B.arguments)):N.message.function_call=B),I&&(N.message.content=(N.message.content||"")+I,!N.message.refusal&&L(this,lt,"m",yf).call(this)&&(N.message.parsed=G0(N.message.content))),G){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:O,id:$,type:ce,function:Q,...se}of G){const oe=(f=N.message.tool_calls)[O]??(f[O]={});Object.assign(oe,se),$&&(oe.id=$),ce&&(oe.type=ce),Q&&(oe.function??(oe.function={name:Q.name??"",arguments:""})),Q!=null&&Q.name&&(oe.function.name=Q.name),Q!=null&&Q.arguments&&(oe.function.arguments+=Q.arguments,xM(L(this,Vn,"f"),oe)&&(oe.function.parsed_arguments=G0(oe.function.arguments)))}}}return m},Symbol.asyncIterator)](){const e=[],i=[];let o=!1;return this.on("chunk",r=>{const u=i.shift();u?u.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of i)r.resolve(void 0);i.length=0}),this.on("abort",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),this.on("error",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,f)=>i.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new En(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function LM(n,e){const{id:i,choices:o,created:r,model:u,system_fingerprint:f,...m}=n,y={...m,id:i,choices:o.map(({message:p,finish_reason:v,index:_,logprobs:T,...C})=>{if(!v)throw new ue(`missing finish_reason for choice ${_}`);const{content:b=null,function_call:N,tool_calls:I,...z}=p,B=p.role;if(!B)throw new ue(`missing role for choice ${_}`);if(N){const{arguments:H,name:G}=N;if(H==null)throw new ue(`missing function_call.arguments for choice ${_}`);if(!G)throw new ue(`missing function_call.name for choice ${_}`);return{...C,message:{content:b,function_call:{arguments:H,name:G},role:B,refusal:p.refusal??null},finish_reason:v,index:_,logprobs:T}}return I?{...C,index:_,finish_reason:v,logprobs:T,message:{...z,role:B,content:b,refusal:p.refusal??null,tool_calls:I.map((H,G)=>{const{function:Z,type:O,id:$,...ce}=H,{arguments:Q,name:se,...oe}=Z||{};if($==null)throw new ue(`missing choices[${_}].tool_calls[${G}].id
${qr(n)}`);if(O==null)throw new ue(`missing choices[${_}].tool_calls[${G}].type
${qr(n)}`);if(se==null)throw new ue(`missing choices[${_}].tool_calls[${G}].function.name
${qr(n)}`);if(Q==null)throw new ue(`missing choices[${_}].tool_calls[${G}].function.arguments
${qr(n)}`);return{...ce,id:$,type:O,function:{...oe,name:se,arguments:Q}}})}}:{...C,message:{...z,content:b,role:B,refusal:p.refusal??null},finish_reason:v,index:_,logprobs:T}}),created:r,model:u,object:"chat.completion",...f?{system_fingerprint:f}:{}};return EM(y,e)}function qr(n){return JSON.stringify(n)}class ma extends al{static fromReadableStream(e){const i=new ma(null);return i._run(()=>i._fromReadableStream(e)),i}static runTools(e,i,o){const r=new ma(i),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,i,u)),r}}let md=class extends re{constructor(){super(...arguments),this.messages=new S_(this._client)}create(e,i){return this._client.post("/chat/completions",{body:e,...i,stream:e.stream??!1})}retrieve(e,i){return this._client.get(X`/chat/completions/${e}`,i)}update(e,i,o){return this._client.post(X`/chat/completions/${e}`,{body:i,...o})}list(e={},i){return this._client.getAPIList("/chat/completions",We,{query:e,...i})}delete(e,i){return this._client.delete(X`/chat/completions/${e}`,i)}parse(e,i){return bM(e.tools),this._client.chat.completions.create(e,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(o=>fd(o,e))}runTools(e,i){return e.stream?ma.runTools(this._client,e,i):hd.runTools(this._client,e,i)}stream(e,i){return al.createChatCompletion(this._client,e,i)}};md.Messages=S_;class pd extends re{constructor(){super(...arguments),this.completions=new md(this._client)}}pd.Completions=md;const B_=Symbol("brand.privateNullableHeaders");function*kM(n){if(!n)return;if(B_ in n){const{values:o,nulls:r}=n;yield*o.entries();for(const u of r)yield[u,null];return}let e=!1,i;n instanceof Headers?i=n.entries():C0(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let o of i){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const u=C0(o[1])?o[1]:[o[1]];let f=!1;for(const m of u)m!==void 0&&(e&&!f&&(f=!0,yield[r,null]),yield[r,m])}}const ne=n=>{const e=new Headers,i=new Set;for(const o of n){const r=new Set;for(const[u,f]of kM(o)){const m=u.toLowerCase();r.has(m)||(e.delete(u),r.add(m)),f===null?(e.delete(u),i.add(m)):(e.append(u,f),i.delete(m))}}return{[B_]:!0,values:e,nulls:i}};class V_ extends re{create(e,i){return this._client.post("/audio/speech",{body:e,...i,headers:ne([{Accept:"application/octet-stream"},i==null?void 0:i.headers]),__binaryResponse:!0})}}class z_ extends re{create(e,i){return this._client.post("/audio/transcriptions",Bs({body:e,...i,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class F_ extends re{create(e,i){return this._client.post("/audio/translations",Bs({body:e,...i,__metadata:{model:e.model}},this._client))}}class dl extends re{constructor(){super(...arguments),this.transcriptions=new z_(this._client),this.translations=new F_(this._client),this.speech=new V_(this._client)}}dl.Transcriptions=z_;dl.Translations=F_;dl.Speech=V_;class $_ extends re{create(e,i){return this._client.post("/batches",{body:e,...i})}retrieve(e,i){return this._client.get(X`/batches/${e}`,i)}list(e={},i){return this._client.getAPIList("/batches",We,{query:e,...i})}cancel(e,i){return this._client.post(X`/batches/${e}/cancel`,i)}}class J_ extends re{create(e,i){return this._client.post("/assistants",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,i){return this._client.get(X`/assistants/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,i,o){return this._client.post(X`/assistants/${e}`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e={},i){return this._client.getAPIList("/assistants",We,{query:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(e,i){return this._client.delete(X`/assistants/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}let Y_=class extends re{create(e,i){return this._client.post("/realtime/sessions",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}};class X_ extends re{create(e,i){return this._client.post("/realtime/transcription_sessions",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}let ba=class extends re{constructor(){super(...arguments),this.sessions=new Y_(this._client),this.transcriptionSessions=new X_(this._client)}};ba.Sessions=Y_;ba.TranscriptionSessions=X_;class K_ extends re{create(e,i){return this._client.post("/chatkit/sessions",{body:e,...i,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}cancel(e,i){return this._client.post(X`/chatkit/sessions/${e}/cancel`,{...i,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}}let Q_=class extends re{retrieve(e,i){return this._client.get(X`/chatkit/threads/${e}`,{...i,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}list(e={},i){return this._client.getAPIList("/chatkit/threads",aa,{query:e,...i,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}delete(e,i){return this._client.delete(X`/chatkit/threads/${e}`,{...i,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}listItems(e,i={},o){return this._client.getAPIList(X`/chatkit/threads/${e}/items`,aa,{query:i,...o,headers:ne([{"OpenAI-Beta":"chatkit_beta=v1"},o==null?void 0:o.headers])})}};class wa extends re{constructor(){super(...arguments),this.sessions=new K_(this._client),this.threads=new Q_(this._client)}}wa.Sessions=K_;wa.Threads=Q_;class Z_ extends re{create(e,i,o){return this._client.post(X`/threads/${e}/messages`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}retrieve(e,i,o){const{thread_id:r}=i;return this._client.get(X`/threads/${r}/messages/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}update(e,i,o){const{thread_id:r,...u}=i;return this._client.post(X`/threads/${r}/messages/${e}`,{body:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e,i={},o){return this._client.getAPIList(X`/threads/${e}/messages`,We,{query:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}delete(e,i,o){const{thread_id:r}=i;return this._client.delete(X`/threads/${r}/messages/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}}class W_ extends re{retrieve(e,i,o){const{thread_id:r,run_id:u,...f}=i;return this._client.get(X`/threads/${r}/runs/${u}/steps/${e}`,{query:f,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e,i,o){const{thread_id:r,...u}=i;return this._client.getAPIList(X`/threads/${r}/runs/${e}/steps`,We,{query:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}}const PM=n=>{if(typeof Buffer<"u"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),i=e.length,o=new Uint8Array(i);for(let r=0;r<i;r++)o[r]=e.charCodeAt(r);return Array.from(new Float32Array(o.buffer))}};var vf={};const Ms=n=>{var e,i,o,r;if(typeof globalThis.process<"u")return((e=vf==null?void 0:vf[n])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(r=(o=(i=globalThis.Deno.env)==null?void 0:i.get)==null?void 0:o.call(i,n))==null?void 0:r.trim()};var _t,zi,Jf,Tn,Kr,dn,Fi,Gs,Vi,pa,$t,Qr,Zr,sl,tl,nl,q0,B0,V0,z0,F0,$0,J0;class ol extends dd{constructor(){super(...arguments),_t.add(this),Jf.set(this,[]),Tn.set(this,{}),Kr.set(this,{}),dn.set(this,void 0),Fi.set(this,void 0),Gs.set(this,void 0),Vi.set(this,void 0),pa.set(this,void 0),$t.set(this,void 0),Qr.set(this,void 0),Zr.set(this,void 0),sl.set(this,void 0)}[(Jf=new WeakMap,Tn=new WeakMap,Kr=new WeakMap,dn=new WeakMap,Fi=new WeakMap,Gs=new WeakMap,Vi=new WeakMap,pa=new WeakMap,$t=new WeakMap,Qr=new WeakMap,Zr=new WeakMap,sl=new WeakMap,_t=new WeakSet,Symbol.asyncIterator)](){const e=[],i=[];let o=!1;return this.on("event",r=>{const u=i.shift();u?u.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of i)r.resolve(void 0);i.length=0}),this.on("abort",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),this.on("error",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,f)=>i.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const i=new zi;return i._run(()=>i._fromReadableStream(e)),i}async _fromReadableStream(e,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=En.fromReadableStream(e,this.controller);for await(const f of r)L(this,_t,"m",tl).call(this,f);if((u=r.controller.signal)!=null&&u.aborted)throw new ln;return this._addRun(L(this,_t,"m",nl).call(this))}toReadableStream(){return new En(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,i,o,r){const u=new zi;return u._run(()=>u._runToolAssistantStream(e,i,o,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createToolAssistantStream(e,i,o,r){var y;const u=r==null?void 0:r.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...o,stream:!0},m=await e.submitToolOutputs(i,f,{...r,signal:this.controller.signal});this._connected();for await(const p of m)L(this,_t,"m",tl).call(this,p);if((y=m.controller.signal)!=null&&y.aborted)throw new ln;return this._addRun(L(this,_t,"m",nl).call(this))}static createThreadAssistantStream(e,i,o){const r=new zi;return r._run(()=>r._threadAssistantStream(e,i,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,i,o,r){const u=new zi;return u._run(()=>u._runAssistantStream(e,i,o,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return L(this,Qr,"f")}currentRun(){return L(this,Zr,"f")}currentMessageSnapshot(){return L(this,dn,"f")}currentRunStepSnapshot(){return L(this,sl,"f")}async finalRunSteps(){return await this.done(),Object.values(L(this,Tn,"f"))}async finalMessages(){return await this.done(),Object.values(L(this,Kr,"f"))}async finalRun(){if(await this.done(),!L(this,Fi,"f"))throw Error("Final run was not received.");return L(this,Fi,"f")}async _createThreadAssistantStream(e,i,o){var m;const r=o==null?void 0:o.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},f=await e.createAndRun(u,{...o,signal:this.controller.signal});this._connected();for await(const y of f)L(this,_t,"m",tl).call(this,y);if((m=f.controller.signal)!=null&&m.aborted)throw new ln;return this._addRun(L(this,_t,"m",nl).call(this))}async _createAssistantStream(e,i,o,r){var y;const u=r==null?void 0:r.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...o,stream:!0},m=await e.create(i,f,{...r,signal:this.controller.signal});this._connected();for await(const p of m)L(this,_t,"m",tl).call(this,p);if((y=m.controller.signal)!=null&&y.aborted)throw new ln;return this._addRun(L(this,_t,"m",nl).call(this))}static accumulateDelta(e,i){for(const[o,r]of Object.entries(i)){if(!e.hasOwnProperty(o)){e[o]=r;continue}let u=e[o];if(u==null){e[o]=r;continue}if(o==="index"||o==="type"){e[o]=r;continue}if(typeof u=="string"&&typeof r=="string")u+=r;else if(typeof u=="number"&&typeof r=="number")u+=r;else if(cf(u)&&cf(r))u=this.accumulateDelta(u,r);else if(Array.isArray(u)&&Array.isArray(r)){if(u.every(f=>typeof f=="string"||typeof f=="number")){u.push(...r);continue}for(const f of r){if(!cf(f))throw new Error(`Expected array delta entry to be an object but got: ${f}`);const m=f.index;if(m==null)throw console.error(f),new Error("Expected array delta entry to have an `index` property");if(typeof m!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${m}`);const y=u[m];y==null?u.push(f):u[m]=this.accumulateDelta(y,f)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${r}, accValue: ${u}`);e[o]=u}return e}_addRun(e){return e}async _threadAssistantStream(e,i,o){return await this._createThreadAssistantStream(i,e,o)}async _runAssistantStream(e,i,o,r){return await this._createAssistantStream(i,e,o,r)}async _runToolAssistantStream(e,i,o,r){return await this._createToolAssistantStream(i,e,o,r)}}zi=ol,tl=function(e){if(!this.ended)switch(he(this,Qr,e),L(this,_t,"m",V0).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":L(this,_t,"m",J0).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":L(this,_t,"m",B0).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":L(this,_t,"m",q0).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},nl=function(){if(this.ended)throw new ue("stream has ended, this shouldn't happen");if(!L(this,Fi,"f"))throw Error("Final run has not been received");return L(this,Fi,"f")},q0=function(e){const[i,o]=L(this,_t,"m",F0).call(this,e,L(this,dn,"f"));he(this,dn,i),L(this,Kr,"f")[i.id]=i;for(const r of o){const u=i.content[r.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,i),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let u=r.text,f=i.content[r.index];if(f&&f.type=="text")this._emit("textDelta",u,f.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=L(this,Gs,"f")){if(L(this,Vi,"f"))switch(L(this,Vi,"f").type){case"text":this._emit("textDone",L(this,Vi,"f").text,L(this,dn,"f"));break;case"image_file":this._emit("imageFileDone",L(this,Vi,"f").image_file,L(this,dn,"f"));break}he(this,Gs,r.index)}he(this,Vi,i.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(L(this,Gs,"f")!==void 0){const r=e.data.content[L(this,Gs,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,L(this,dn,"f"));break;case"text":this._emit("textDone",r.text,L(this,dn,"f"));break}}L(this,dn,"f")&&this._emit("messageDone",e.data),he(this,dn,void 0)}},B0=function(e){const i=L(this,_t,"m",z0).call(this,e);switch(he(this,sl,i),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&i.step_details.type=="tool_calls")for(const u of o.step_details.tool_calls)u.index==L(this,pa,"f")?this._emit("toolCallDelta",u,i.step_details.tool_calls[u.index]):(L(this,$t,"f")&&this._emit("toolCallDone",L(this,$t,"f")),he(this,pa,u.index),he(this,$t,i.step_details.tool_calls[u.index]),L(this,$t,"f")&&this._emit("toolCallCreated",L(this,$t,"f")));this._emit("runStepDelta",e.data.delta,i);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":he(this,sl,void 0),e.data.step_details.type=="tool_calls"&&L(this,$t,"f")&&(this._emit("toolCallDone",L(this,$t,"f")),he(this,$t,void 0)),this._emit("runStepDone",e.data,i);break}},V0=function(e){L(this,Jf,"f").push(e),this._emit("event",e)},z0=function(e){switch(e.event){case"thread.run.step.created":return L(this,Tn,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let i=L(this,Tn,"f")[e.data.id];if(!i)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const r=zi.accumulateDelta(i,o.delta);L(this,Tn,"f")[e.data.id]=r}return L(this,Tn,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":L(this,Tn,"f")[e.data.id]=e.data;break}if(L(this,Tn,"f")[e.data.id])return L(this,Tn,"f")[e.data.id];throw new Error("No snapshot available")},F0=function(e,i){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!i)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const u of r.delta.content)if(u.index in i.content){let f=i.content[u.index];i.content[u.index]=L(this,_t,"m",$0).call(this,u,f)}else i.content[u.index]=u,o.push(u);return[i,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(i)return[i,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},$0=function(e,i){return zi.accumulateDelta(i,e)},J0=function(e){switch(he(this,Zr,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":he(this,Fi,e.data),L(this,$t,"f")&&(this._emit("toolCallDone",L(this,$t,"f")),he(this,$t,void 0));break}};let gd=class extends re{constructor(){super(...arguments),this.steps=new W_(this._client)}create(e,i,o){const{include:r,...u}=i;return this._client.post(X`/threads/${e}/runs`,{query:{include:r},body:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers]),stream:i.stream??!1})}retrieve(e,i,o){const{thread_id:r}=i;return this._client.get(X`/threads/${r}/runs/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}update(e,i,o){const{thread_id:r,...u}=i;return this._client.post(X`/threads/${r}/runs/${e}`,{body:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e,i={},o){return this._client.getAPIList(X`/threads/${e}/runs`,We,{query:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}cancel(e,i,o){const{thread_id:r}=i;return this._client.post(X`/threads/${r}/runs/${e}/cancel`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}async createAndPoll(e,i,o){const r=await this.create(e,i,o);return await this.poll(r.id,{thread_id:e},o)}createAndStream(e,i,o){return ol.createAssistantStream(e,this._client.beta.threads.runs,i,o)}async poll(e,i,o){var u;const r=ne([o==null?void 0:o.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=o==null?void 0:o.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const{data:f,response:m}=await this.retrieve(e,i,{...o,headers:{...o==null?void 0:o.headers,...r}}).withResponse();switch(f.status){case"queued":case"in_progress":case"cancelling":let y=5e3;if(o!=null&&o.pollIntervalMs)y=o.pollIntervalMs;else{const p=m.headers.get("openai-poll-after-ms");if(p){const v=parseInt(p);isNaN(v)||(y=v)}}await cl(y);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return f}}}stream(e,i,o){return ol.createAssistantStream(e,this._client.beta.threads.runs,i,o)}submitToolOutputs(e,i,o){const{thread_id:r,...u}=i;return this._client.post(X`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers]),stream:i.stream??!1})}async submitToolOutputsAndPoll(e,i,o){const r=await this.submitToolOutputs(e,i,o);return await this.poll(r.id,i,o)}submitToolOutputsStream(e,i,o){return ol.createToolAssistantStream(e,this._client.beta.threads.runs,i,o)}};gd.Steps=W_;class Ra extends re{constructor(){super(...arguments),this.runs=new gd(this._client),this.messages=new Z_(this._client)}create(e={},i){return this._client.post("/threads",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,i){return this._client.get(X`/threads/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,i,o){return this._client.post(X`/threads/${e}`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}delete(e,i){return this._client.delete(X`/threads/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}createAndRun(e,i){return this._client.post("/threads/runs",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:e.stream??!1})}async createAndRunPoll(e,i){const o=await this.createAndRun(e,i);return await this.runs.poll(o.id,{thread_id:o.thread_id},i)}createAndRunStream(e,i){return ol.createThreadAssistantStream(e,this._client.beta.threads,i)}}Ra.Runs=gd;Ra.Messages=Z_;class $s extends re{constructor(){super(...arguments),this.realtime=new ba(this._client),this.chatkit=new wa(this._client),this.assistants=new J_(this._client),this.threads=new Ra(this._client)}}$s.Realtime=ba;$s.ChatKit=wa;$s.Assistants=J_;$s.Threads=Ra;class j_ extends re{create(e,i){return this._client.post("/completions",{body:e,...i,stream:e.stream??!1})}}let eS=class extends re{retrieve(e,i,o){const{container_id:r}=i;return this._client.get(X`/containers/${r}/files/${e}/content`,{...o,headers:ne([{Accept:"application/binary"},o==null?void 0:o.headers]),__binaryResponse:!0})}},yd=class extends re{constructor(){super(...arguments),this.content=new eS(this._client)}create(e,i,o){return this._client.post(X`/containers/${e}/files`,rl({body:i,...o},this._client))}retrieve(e,i,o){const{container_id:r}=i;return this._client.get(X`/containers/${r}/files/${e}`,o)}list(e,i={},o){return this._client.getAPIList(X`/containers/${e}/files`,We,{query:i,...o})}delete(e,i,o){const{container_id:r}=i;return this._client.delete(X`/containers/${r}/files/${e}`,{...o,headers:ne([{Accept:"*/*"},o==null?void 0:o.headers])})}};yd.Content=eS;class vd extends re{constructor(){super(...arguments),this.files=new yd(this._client)}create(e,i){return this._client.post("/containers",{body:e,...i})}retrieve(e,i){return this._client.get(X`/containers/${e}`,i)}list(e={},i){return this._client.getAPIList("/containers",We,{query:e,...i})}delete(e,i){return this._client.delete(X`/containers/${e}`,{...i,headers:ne([{Accept:"*/*"},i==null?void 0:i.headers])})}}vd.Files=yd;class tS extends re{create(e,i,o){const{include:r,...u}=i;return this._client.post(X`/conversations/${e}/items`,{query:{include:r},body:u,...o})}retrieve(e,i,o){const{conversation_id:r,...u}=i;return this._client.get(X`/conversations/${r}/items/${e}`,{query:u,...o})}list(e,i={},o){return this._client.getAPIList(X`/conversations/${e}/items`,aa,{query:i,...o})}delete(e,i,o){const{conversation_id:r}=i;return this._client.delete(X`/conversations/${r}/items/${e}`,o)}}class _d extends re{constructor(){super(...arguments),this.items=new tS(this._client)}create(e={},i){return this._client.post("/conversations",{body:e,...i})}retrieve(e,i){return this._client.get(X`/conversations/${e}`,i)}update(e,i,o){return this._client.post(X`/conversations/${e}`,{body:i,...o})}delete(e,i){return this._client.delete(X`/conversations/${e}`,i)}}_d.Items=tS;class nS extends re{create(e,i){const o=!!e.encoding_format;let r=o?e.encoding_format:"base64";o&&vt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const u=this._client.post("/embeddings",{body:{...e,encoding_format:r},...i});return o?u:(vt(this._client).debug("embeddings/decoding base64 embeddings from base64"),u._thenUnwrap(f=>(f&&f.data&&f.data.forEach(m=>{const y=m.embedding;m.embedding=PM(y)}),f)))}}class iS extends re{retrieve(e,i,o){const{eval_id:r,run_id:u}=i;return this._client.get(X`/evals/${r}/runs/${u}/output_items/${e}`,o)}list(e,i,o){const{eval_id:r,...u}=i;return this._client.getAPIList(X`/evals/${r}/runs/${e}/output_items`,We,{query:u,...o})}}class Sd extends re{constructor(){super(...arguments),this.outputItems=new iS(this._client)}create(e,i,o){return this._client.post(X`/evals/${e}/runs`,{body:i,...o})}retrieve(e,i,o){const{eval_id:r}=i;return this._client.get(X`/evals/${r}/runs/${e}`,o)}list(e,i={},o){return this._client.getAPIList(X`/evals/${e}/runs`,We,{query:i,...o})}delete(e,i,o){const{eval_id:r}=i;return this._client.delete(X`/evals/${r}/runs/${e}`,o)}cancel(e,i,o){const{eval_id:r}=i;return this._client.post(X`/evals/${r}/runs/${e}`,o)}}Sd.OutputItems=iS;class Td extends re{constructor(){super(...arguments),this.runs=new Sd(this._client)}create(e,i){return this._client.post("/evals",{body:e,...i})}retrieve(e,i){return this._client.get(X`/evals/${e}`,i)}update(e,i,o){return this._client.post(X`/evals/${e}`,{body:i,...o})}list(e={},i){return this._client.getAPIList("/evals",We,{query:e,...i})}delete(e,i){return this._client.delete(X`/evals/${e}`,i)}}Td.Runs=Sd;let sS=class extends re{create(e,i){return this._client.post("/files",Bs({body:e,...i},this._client))}retrieve(e,i){return this._client.get(X`/files/${e}`,i)}list(e={},i){return this._client.getAPIList("/files",We,{query:e,...i})}delete(e,i){return this._client.delete(X`/files/${e}`,i)}content(e,i){return this._client.get(X`/files/${e}/content`,{...i,headers:ne([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:i=5e3,maxWait:o=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),u=Date.now();let f=await this.retrieve(e);for(;!f.status||!r.has(f.status);)if(await cl(i),f=await this.retrieve(e),Date.now()-u>o)throw new ld({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return f}};class oS extends re{}let lS=class extends re{run(e,i){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...i})}validate(e,i){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...i})}};class Ed extends re{constructor(){super(...arguments),this.graders=new lS(this._client)}}Ed.Graders=lS;class rS extends re{create(e,i,o){return this._client.getAPIList(X`/fine_tuning/checkpoints/${e}/permissions`,xa,{body:i,method:"post",...o})}retrieve(e,i={},o){return this._client.get(X`/fine_tuning/checkpoints/${e}/permissions`,{query:i,...o})}delete(e,i,o){const{fine_tuned_model_checkpoint:r}=i;return this._client.delete(X`/fine_tuning/checkpoints/${r}/permissions/${e}`,o)}}let Ad=class extends re{constructor(){super(...arguments),this.permissions=new rS(this._client)}};Ad.Permissions=rS;class aS extends re{list(e,i={},o){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/checkpoints`,We,{query:i,...o})}}class Cd extends re{constructor(){super(...arguments),this.checkpoints=new aS(this._client)}create(e,i){return this._client.post("/fine_tuning/jobs",{body:e,...i})}retrieve(e,i){return this._client.get(X`/fine_tuning/jobs/${e}`,i)}list(e={},i){return this._client.getAPIList("/fine_tuning/jobs",We,{query:e,...i})}cancel(e,i){return this._client.post(X`/fine_tuning/jobs/${e}/cancel`,i)}listEvents(e,i={},o){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/events`,We,{query:i,...o})}pause(e,i){return this._client.post(X`/fine_tuning/jobs/${e}/pause`,i)}resume(e,i){return this._client.post(X`/fine_tuning/jobs/${e}/resume`,i)}}Cd.Checkpoints=aS;class Js extends re{constructor(){super(...arguments),this.methods=new oS(this._client),this.jobs=new Cd(this._client),this.checkpoints=new Ad(this._client),this.alpha=new Ed(this._client)}}Js.Methods=oS;Js.Jobs=Cd;Js.Checkpoints=Ad;Js.Alpha=Ed;class uS extends re{}class xd extends re{constructor(){super(...arguments),this.graderModels=new uS(this._client)}}xd.GraderModels=uS;class cS extends re{createVariation(e,i){return this._client.post("/images/variations",Bs({body:e,...i},this._client))}edit(e,i){return this._client.post("/images/edits",Bs({body:e,...i,stream:e.stream??!1},this._client))}generate(e,i){return this._client.post("/images/generations",{body:e,...i,stream:e.stream??!1})}}class fS extends re{retrieve(e,i){return this._client.get(X`/models/${e}`,i)}list(e){return this._client.getAPIList("/models",xa,e)}delete(e,i){return this._client.delete(X`/models/${e}`,i)}}class dS extends re{create(e,i){return this._client.post("/moderations",{body:e,...i})}}class hS extends re{accept(e,i,o){return this._client.post(X`/realtime/calls/${e}/accept`,{body:i,...o,headers:ne([{Accept:"*/*"},o==null?void 0:o.headers])})}hangup(e,i){return this._client.post(X`/realtime/calls/${e}/hangup`,{...i,headers:ne([{Accept:"*/*"},i==null?void 0:i.headers])})}refer(e,i,o){return this._client.post(X`/realtime/calls/${e}/refer`,{body:i,...o,headers:ne([{Accept:"*/*"},o==null?void 0:o.headers])})}reject(e,i={},o){return this._client.post(X`/realtime/calls/${e}/reject`,{body:i,...o,headers:ne([{Accept:"*/*"},o==null?void 0:o.headers])})}}class mS extends re{create(e,i){return this._client.post("/realtime/client_secrets",{body:e,...i})}}class Na extends re{constructor(){super(...arguments),this.clientSecrets=new mS(this._client),this.calls=new hS(this._client)}}Na.ClientSecrets=mS;Na.Calls=hS;function OM(n,e){return!e||!HM(e)?{...n,output_parsed:null,output:n.output.map(i=>i.type==="function_call"?{...i,parsed_arguments:null}:i.type==="message"?{...i,content:i.content.map(o=>({...o,parsed:null}))}:i)}:pS(n,e)}function pS(n,e){const i=n.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:VM(e,r)};if(r.type==="message"){const u=r.content.map(f=>f.type==="output_text"?{...f,parsed:GM(e,f.text)}:f);return{...r,content:u}}return r}),o=Object.assign({},n,{output:i});return Object.getOwnPropertyDescriptor(n,"output_text")||Yf(o),Object.defineProperty(o,"output_parsed",{enumerable:!0,get(){for(const r of o.output)if(r.type==="message"){for(const u of r.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),o}function GM(n,e){var i,o,r,u;return((o=(i=n.text)==null?void 0:i.format)==null?void 0:o.type)!=="json_schema"?null:"$parseRaw"in((r=n.text)==null?void 0:r.format)?((u=n.text)==null?void 0:u.format).$parseRaw(e):JSON.parse(e)}function HM(n){var e;return!!cd((e=n.text)==null?void 0:e.format)}function qM(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function BM(n,e){return n.find(i=>i.type==="function"&&i.name===e)}function VM(n,e){const i=BM(n.tools??[],e.name);return{...e,...e,parsed_arguments:qM(i)?i.$parseRaw(e.arguments):i!=null&&i.strict?JSON.parse(e.arguments):null}}function Yf(n){const e=[];for(const i of n.output)if(i.type==="message")for(const o of i.content)o.type==="output_text"&&e.push(o.text);n.output_text=e.join("")}var Ds,Br,_i,Vr,Y0,X0,K0,Q0;class bd extends dd{constructor(e){super(),Ds.add(this),Br.set(this,void 0),_i.set(this,void 0),Vr.set(this,void 0),he(this,Br,e)}static createResponse(e,i,o){const r=new bd(i);return r._run(()=>r._createOrRetrieveResponse(e,i,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,i,o){var m;const r=o==null?void 0:o.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,Ds,"m",Y0).call(this);let u,f=null;"response_id"in i?(u=await e.responses.retrieve(i.response_id,{stream:!0},{...o,signal:this.controller.signal,stream:!0}),f=i.starting_after??null):u=await e.responses.create({...i,stream:!0},{...o,signal:this.controller.signal}),this._connected();for await(const y of u)L(this,Ds,"m",X0).call(this,y,f);if((m=u.controller.signal)!=null&&m.aborted)throw new ln;return L(this,Ds,"m",K0).call(this)}[(Br=new WeakMap,_i=new WeakMap,Vr=new WeakMap,Ds=new WeakSet,Y0=function(){this.ended||he(this,_i,void 0)},X0=function(i,o){if(this.ended)return;const r=(f,m)=>{(o==null||m.sequence_number>o)&&this._emit(f,m)},u=L(this,Ds,"m",Q0).call(this,i);switch(r("event",i),i.type){case"response.output_text.delta":{const f=u.output[i.output_index];if(!f)throw new ue(`missing output at index ${i.output_index}`);if(f.type==="message"){const m=f.content[i.content_index];if(!m)throw new ue(`missing content at index ${i.content_index}`);if(m.type!=="output_text")throw new ue(`expected content to be 'output_text', got ${m.type}`);r("response.output_text.delta",{...i,snapshot:m.text})}break}case"response.function_call_arguments.delta":{const f=u.output[i.output_index];if(!f)throw new ue(`missing output at index ${i.output_index}`);f.type==="function_call"&&r("response.function_call_arguments.delta",{...i,snapshot:f.arguments});break}default:r(i.type,i);break}},K0=function(){if(this.ended)throw new ue("stream has ended, this shouldn't happen");const i=L(this,_i,"f");if(!i)throw new ue("request ended without sending any events");he(this,_i,void 0);const o=zM(i,L(this,Br,"f"));return he(this,Vr,o),o},Q0=function(i){var r;let o=L(this,_i,"f");if(!o){if(i.type!=="response.created")throw new ue(`When snapshot hasn't been set yet, expected 'response.created' event, got ${i.type}`);return o=he(this,_i,i.response),o}switch(i.type){case"response.output_item.added":{o.output.push(i.item);break}case"response.content_part.added":{const u=o.output[i.output_index];if(!u)throw new ue(`missing output at index ${i.output_index}`);const f=u.type,m=i.part;f==="message"&&m.type!=="reasoning_text"?u.content.push(m):f==="reasoning"&&m.type==="reasoning_text"&&(u.content||(u.content=[]),u.content.push(m));break}case"response.output_text.delta":{const u=o.output[i.output_index];if(!u)throw new ue(`missing output at index ${i.output_index}`);if(u.type==="message"){const f=u.content[i.content_index];if(!f)throw new ue(`missing content at index ${i.content_index}`);if(f.type!=="output_text")throw new ue(`expected content to be 'output_text', got ${f.type}`);f.text+=i.delta}break}case"response.function_call_arguments.delta":{const u=o.output[i.output_index];if(!u)throw new ue(`missing output at index ${i.output_index}`);u.type==="function_call"&&(u.arguments+=i.delta);break}case"response.reasoning_text.delta":{const u=o.output[i.output_index];if(!u)throw new ue(`missing output at index ${i.output_index}`);if(u.type==="reasoning"){const f=(r=u.content)==null?void 0:r[i.content_index];if(!f)throw new ue(`missing content at index ${i.content_index}`);if(f.type!=="reasoning_text")throw new ue(`expected content to be 'reasoning_text', got ${f.type}`);f.text+=i.delta}break}case"response.completed":{he(this,_i,i.response);break}}return o},Symbol.asyncIterator)](){const e=[],i=[];let o=!1;return this.on("event",r=>{const u=i.shift();u?u.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of i)r.resolve(void 0);i.length=0}),this.on("abort",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),this.on("error",r=>{o=!0;for(const u of i)u.reject(r);i.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,f)=>i.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=L(this,Vr,"f");if(!e)throw new ue("stream ended without producing a ChatCompletion");return e}}function zM(n,e){return OM(n,e)}class gS extends re{list(e,i={},o){return this._client.getAPIList(X`/responses/${e}/input_items`,We,{query:i,...o})}}class yS extends re{count(e={},i){return this._client.post("/responses/input_tokens",{body:e,...i})}}class Ia extends re{constructor(){super(...arguments),this.inputItems=new gS(this._client),this.inputTokens=new yS(this._client)}create(e,i){return this._client.post("/responses",{body:e,...i,stream:e.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Yf(o),o))}retrieve(e,i={},o){return this._client.get(X`/responses/${e}`,{query:i,...o,stream:(i==null?void 0:i.stream)??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Yf(r),r))}delete(e,i){return this._client.delete(X`/responses/${e}`,{...i,headers:ne([{Accept:"*/*"},i==null?void 0:i.headers])})}parse(e,i){return this._client.responses.create(e,i)._thenUnwrap(o=>pS(o,e))}stream(e,i){return bd.createResponse(this._client,e,i)}cancel(e,i){return this._client.post(X`/responses/${e}/cancel`,i)}compact(e,i){return this._client.post("/responses/compact",{body:e,...i})}}Ia.InputItems=gS;Ia.InputTokens=yS;let vS=class extends re{retrieve(e,i){return this._client.get(X`/skills/${e}/content`,{...i,headers:ne([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}};class _S extends re{retrieve(e,i,o){const{skill_id:r}=i;return this._client.get(X`/skills/${r}/versions/${e}/content`,{...o,headers:ne([{Accept:"application/binary"},o==null?void 0:o.headers]),__binaryResponse:!0})}}class wd extends re{constructor(){super(...arguments),this.content=new _S(this._client)}create(e,i={},o){return this._client.post(X`/skills/${e}/versions`,rl({body:i,...o},this._client))}retrieve(e,i,o){const{skill_id:r}=i;return this._client.get(X`/skills/${r}/versions/${e}`,o)}list(e,i={},o){return this._client.getAPIList(X`/skills/${e}/versions`,We,{query:i,...o})}delete(e,i,o){const{skill_id:r}=i;return this._client.delete(X`/skills/${r}/versions/${e}`,o)}}wd.Content=_S;class Ma extends re{constructor(){super(...arguments),this.content=new vS(this._client),this.versions=new wd(this._client)}create(e={},i){return this._client.post("/skills",rl({body:e,...i},this._client))}retrieve(e,i){return this._client.get(X`/skills/${e}`,i)}update(e,i,o){return this._client.post(X`/skills/${e}`,{body:i,...o})}list(e={},i){return this._client.getAPIList("/skills",We,{query:e,...i})}delete(e,i){return this._client.delete(X`/skills/${e}`,i)}}Ma.Content=vS;Ma.Versions=wd;class SS extends re{create(e,i,o){return this._client.post(X`/uploads/${e}/parts`,Bs({body:i,...o},this._client))}}class Rd extends re{constructor(){super(...arguments),this.parts=new SS(this._client)}create(e,i){return this._client.post("/uploads",{body:e,...i})}cancel(e,i){return this._client.post(X`/uploads/${e}/cancel`,i)}complete(e,i,o){return this._client.post(X`/uploads/${e}/complete`,{body:i,...o})}}Rd.Parts=SS;const FM=async n=>{const e=await Promise.allSettled(n),i=e.filter(r=>r.status==="rejected");if(i.length){for(const r of i)console.error(r.reason);throw new Error(`${i.length} promise(s) failed - see the above errors`)}const o=[];for(const r of e)r.status==="fulfilled"&&o.push(r.value);return o};class TS extends re{create(e,i,o){return this._client.post(X`/vector_stores/${e}/file_batches`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}retrieve(e,i,o){const{vector_store_id:r}=i;return this._client.get(X`/vector_stores/${r}/file_batches/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}cancel(e,i,o){const{vector_store_id:r}=i;return this._client.post(X`/vector_stores/${r}/file_batches/${e}/cancel`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}async createAndPoll(e,i,o){const r=await this.create(e,i);return await this.poll(e,r.id,o)}listFiles(e,i,o){const{vector_store_id:r,...u}=i;return this._client.getAPIList(X`/vector_stores/${r}/file_batches/${e}/files`,We,{query:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}async poll(e,i,o){var u;const r=ne([o==null?void 0:o.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=o==null?void 0:o.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const{data:f,response:m}=await this.retrieve(i,{vector_store_id:e},{...o,headers:r}).withResponse();switch(f.status){case"in_progress":let y=5e3;if(o!=null&&o.pollIntervalMs)y=o.pollIntervalMs;else{const p=m.headers.get("openai-poll-after-ms");if(p){const v=parseInt(p);isNaN(v)||(y=v)}}await cl(y);break;case"failed":case"cancelled":case"completed":return f}}}async uploadAndPoll(e,{files:i,fileIds:o=[]},r){if(i==null||i.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(r==null?void 0:r.maxConcurrency)??5,f=Math.min(u,i.length),m=this._client,y=i.values(),p=[...o];async function v(T){for(let C of T){const b=await m.files.create({file:C,purpose:"assistants"},r);p.push(b.id)}}const _=Array(f).fill(y).map(v);return await FM(_),await this.createAndPoll(e,{file_ids:p})}}class ES extends re{create(e,i,o){return this._client.post(X`/vector_stores/${e}/files`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}retrieve(e,i,o){const{vector_store_id:r}=i;return this._client.get(X`/vector_stores/${r}/files/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}update(e,i,o){const{vector_store_id:r,...u}=i;return this._client.post(X`/vector_stores/${r}/files/${e}`,{body:u,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e,i={},o){return this._client.getAPIList(X`/vector_stores/${e}/files`,We,{query:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}delete(e,i,o){const{vector_store_id:r}=i;return this._client.delete(X`/vector_stores/${r}/files/${e}`,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}async createAndPoll(e,i,o){const r=await this.create(e,i,o);return await this.poll(e,r.id,o)}async poll(e,i,o){var u;const r=ne([o==null?void 0:o.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=o==null?void 0:o.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const f=await this.retrieve(i,{vector_store_id:e},{...o,headers:r}).withResponse(),m=f.data;switch(m.status){case"in_progress":let y=5e3;if(o!=null&&o.pollIntervalMs)y=o.pollIntervalMs;else{const p=f.response.headers.get("openai-poll-after-ms");if(p){const v=parseInt(p);isNaN(v)||(y=v)}}await cl(y);break;case"failed":case"completed":return m}}}async upload(e,i,o){const r=await this._client.files.create({file:i,purpose:"assistants"},o);return this.create(e,{file_id:r.id},o)}async uploadAndPoll(e,i,o){const r=await this.upload(e,i,o);return await this.poll(e,r.id,o)}content(e,i,o){const{vector_store_id:r}=i;return this._client.getAPIList(X`/vector_stores/${r}/files/${e}/content`,xa,{...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}}class Da extends re{constructor(){super(...arguments),this.files=new ES(this._client),this.fileBatches=new TS(this._client)}create(e,i){return this._client.post("/vector_stores",{body:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,i){return this._client.get(X`/vector_stores/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,i,o){return this._client.post(X`/vector_stores/${e}`,{body:i,...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}list(e={},i){return this._client.getAPIList("/vector_stores",We,{query:e,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(e,i){return this._client.delete(X`/vector_stores/${e}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}search(e,i,o){return this._client.getAPIList(X`/vector_stores/${e}/search`,xa,{body:i,method:"post",...o,headers:ne([{"OpenAI-Beta":"assistants=v2"},o==null?void 0:o.headers])})}}Da.Files=ES;Da.FileBatches=TS;class AS extends re{create(e,i){return this._client.post("/videos",rl({body:e,...i},this._client))}retrieve(e,i){return this._client.get(X`/videos/${e}`,i)}list(e={},i){return this._client.getAPIList("/videos",aa,{query:e,...i})}delete(e,i){return this._client.delete(X`/videos/${e}`,i)}downloadContent(e,i={},o){return this._client.get(X`/videos/${e}/content`,{query:i,...o,headers:ne([{Accept:"application/binary"},o==null?void 0:o.headers]),__binaryResponse:!0})}remix(e,i,o){return this._client.post(X`/videos/${e}/remix`,rl({body:i,...o},this._client))}}var Ps,CS,Wr;class xS extends re{constructor(){super(...arguments),Ps.add(this)}async unwrap(e,i,o=this._client.webhookSecret,r=300){return await this.verifySignature(e,i,o,r),JSON.parse(e)}async verifySignature(e,i,o=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");L(this,Ps,"m",CS).call(this,o);const u=ne([i]).values,f=L(this,Ps,"m",Wr).call(this,u,"webhook-signature"),m=L(this,Ps,"m",Wr).call(this,u,"webhook-timestamp"),y=L(this,Ps,"m",Wr).call(this,u,"webhook-id"),p=parseInt(m,10);if(isNaN(p))throw new Xo("Invalid webhook timestamp format");const v=Math.floor(Date.now()/1e3);if(v-p>r)throw new Xo("Webhook timestamp is too old");if(p>v+r)throw new Xo("Webhook timestamp is too new");const _=f.split(" ").map(N=>N.startsWith("v1,")?N.substring(3):N),T=o.startsWith("whsec_")?Buffer.from(o.replace("whsec_",""),"base64"):Buffer.from(o,"utf-8"),C=y?`${y}.${m}.${e}`:`${m}.${e}`,b=await crypto.subtle.importKey("raw",T,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const N of _)try{const I=Buffer.from(N,"base64");if(await crypto.subtle.verify("HMAC",b,I,new TextEncoder().encode(C)))return}catch{continue}throw new Xo("The given webhook signature does not match the expected signature")}}Ps=new WeakSet,CS=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Wr=function(e,i){if(!e)throw new Error("Headers are required");const o=e.get(i);if(o==null)throw new Error(`Missing required header: ${i}`);return o};var Xf,Nd,jr,bS;class Te{constructor({baseURL:e=Ms("OPENAI_BASE_URL"),apiKey:i=Ms("OPENAI_API_KEY"),organization:o=Ms("OPENAI_ORG_ID")??null,project:r=Ms("OPENAI_PROJECT_ID")??null,webhookSecret:u=Ms("OPENAI_WEBHOOK_SECRET")??null,...f}={}){if(Xf.add(this),jr.set(this,void 0),this.completions=new j_(this),this.chat=new pd(this),this.embeddings=new nS(this),this.files=new sS(this),this.images=new cS(this),this.audio=new dl(this),this.moderations=new dS(this),this.models=new fS(this),this.fineTuning=new Js(this),this.graders=new xd(this),this.vectorStores=new Da(this),this.webhooks=new xS(this),this.beta=new $s(this),this.batches=new $_(this),this.uploads=new Rd(this),this.responses=new Ia(this),this.realtime=new Na(this),this.conversations=new _d(this),this.evals=new Td(this),this.containers=new vd(this),this.skills=new Ma(this),this.videos=new AS(this),i===void 0)throw new ue("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const m={apiKey:i,organization:o,project:r,webhookSecret:u,...f,baseURL:e||"https://api.openai.com/v1"};if(!m.dangerouslyAllowBrowser&&JI())throw new ue(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=m.baseURL,this.timeout=m.timeout??Nd.DEFAULT_TIMEOUT,this.logger=m.logger??console;const y="warn";this.logLevel=y,this.logLevel=L0(m.logLevel,"ClientOptions.logLevel",this)??L0(Ms("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??y,this.fetchOptions=m.fetchOptions,this.maxRetries=m.maxRetries??2,this.fetch=m.fetch??ZI(),he(this,jr,jI),this._options=m,this.apiKey=typeof i=="string"?i:"Missing Key",this.organization=o,this.project=r,this.webhookSecret=u}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){}async authHeaders(e){return ne([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return oM(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ls}`}defaultIdempotencyKey(){return`stainless-node-retry-${Yv()}`}makeStatusError(e,i,o,r){return St.generate(e,i,o,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let i;try{i=await e()}catch(o){throw o instanceof ue?o:new ue(`Failed to get token from 'apiKey' function: ${o.message}`,{cause:o})}if(typeof i!="string"||!i)throw new ue(`Expected 'apiKey' function argument to return a string but it returned ${i}`);return this.apiKey=i,!0}buildURL(e,i,o){const r=!L(this,Xf,"m",bS).call(this)&&o||this.baseURL,u=BI(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return VI(f)||(i={...f,...i}),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(r=>({method:e,path:i,...r})))}request(e,i=null){return new Ca(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var z,B;const r=await e,u=r.maxRetries??this.maxRetries;i==null&&(i=u),await this.prepareOptions(r);const{req:f,url:m,timeout:y}=await this.buildRequest(r,{retryCount:u-i});await this.prepareRequest(f,{url:m,options:r});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=o===void 0?"":`, retryOf: ${o}`,_=Date.now();if(vt(this).debug(`[${p}] sending request`,Bi({retryOfRequestLogID:o,method:r.method,url:m,options:r,headers:f.headers})),(z=r.signal)!=null&&z.aborted)throw new ln;const T=new AbortController,C=await this.fetchWithTimeout(m,f,y,T).catch(Pf),b=Date.now();if(C instanceof globalThis.Error){const H=`retrying, ${i} attempts remaining`;if((B=r.signal)!=null&&B.aborted)throw new ln;const G=kf(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(i)return vt(this).info(`[${p}] connection ${G?"timed out":"failed"} - ${H}`),vt(this).debug(`[${p}] connection ${G?"timed out":"failed"} (${H})`,Bi({retryOfRequestLogID:o,url:m,durationMs:b-_,message:C.message})),this.retryRequest(r,i,o??p);throw vt(this).info(`[${p}] connection ${G?"timed out":"failed"} - error; no more retries left`),vt(this).debug(`[${p}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Bi({retryOfRequestLogID:o,url:m,durationMs:b-_,message:C.message})),G?new ld:new Ea({cause:C})}const N=[...C.headers.entries()].filter(([H])=>H==="x-request-id").map(([H,G])=>", "+H+": "+JSON.stringify(G)).join(""),I=`[${p}${v}${N}] ${f.method} ${m} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${b-_}ms`;if(!C.ok){const H=await this.shouldRetry(C);if(i&&H){const Q=`retrying, ${i} attempts remaining`;return await WI(C.body),vt(this).info(`${I} - ${Q}`),vt(this).debug(`[${p}] response error (${Q})`,Bi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:b-_})),this.retryRequest(r,i,o??p,C.headers)}const G=H?"error; no more retries left":"error; not retryable";vt(this).info(`${I} - ${G}`);const Z=await C.text().catch(Q=>Pf(Q).message),O=$I(Z),$=O?void 0:Z;throw vt(this).debug(`[${p}] response error (${G})`,Bi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,message:$,durationMs:Date.now()-_})),this.makeStatusError(C.status,O,$,C.headers)}return vt(this).info(I),vt(this).debug(`[${p}] response start`,Bi({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:b-_})),{response:C,options:r,controller:T,requestLogID:p,retryOfRequestLogID:o,startTime:_}}getAPIList(e,i,o){return this.requestAPIList(i,o&&"then"in o?o.then(r=>({method:"get",path:e,...r})):{method:"get",path:e,...o})}requestAPIList(e,i){const o=this.makeRequest(i,null,void 0);return new mM(this,o,e)}async fetchWithTimeout(e,i,o,r){const{signal:u,method:f,...m}=i||{},y=this._makeAbort(r);u&&u.addEventListener("abort",y,{once:!0});const p=setTimeout(y,o),v=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,_={signal:r.signal,...v?{duplex:"half"}:{},method:"GET",...m};f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,r){let u;const f=r==null?void 0:r.get("retry-after-ms");if(f){const y=parseFloat(f);Number.isNaN(y)||(u=y)}const m=r==null?void 0:r.get("retry-after");if(m&&!u){const y=parseFloat(m);Number.isNaN(y)?u=Date.parse(m)-Date.now():u=y*1e3}if(!(u&&0<=u&&u<60*1e3)){const y=e.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(i,y)}return await cl(u),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,f=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(e,{retryCount:i=0}={}){const o={...e},{method:r,path:u,query:f,defaultBaseURL:m}=o,y=this.buildURL(u,f,m);"timeout"in o&&FI("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:p,body:v}=this.buildBody({options:o}),_=await this.buildHeaders({options:e,method:r,bodyHeaders:p,retryCount:i});return{req:{method:r,headers:_,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"},...v&&{body:v},...this.fetchOptions??{},...o.fetchOptions??{}},url:y,timeout:o.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:r}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=ne([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...QI(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(f),f.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=ne([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:l_(e)}:L(this,jr,"f").call(this,{body:e,headers:o})}}Nd=Te,jr=new WeakMap,Xf=new WeakSet,bS=function(){return this.baseURL!=="https://api.openai.com/v1"};Te.OpenAI=Nd;Te.DEFAULT_TIMEOUT=6e5;Te.OpenAIError=ue;Te.APIError=St;Te.APIConnectionError=Ea;Te.APIConnectionTimeoutError=ld;Te.APIUserAbortError=ln;Te.NotFoundError=Zv;Te.ConflictError=Wv;Te.RateLimitError=e_;Te.BadRequestError=Xv;Te.AuthenticationError=Kv;Te.InternalServerError=t_;Te.PermissionDeniedError=Qv;Te.UnprocessableEntityError=jv;Te.InvalidWebhookSignatureError=Xo;Te.toFile=_M;Te.Completions=j_;Te.Chat=pd;Te.Embeddings=nS;Te.Files=sS;Te.Images=cS;Te.Audio=dl;Te.Moderations=dS;Te.Models=fS;Te.FineTuning=Js;Te.Graders=xd;Te.VectorStores=Da;Te.Webhooks=xS;Te.Beta=$s;Te.Batches=$_;Te.Uploads=Rd;Te.Responses=Ia;Te.Realtime=Na;Te.Conversations=_d;Te.Evals=Td;Te.Containers=vd;Te.Skills=Ma;Te.Videos=AS;const Id=new Te({apiKey:"",dangerouslyAllowBrowser:!0}),wS=`You are 'Kisan Mitra', a professional agricultural advisor. 
Provide dual solutions:
1. Modern Scientific (Chemical): Product name, dosage, and precautions.
2. Rajiv Dixit Natural: Preparation method, benefits, and philosophy.

Always respond in the requested language.`,$M=async(n,e="en")=>{const o=(await Id.chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:wS},{role:"user",content:[{type:"text",text:`Diagnose this crop disease. Provide solutions in JSON format. Language: ${An[e]}.`},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${n}`}}]}],response_format:{type:"json_object"}})).choices[0].message.content;return JSON.parse(o||"{}")},JM=async(n,e,i="en")=>{const r=(await Id.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:wS},{role:"user",content:`Farmer Question: "${n}" in "${e||"India"}". Provide chemical and natural solutions in JSON. Language: ${An[i]}.`}],response_format:{type:"json_object"}})).choices[0].message.content,u=JSON.parse(r||"{}");return u.solutions||u},YM=async(n="en")=>(await Id.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a professional agronomist. Give a 1-sentence quick tip."},{role:"user",content:`Give a 1-sentence quick professional tip for soil moisture conservation today in ${An[n]}.`}]})).choices[0].message.content||"Keep your soil mulched!",XM=async(n,e)=>e.aiProvider===Jt.OPENAI?$M(n,e.language):PI(n,e.language),KM=async(n,e)=>e.aiProvider===Jt.OPENAI?JM(n,e.address,e.language):OI(n,e.address,e.language),QM=async n=>n.aiProvider===Jt.OPENAI?YM(n.language):GI(n.language),ZM=[{name:"Nitrogen (N)",value:45,unit:"kg/ha",status:"Fair"},{name:"Phosphorus (P)",value:12,unit:"kg/ha",status:"Critical"},{name:"Potassium (K)",value:65,unit:"kg/ha",status:"Good"},{name:"Soil pH",value:6.8,unit:"pH",status:"Good"}],WM=[{id:"1",type:"weather",title:"Heavy Rain Alert",message:"Expect 20mm rainfall in your area tomorrow. Ensure proper drainage.",time:Date.now()},{id:"2",type:"pest",title:"Yellow Rust Warning",message:"Reported in nearby districts for Wheat crops. Inspect your field.",time:Date.now()-36e5}],Z0=({userProfile:n,setView:e})=>{const[i,o]=Ie.useState("Loading your daily smart tip..."),[r,u]=Ie.useState(WM);return Ie.useEffect(()=>{n&&QM(n).then(o)},[n]),E.jsxs("div",{className:"space-y-8 animate-fadeIn pb-12",children:[E.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-700 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-lime-400/10 rounded-full blur-3xl"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-lime-400 rounded-2xl flex items-center justify-center text-2xl shadow-inner text-green-950",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-lime-400",children:"Smart Advice   "}),E.jsx("p",{className:"text-lg font-bold leading-tight mt-1",children:i})]})]})]}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("button",{onClick:()=>e(Ke.LIVE_VOICE),className:"bg-white p-8 rounded-[3rem] border border-stone-100 shadow-xl hover:shadow-2xl transition-all group flex flex-col items-center text-center space-y-4",children:[E.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform",children:""}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-xl font-black text-stone-800",children:"SPEAK"}),E.jsx("p",{className:"text-sm font-bold text-stone-400 uppercase tracking-widest",children:"  "})]})]}),E.jsxs("button",{onClick:()=>e(Ke.DIAGNOSTIC),className:"bg-white p-8 rounded-[3rem] border border-stone-100 shadow-xl hover:shadow-2xl transition-all group flex flex-col items-center text-center space-y-4",children:[E.jsx("div",{className:"w-20 h-20 bg-lime-100 text-green-800 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform",children:""}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-xl font-black text-stone-800",children:"PHOTO"}),E.jsx("p",{className:"text-sm font-bold text-stone-400 uppercase tracking-widest",children:" "})]})]}),E.jsxs("button",{onClick:()=>e(Ke.RAJIV_WISDOM),className:"bg-white p-8 rounded-[3rem] border border-stone-100 shadow-xl hover:shadow-2xl transition-all group flex flex-col items-center text-center space-y-4",children:[E.jsx("div",{className:"w-20 h-20 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform",children:""}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-xl font-black text-stone-800",children:"LIBRARY"}),E.jsx("p",{className:"text-sm font-bold text-stone-400 uppercase tracking-widest",children:" "})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-xs font-black text-stone-400 uppercase tracking-[0.2em] px-2",children:"Recent Alerts   "}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(f=>E.jsxs("div",{className:`p-5 rounded-[2rem] border shadow-sm flex items-start gap-4 ${f.type==="weather"?"bg-blue-50 border-blue-100":"bg-red-50 border-red-100"}`,children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${f.type==="weather"?"bg-blue-200 text-blue-800":"bg-red-200 text-red-800"}`,children:f.type==="weather"?"":""}),E.jsxs("div",{children:[E.jsx("p",{className:`font-black text-sm ${f.type==="weather"?"text-blue-900":"text-red-900"}`,children:f.title}),E.jsx("p",{className:"text-xs text-stone-600 mt-1 font-medium",children:f.message})]})]},f.id))})]}),E.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-xl font-black text-stone-800 mb-6 flex items-center gap-3",children:[E.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-sm",children:""})," Soil Health Tracker"]}),E.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:ZM.map(f=>E.jsxs("div",{className:"p-4 rounded-2xl bg-stone-50 border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:f.name}),E.jsxs("p",{className:"text-xl font-black text-stone-800",children:[f.value," ",f.unit]}),E.jsx("p",{className:`text-[10px] font-black mt-1 ${f.status==="Good"?"text-green-600":f.status==="Fair"?"text-amber-600":"text-red-600"}`,children:f.status})]},f.name))})]})]})},jM=({userProfile:n,onSaveHistory:e})=>{const[i,o]=Ie.useState(null),[r,u]=Ie.useState(!1),[f,m]=Ie.useState(null),y=Ie.useRef(null),p=_=>{var C;const T=(C=_.target.files)==null?void 0:C[0];if(T){const b=new FileReader;b.onloadend=()=>{o(b.result),m(null)},b.readAsDataURL(T)}},v=async()=>{if(i){u(!0);try{const _=i.split(",")[1],C={...await XM(_,n),id:crypto.randomUUID(),timestamp:Date.now(),image:i};m(C),e(C)}catch(_){console.error("Diagnosis failed",_),alert("Failed to analyze image. Please try again.")}finally{u(!1)}}};return E.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto pb-12",children:[E.jsxs("header",{className:"text-center",children:[E.jsx("h2",{className:"text-3xl font-black text-stone-800",children:"Crop Health Scanner"}),E.jsx("p",{className:"text-stone-500 mt-2",children:"Instant AI analysis for plant diseases and pests."})]}),E.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[3rem] shadow-sm border border-stone-100",children:[E.jsxs("div",{className:"flex flex-col items-center",children:[i?E.jsxs("div",{className:"w-full space-y-6",children:[E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:i,alt:"Crop scan",className:"w-full h-[28rem] object-cover rounded-[2.5rem] shadow-inner"}),E.jsx("button",{onClick:()=>o(null),className:"absolute top-6 right-6 bg-white/90 backdrop-blur w-12 h-12 flex items-center justify-center rounded-full shadow-lg hover:bg-white text-red-500 font-bold",children:""})]}),!f&&E.jsx("button",{onClick:v,disabled:r,className:"w-full py-5 bg-green-700 text-white rounded-[2rem] font-black text-xl hover:bg-green-800 disabled:opacity-50 shadow-2xl flex items-center justify-center gap-4 transition-all active:scale-95",children:r?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-6 h-6 border-4 border-white/30 border-t-white rounded-full animate-spin"}),"Consulting Expert AI..."]}):"Diagnose Problem"})]}):E.jsxs("button",{onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},className:"w-full h-96 border-4 border-dashed border-stone-100 rounded-[2.5rem] flex flex-col items-center justify-center gap-6 hover:border-lime-400 hover:bg-lime-50 transition-all group overflow-hidden bg-stone-50",children:[E.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center text-5xl shadow-sm group-hover:scale-110 transition-transform",children:""}),E.jsxs("div",{className:"text-center px-6",children:[E.jsx("p",{className:"font-black text-2xl text-stone-800",children:"Tap to Capture Crop"}),E.jsx("p",{className:"text-stone-400 mt-2",children:"Take a clear photo of the leaf or affected area"})]})]}),E.jsx("input",{type:"file",accept:"image/*",ref:y,onChange:p,className:"hidden"})]}),f&&E.jsxs("div",{className:"mt-12 space-y-10 animate-fadeInUp",children:[E.jsxs("div",{className:"p-8 bg-stone-50 border border-stone-200 rounded-[2.5rem] relative",children:[E.jsx("div",{className:"absolute -top-4 left-8 px-4 py-1 bg-green-700 text-white rounded-full text-xs font-black uppercase tracking-widest",children:"Diagnosis"}),E.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[E.jsx("h3",{className:"text-3xl font-black text-stone-800",children:f.disease}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase",children:"AI Confidence"}),E.jsxs("p",{className:"font-black text-green-600",children:[Math.round(f.confidence*100),"%"]})]}),E.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-green-100 flex items-center justify-center",children:E.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600",style:{clipPath:`inset(${(1-f.confidence)*100}% 0 0 0)`}})})]})]}),E.jsx("p",{className:"mt-6 text-stone-600 leading-relaxed text-lg",children:f.description})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-amber-50/50 border border-amber-100 rounded-[2.5rem] p-8 hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-2xl flex items-center justify-center text-2xl",children:""}),E.jsx("h4",{className:"font-black text-xl text-stone-800 uppercase tracking-tight",children:"Chemical Option"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"Product"}),E.jsx("p",{className:"font-bold text-stone-800",children:f.solutions.chemicalSolution.product})]}),E.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"Dosage"}),E.jsx("p",{className:"font-bold text-stone-800",children:f.solutions.chemicalSolution.dosage})]}),E.jsxs("div",{className:"p-5 bg-red-100/50 text-red-900 text-sm rounded-2xl border border-red-200 leading-snug",children:[E.jsx("p",{className:"font-black uppercase text-[10px] mb-2 tracking-widest opacity-60",children:"Critical Precautions"}),f.solutions.chemicalSolution.precautions]})]})]}),E.jsxs("div",{className:"bg-lime-50 border border-lime-200 rounded-[2.5rem] p-8 hover:shadow-md transition-shadow shadow-sm ring-4 ring-lime-500/10",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"w-12 h-12 bg-lime-100 rounded-2xl flex items-center justify-center text-2xl",children:""}),E.jsx("h4",{className:"font-black text-xl text-green-900 uppercase tracking-tight",children:"Swadeshi Wisdom"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-lime-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-green-600 uppercase tracking-widest mb-1",children:"Natural Formula"}),E.jsx("p",{className:"font-black text-green-900 text-lg",children:f.solutions.naturalSolution.name})]}),E.jsxs("div",{className:"p-4 bg-green-900 text-lime-100 rounded-2xl italic font-medium",children:['"',f.solutions.naturalSolution.philosophy,'"']}),E.jsxs("div",{className:"p-5 bg-white border border-lime-100 rounded-2xl text-sm",children:[E.jsx("p",{className:"font-black text-green-800 uppercase text-[10px] mb-2 tracking-widest",children:"Preparation Guide"}),E.jsx("p",{className:"text-green-700 leading-relaxed whitespace-pre-wrap",children:f.solutions.naturalSolution.preparation})]})]})]})]}),E.jsx("div",{className:"text-center py-6",children:E.jsx("button",{onClick:()=>o(null),className:"text-stone-400 font-bold hover:text-stone-800 transition-colors",children:"Start New Scan "})})]})]})]})},e1=({userProfile:n})=>{const[e,i]=Ie.useState(""),[o,r]=Ie.useState(!1),[u,f]=Ie.useState(null),m=async y=>{if(y.preventDefault(),!!e.trim()){r(!0);try{const p=await KM(e,n);f(p)}catch(p){console.error(p),alert("Something went wrong. Please check your query.")}finally{r(!1)}}};return E.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-black text-stone-800 tracking-tight",children:"Smart Farming Advisor"}),E.jsx("p",{className:"text-stone-500 font-medium",children:"Equipped with AI & Real-time Google Search data."})]}),E.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-stone-100",children:[E.jsxs("form",{onSubmit:m,className:"relative",children:[E.jsx("textarea",{value:e,onChange:y=>i(y.target.value),placeholder:`Ask about your ${n.crops} or anything else...`,className:"w-full h-40 p-6 bg-stone-50 rounded-[2rem] border border-stone-100 focus:ring-4 focus:ring-lime-100 focus:border-lime-400 transition-all resize-none text-lg font-medium"}),E.jsx("button",{type:"submit",disabled:o||!e.trim(),className:"absolute bottom-4 right-4 py-4 px-10 bg-green-700 text-white rounded-2xl font-black hover:bg-green-800 transition-all disabled:opacity-50 shadow-xl flex items-center gap-2",children:o?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Grounding Info..."]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-xl",children:""})," Get Advice"]})})]}),u&&E.jsxs("div",{className:"mt-12 space-y-10 animate-fadeInUp",children:[E.jsx("div",{className:"border-b border-stone-100 pb-6",children:E.jsxs("h3",{className:"text-2xl font-black text-stone-800",children:['Results for: "',u.issue,'"']})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[E.jsxs("div",{className:"bg-amber-50/50 p-8 rounded-[2.5rem] border border-amber-100 space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-2xl flex items-center justify-center text-2xl shadow-sm",children:""}),E.jsx("h4",{className:"text-xl font-black text-stone-800 uppercase tracking-tighter",children:"Chemical Route"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"Recommendation"}),E.jsx("p",{className:"font-bold text-stone-800 text-lg",children:u.chemicalSolution.product}),E.jsx("p",{className:"text-sm text-stone-600 mt-2",children:u.chemicalSolution.dosage})]}),E.jsxs("div",{className:"p-5 bg-red-100/50 text-red-900 text-sm rounded-2xl border border-red-200",children:[E.jsx("p",{className:"font-black uppercase text-[10px] mb-2 tracking-widest opacity-60",children:"Critical Warnings"}),u.chemicalSolution.precautions]})]})]}),E.jsxs("div",{className:"bg-lime-50 p-8 rounded-[2.5rem] border border-lime-200 space-y-6 shadow-sm ring-4 ring-lime-500/5",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-12 h-12 bg-lime-100 rounded-2xl flex items-center justify-center text-2xl shadow-sm",children:""}),E.jsx("h4",{className:"text-xl font-black text-green-900 uppercase tracking-tighter",children:"Natural Wisdom"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-lime-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-green-600 uppercase tracking-widest mb-1",children:u.naturalSolution.name}),E.jsxs("p",{className:"font-bold text-green-900 italic text-lg leading-snug",children:['"',u.naturalSolution.philosophy,'"']})]}),E.jsxs("div",{className:"p-6 bg-white border border-lime-100 rounded-2xl",children:[E.jsx("p",{className:"text-[10px] font-black text-green-800 uppercase tracking-widest mb-2",children:"Preparation Guide"}),E.jsx("p",{className:"text-sm text-green-700 leading-relaxed whitespace-pre-wrap font-medium",children:u.naturalSolution.preparation})]})]})]})]}),u.groundingSources&&u.groundingSources.length>0&&E.jsxs("div",{className:"bg-stone-50 p-6 rounded-[2rem] border border-stone-200",children:[E.jsx("h4",{className:"text-xs font-black text-stone-400 uppercase tracking-widest mb-4",children:"Verified Sources & Research"}),E.jsx("div",{className:"flex flex-wrap gap-3",children:u.groundingSources.map((y,p)=>E.jsxs("a",{href:y.uri,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white border border-stone-200 rounded-full text-xs font-bold text-blue-600 hover:border-blue-400 transition-all flex items-center gap-2 shadow-sm",children:[E.jsx("span",{children:""})," ",y.title||"View Source"]},p))})]})]})]})]})},t1=[{title:"Jeevamrut (Soil Booster)",ingredients:"Cow dung, Cow urine, Jaggery, Pulse flour, Soil from the same field.",utility:"Enhances microbial activity and improves soil fertility exponentially.",icon:""},{title:"Neem-Astra (Pest Repellent)",ingredients:"Neem leaves, Cow urine, Cow dung.",utility:"Controls sucking pests and mealy bugs naturally without harmful residue.",icon:""},{title:"Brahma-Astra (Deep Pest Control)",ingredients:"Neem, Custard apple, Papaya, Pomegranate, Guava leaves boiled in cow urine.",utility:"Effective against large caterpillars and borers.",icon:""},{title:"Agni-Astra",ingredients:"Cow urine, Tobacco, Green chili, Garlic, Neem.",utility:"Powerful repellent for extreme pest infestations.",icon:""}],n1=()=>E.jsxs("div",{className:"space-y-12 pb-20 animate-fadeIn",children:[E.jsxs("header",{className:"text-center max-w-2xl mx-auto",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-stone-800 mb-4 tracking-tight",children:"Vedic Krishi Wisdom"}),E.jsx("div",{className:"h-1 w-20 bg-lime-500 mx-auto mb-6"}),E.jsxs("p",{className:"text-stone-600 text-lg",children:["Explore the profound agricultural principles championed by ",E.jsx("span",{className:"font-bold text-stone-800",children:"Shri Rajiv Dixit"}),". Focusing on Swadeshi, sustainable, and Zero-Budget Natural Farming."]})]}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-stone-200",children:[E.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-6",children:"Fundamental Pillars"}),E.jsxs("ul",{className:"space-y-6",children:[E.jsxs("li",{className:"flex gap-4",children:[E.jsx("span",{className:"flex-shrink-0 w-10 h-10 bg-lime-100 rounded-2xl flex items-center justify-center font-bold text-green-700",children:"1"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-800",children:"Beejamrut (Seed Treatment)"}),E.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Treating seeds with local microbial cultures to prevent soil-borne diseases."})]})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("span",{className:"flex-shrink-0 w-10 h-10 bg-lime-100 rounded-2xl flex items-center justify-center font-bold text-green-700",children:"2"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-800",children:"Jeevamrut (Microbial Enrichment)"}),E.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Applying fermented cultures of local bacteria to multiply soil life."})]})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("span",{className:"flex-shrink-0 w-10 h-10 bg-lime-100 rounded-2xl flex items-center justify-center font-bold text-green-700",children:"3"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-800",children:"Mulching (Acchaadana)"}),E.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Covering soil with biomass to preserve moisture and prevent erosion."})]})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("span",{className:"flex-shrink-0 w-10 h-10 bg-lime-100 rounded-2xl flex items-center justify-center font-bold text-green-700",children:"4"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-800",children:"Moisture (Whapasa)"}),E.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Understanding that roots need air as much as water."})]})]})]})]}),E.jsxs("div",{className:"bg-green-900 text-white p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-lime-500/10 rounded-full blur-3xl"}),E.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Rajiv Dixit's Philosophy"}),E.jsxs("blockquote",{className:"text-lg italic text-lime-100 border-l-4 border-lime-400 pl-6 space-y-4",children:[E.jsx("p",{children:'"Chemical fertilizers are not food for the soil; they are like poison for the earth."'}),E.jsx("p",{children:`"A farmer's true wealth is the health of his soil and the purity of his seeds."`}),E.jsx("p",{children:'"Swadeshi farming means using what you have in your cowshed, not what is sold in expensive markets."'})]}),E.jsx("div",{className:"mt-8 pt-8 border-t border-green-800",children:E.jsxs("p",{className:"text-sm text-green-300",children:["By following these natural methods, farmers can eliminate input costs entirely, leading to",E.jsx("span",{className:"font-bold text-white",children:" Zero Budget Natural Farming (ZBNF)"}),"."]})})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-8 px-4",children:"Essential Natural Formulas"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t1.map(n=>E.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-stone-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all",children:[E.jsx("div",{className:"text-4xl mb-4",children:n.icon}),E.jsx("h4",{className:"font-bold text-stone-800 mb-2",children:n.title}),E.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase mb-3",children:"Ingredients"}),E.jsx("p",{className:"text-xs text-stone-600 mb-4",children:n.ingredients}),E.jsx("div",{className:"pt-4 border-t border-stone-50",children:E.jsx("p",{className:"text-xs text-green-600 font-medium",children:n.utility})})]},n.title))})]}),E.jsxs("footer",{className:"bg-stone-200/50 p-8 rounded-[2.5rem] text-center",children:[E.jsx("p",{className:"text-stone-500 font-medium",children:"Protect the Earth, Feed the Nation, Save the Future."}),E.jsx("button",{className:"mt-4 px-8 py-3 bg-stone-800 text-white rounded-full font-bold text-sm hover:bg-stone-900 transition-colors shadow-lg",children:"Download PDF Guide"})]})]}),i1=({onComplete:n})=>{const[e,i]=Ie.useState(0),[o,r]=Ie.useState({name:"",address:"",mobile:"",farmSize:"",crops:"",language:"hi",aiProvider:Jt.GEMINI}),u=y=>{r({...o,language:y}),i(1)},f=()=>{i(2)},m=y=>{y.preventDefault(),n({...o,isLoggedIn:!0,onboarded:!0,syncEnabled:!0})};return E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-green-950 p-4 overflow-y-auto",children:[E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-lime-500/20 blur-[120px] rounded-full"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-green-500/20 blur-[120px] rounded-full"})]}),E.jsxs("div",{className:"glass-card w-full max-w-xl p-8 md:p-12 rounded-[3rem] shadow-2xl relative z-10 animate-fadeInScale my-8",children:[e===0&&E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("h2",{className:"text-3xl font-black text-stone-800 tracking-tight",children:"Select Language"}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(An).map(y=>E.jsx("button",{onClick:()=>u(y),className:"p-4 bg-white border border-stone-200 rounded-2xl font-bold hover:bg-lime-50 hover:border-lime-400 transition-all text-sm",children:An[y]},y))})]}),e===1&&E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("div",{className:"w-24 h-24 bg-lime-400 mx-auto rounded-3xl flex items-center justify-center text-5xl shadow-lg rotate-3",children:""}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-black text-stone-800 tracking-tight",children:"Kisan Mitra AI"}),E.jsx("p",{className:"text-stone-500 mt-4 text-lg font-medium",children:"Empowering Farmers with Advanced Intelligence & Rajiv Dixit's Natural Wisdom."})]}),E.jsxs("div",{className:"space-y-4 pt-6",children:[E.jsxs("button",{onClick:f,className:"w-full py-4 bg-white border border-stone-200 rounded-2xl font-bold flex items-center justify-center gap-4 hover:bg-stone-50 transition-all shadow-sm",children:[E.jsx("img",{src:"https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png",className:"w-6 h-6",alt:"Google"}),"Continue with Google"]}),E.jsx("button",{onClick:()=>i(2),className:"w-full py-4 bg-green-700 text-white rounded-2xl font-bold text-lg hover:bg-green-800 transition-all shadow-xl",children:"Enter Details Manually"})]})]}),e===2&&E.jsxs("form",{onSubmit:m,className:"space-y-6",children:[E.jsxs("header",{className:"text-center mb-4",children:[E.jsx("h2",{className:"text-2xl font-black text-stone-800 tracking-tight",children:"Tell us about your Farm"}),E.jsx("p",{className:"text-stone-500 text-sm",children:"We'll personalize our AI advice for your specific land."})]}),E.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"Full Name"}),E.jsx("input",{required:!0,type:"text",value:o.name,onChange:y=>r({...o,name:y.target.value}),className:"w-full p-3 bg-stone-100 rounded-xl focus:ring-4 focus:ring-lime-100 text-sm",placeholder:"e.g. Rajesh Kumar"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"Mobile No."}),E.jsx("input",{required:!0,type:"tel",value:o.mobile,onChange:y=>r({...o,mobile:y.target.value}),className:"w-full p-3 bg-stone-100 rounded-xl focus:ring-4 focus:ring-lime-100 text-sm",placeholder:"+91 98XXX XXXX"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"Farm Location / Village"}),E.jsx("input",{required:!0,type:"text",value:o.address,onChange:y=>r({...o,address:y.target.value}),className:"w-full p-3 bg-stone-100 rounded-xl focus:ring-4 focus:ring-lime-100 text-sm",placeholder:"Address, Village, District"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"Farm Size (in Acres)"}),E.jsx("input",{required:!0,type:"number",step:"0.1",value:o.farmSize,onChange:y=>r({...o,farmSize:y.target.value}),className:"w-full p-3 bg-stone-100 rounded-xl focus:ring-4 focus:ring-lime-100 text-sm",placeholder:"e.g. 5.5"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"Crops you plant"}),E.jsx("input",{required:!0,type:"text",value:o.crops,onChange:y=>r({...o,crops:y.target.value}),className:"w-full p-3 bg-stone-100 rounded-xl focus:ring-4 focus:ring-lime-100 text-sm",placeholder:"e.g. Wheat, Rice, Cotton"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1 px-1",children:"AI Advisor Engine"}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx("button",{type:"button",onClick:()=>r({...o,aiProvider:Jt.GEMINI}),className:`p-3 rounded-xl border-2 transition-all text-sm font-bold ${o.aiProvider===Jt.GEMINI?"border-green-600 bg-green-50 text-green-700":"border-stone-200 bg-white text-stone-500"}`,children:"Gemini AI"}),E.jsx("button",{type:"button",onClick:()=>r({...o,aiProvider:Jt.OPENAI}),className:`p-3 rounded-xl border-2 transition-all text-sm font-bold ${o.aiProvider===Jt.OPENAI?"border-green-600 bg-green-50 text-green-700":"border-stone-200 bg-white text-stone-500"}`,children:"ChatGPT AI"})]})]})]}),E.jsx("button",{type:"submit",className:"w-full py-4 bg-green-700 text-white rounded-[1.5rem] font-black text-lg hover:bg-green-800 transition-all shadow-xl mt-4",children:"Start Smart Farming"})]})]})]})},s1=({history:n})=>n.length===0?E.jsxs("div",{className:"text-center py-20 space-y-4",children:[E.jsx("div",{className:"text-6xl",children:""}),E.jsx("h3",{className:"text-2xl font-bold text-stone-800",children:"No History Found"}),E.jsx("p",{className:"text-stone-500",children:"Your previous crop scans will appear here."})]}):E.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-bold text-stone-800",children:"Diagnosis History"}),E.jsx("p",{className:"text-stone-500",children:"Review your past scans and follow-up advice."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>E.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg transition-all flex flex-col",children:[e.image&&E.jsx("img",{src:e.image,alt:e.disease,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-6 space-y-4 flex-1",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("h4",{className:"font-bold text-xl text-stone-800 leading-tight",children:e.disease}),E.jsx("span",{className:"text-[10px] font-bold bg-lime-100 text-green-700 px-2 py-1 rounded-full uppercase tracking-tighter",children:new Date(e.timestamp).toLocaleDateString()})]}),E.jsx("p",{className:"text-sm text-stone-500 line-clamp-2",children:e.description}),E.jsxs("div",{className:"pt-4 mt-auto border-t border-stone-100 flex gap-2",children:[E.jsxs("span",{className:"px-3 py-1 bg-stone-100 text-stone-600 rounded-lg text-xs font-semibold",children:[" ",e.solutions.chemicalSolution.product.split(" ")[0]]}),E.jsxs("span",{className:"px-3 py-1 bg-lime-50 text-green-700 rounded-lg text-xs font-semibold",children:[" ",e.solutions.naturalSolution.name.split(" ")[0]]})]})]})]},e.id))})]}),o1=({userProfile:n,onUpdate:e,onLogout:i})=>{const o=()=>{const r=n.aiProvider===Jt.GEMINI?Jt.OPENAI:Jt.GEMINI;e({...n,aiProvider:r})};return E.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-fadeIn",children:[E.jsxs("header",{className:"text-center",children:[E.jsx("div",{className:"w-24 h-24 bg-green-800 text-white rounded-full mx-auto flex items-center justify-center text-4xl font-black mb-4 shadow-xl ring-8 ring-stone-100",children:n.name.charAt(0)}),E.jsx("h2",{className:"text-3xl font-black text-stone-800",children:n.name}),E.jsx("p",{className:"text-stone-500",children:"Farm Member since 2025"})]}),E.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-stone-200 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"p-4 bg-stone-50 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"Mobile Number"}),E.jsx("p",{className:"font-bold text-stone-800",children:n.mobile})]}),E.jsxs("div",{className:"p-4 bg-stone-50 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"Farm Location"}),E.jsx("p",{className:"font-bold text-stone-800",children:n.address})]})]}),E.jsxs("div",{className:"p-4 bg-stone-50 rounded-2xl border border-stone-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1",children:"AI Advisor Engine"}),E.jsxs("div",{className:"flex items-center justify-between mt-2",children:[E.jsx("p",{className:"font-bold text-stone-800",children:n.aiProvider===Jt.GEMINI?"Google Gemini":"OpenAI ChatGPT"}),E.jsx("button",{onClick:o,className:"text-xs font-black text-green-700 uppercase tracking-widest hover:underline",children:"Switch Engine"})]})]}),E.jsxs("div",{className:"flex items-center justify-between p-4 bg-lime-50 rounded-2xl border border-lime-100",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-green-900",children:"Cloud Sync Active"}),E.jsx("p",{className:"text-xs text-green-600",children:"Your data is being saved to private storage."})]})]}),E.jsx("div",{className:"w-12 h-6 bg-green-700 rounded-full relative p-1 flex items-center justify-end",children:E.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),E.jsxs("div",{className:"pt-6 border-t border-stone-100 flex flex-col gap-4",children:[E.jsx("button",{className:"w-full py-4 bg-stone-100 text-stone-600 font-bold rounded-2xl hover:bg-stone-200 transition-colors",children:"Edit Details"}),E.jsx("button",{onClick:i,className:"w-full py-4 bg-red-50 text-red-600 font-bold rounded-2xl hover:bg-red-100 transition-colors",children:"Sign Out"})]})]})]})},l1=({userProfile:n})=>{const[e,i]=Ie.useState(!1),[o,r]=Ie.useState(!1),[u,f]=Ie.useState(!1),[m,y]=Ie.useState(!1),[p,v]=Ie.useState(0),[_,T]=Ie.useState([]),[C,b]=Ie.useState(""),[N,I]=Ie.useState(""),z=Ie.useRef(null),B=Ie.useRef(null),H=Ie.useRef(0),G=Ie.useRef(new Set),Z=Ie.useRef(null),O=Ie.useRef(null),$=Ie.useRef(null);Ie.useEffect(()=>{var me;(me=Z.current)==null||me.scrollIntoView({behavior:"smooth"})},[_,C,N]),Ie.useEffect(()=>(e?$.current=window.setInterval(()=>{v(me=>me+1)},1e3):($.current&&clearInterval($.current),v(0)),()=>{$.current&&clearInterval($.current)}),[e]);const ce=me=>{const Ae=Math.floor(me/60),q=me%60;return`${Ae}:${q.toString().padStart(2,"0")}`},Q=async(me,Ae)=>{const q=new Int16Array(me.buffer),K=q.length,ee=Ae.createBuffer(1,K,24e3),_e=ee.getChannelData(0);for(let Ce=0;Ce<K;Ce++)_e[Ce]=q[Ce]/32768;return ee},se=me=>{const Ae=atob(me),q=Ae.length,K=new Uint8Array(q);for(let ee=0;ee<q;ee++)K[ee]=Ae.charCodeAt(ee);return K},oe=async()=>{r(!0),T([]);try{const me=await navigator.mediaDevices.getUserMedia({audio:!0});B.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const Ae=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});HI({onopen:()=>{r(!1),i(!0)},onmessage:async K=>{var _e,Ce,R,J,W,te,pe,de,Me;const ee=(W=(J=(R=(Ce=(_e=K.serverContent)==null?void 0:_e.modelTurn)==null?void 0:Ce.parts)==null?void 0:R[0])==null?void 0:J.inlineData)==null?void 0:W.data;if(ee&&B.current){f(!0);const He=B.current;H.current=Math.max(H.current,He.currentTime);const Je=await Q(se(ee),He),Xt=He.createBufferSource();Xt.buffer=Je,Xt.connect(He.destination),Xt.start(H.current),H.current+=Je.duration,G.current.add(Xt),Xt.onended=()=>{G.current.delete(Xt),G.current.size===0&&f(!1)}}(te=K.serverContent)!=null&&te.inputTranscription&&(b(He=>He+K.serverContent.inputTranscription.text),y(!0),O.current&&clearTimeout(O.current),O.current=window.setTimeout(()=>y(!1),1500)),(pe=K.serverContent)!=null&&pe.outputTranscription&&I(He=>He+K.serverContent.outputTranscription.text),(de=K.serverContent)!=null&&de.turnComplete&&(T(He=>[...He,...C?[{role:"user",text:C}]:[],...N?[{role:"ai",text:N}]:[]]),b(""),I(""),y(!1)),(Me=K.serverContent)!=null&&Me.interrupted&&(G.current.forEach(He=>He.stop()),G.current.clear(),H.current=0,f(!1),I(""))},onerror:K=>{console.error("Live Error",K),Ee()},onclose:()=>{i(!1),f(!1),y(!1)}},n.language).then(K=>{z.current=K;const ee=Ae.createMediaStreamSource(me),_e=Ae.createScriptProcessor(4096,1,1);_e.onaudioprocess=Ce=>{const R=Ce.inputBuffer.getChannelData(0),J=new Int16Array(R.length);for(let de=0;de<R.length;de++)J[de]=R[de]*32768;let W="";const te=new Uint8Array(J.buffer);for(let de=0;de<te.byteLength;de++)W+=String.fromCharCode(te[de]);const pe=btoa(W);K.sendRealtimeInput({media:{data:pe,mimeType:"audio/pcm;rate=16000"}})},ee.connect(_e),_e.connect(Ae.destination)})}catch(me){console.error(me),r(!1),alert("Microphone access is required.")}},Ee=()=>{z.current&&z.current.close(),i(!1)},Pe=["How to make Jeevamrut?","Pests on my wheat crop","Rajiv Dixit's soil tips","Current market rates"];return E.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)] max-w-2xl mx-auto space-y-6 animate-fadeIn",children:[E.jsxs("div",{className:`flex-1 flex flex-col rounded-[3.5rem] overflow-hidden shadow-2xl transition-all duration-1000 relative border-4 ${e?u?"bg-green-950 border-lime-500/30":m?"bg-blue-950 border-blue-500/30":"bg-stone-950 border-white/10":"bg-white border-stone-100"} opacity-50 pointer-events-none grayscale`,children:[E.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 blur-[120px] pointer-events-none opacity-40 ${u?"bg-lime-500":m?"bg-blue-500":"bg-transparent"}`}),E.jsxs("div",{className:"pt-10 px-10 flex justify-between items-center relative z-20",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h4",{className:`text-[10px] font-black uppercase tracking-[0.4em] transition-colors ${e?"text-lime-400":"text-stone-400"}`,children:e?"Active Consultation":"Expert Offline"}),e&&E.jsx("span",{className:"text-white/40 font-mono text-sm mt-1",children:ce(p)})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-500 ${e?"bg-lime-400 shadow-[0_0_15px_rgba(163,230,53,0.8)]":"bg-stone-200"}`})})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10 px-6",children:[E.jsxs("div",{className:"relative",children:[e&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute -inset-24 rounded-full border border-white/5 animate-[ping_3s_linear_infinite] opacity-20"}),E.jsx("div",{className:"absolute -inset-16 rounded-full border border-white/10 animate-[pulse_2s_ease-in-out_infinite] opacity-30"})]}),E.jsx("div",{className:`w-44 h-44 rounded-full flex items-center justify-center text-7xl shadow-2xl transition-all duration-700 relative z-20 ${e?"bg-white ring-[12px] ring-white/10":"bg-stone-50"}`,children:E.jsx("div",{className:`transition-transform duration-500 ${e?"scale-110":"scale-100"}`,children:e?u?"":m?"":"":""})})]}),E.jsx("div",{className:"mt-20 w-full max-w-xs h-16 flex items-center justify-center",children:E.jsx("svg",{viewBox:"0 0 200 60",className:"w-full h-full",children:[...Array(e?3:0)].map((me,Ae)=>E.jsx("path",{d:"M0 30 Q 25 10, 50 30 T 100 30 T 150 30 T 200 30",fill:"none",stroke:u?"#a3e635":m?"#60a5fa":"#ffffff44",strokeWidth:"2",className:`transition-all duration-500 ${e?"animate-wave":""}`,style:{opacity:1-Ae*.3,animationDelay:`${Ae*-.5}s`,transform:`scaleY(${e?u||m?1.5:.2:0})`}},Ae))})})]}),E.jsx("div",{className:`min-h-[140px] px-12 py-10 transition-all duration-500 relative z-20 ${e?"bg-black/40 text-white":"bg-stone-50/80 text-stone-400"}`,children:E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("p",{className:"text-xl font-bold leading-snug italic line-clamp-2 transition-all",children:e?N||C||"Go ahead, ask Kisan Mitra anything...":"Connect to speak with our AI expert."}),e&&!u&&!m&&!C&&E.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2 no-scrollbar animate-fadeInUp",children:Pe.map((me,Ae)=>E.jsx("button",{className:"px-3 py-1.5 bg-white/10 border border-white/10 rounded-full text-[10px] font-bold whitespace-nowrap hover:bg-white/20 transition-all",children:me},Ae))})]})}),E.jsx("div",{className:`p-10 flex justify-center items-center gap-10 relative z-20 transition-all ${e?"bg-black/60":"bg-white"}`,children:e?E.jsx("div",{className:"flex items-center gap-10",children:E.jsx("button",{onClick:Ee,className:"w-24 h-24 bg-red-600 text-white rounded-full flex items-center justify-center text-4xl shadow-2xl hover:bg-red-700 transition-all",children:""})}):E.jsxs("button",{onClick:oe,disabled:o,className:"group relative w-28 h-28 bg-green-700 text-white rounded-full transition-all shadow-2xl hover:bg-green-800 hover:scale-105 active:scale-90 disabled:opacity-50",children:[E.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 animate-[ping_2s_linear_infinite] opacity-20"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx("span",{className:"text-4xl",children:o?"":""}),E.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest mt-1 opacity-60",children:"Consult"})]})]})})]}),E.jsx("style",{children:`
        @keyframes wave {
          0% { transform: scaleY(1.5) translateX(-20px); }
          50% { transform: scaleY(0.8) translateX(20px); }
          100% { transform: scaleY(1.5) translateX(-20px); }
        }
        .animate-wave { animation: wave 3s ease-in-out infinite; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})},r1=()=>{const[n,e]=Ie.useState(Ke.DASHBOARD),[i,o]=Ie.useState(null),[r,u]=Ie.useState([]),[f,m]=Ie.useState(!0);Ie.useEffect(()=>{const T=localStorage.getItem("kisan_mitra_profile"),C=localStorage.getItem("kisan_mitra_history");T&&o(JSON.parse(T)),C&&u(JSON.parse(C)),m(!1)},[]);const y=T=>{o(T),localStorage.setItem("kisan_mitra_profile",JSON.stringify(T))},p=T=>{const C=[T,...r];u(C),localStorage.setItem("kisan_mitra_history",JSON.stringify(C))},v=()=>{confirm("Sign out? Data on this device will be cleared.")&&(localStorage.removeItem("kisan_mitra_profile"),o(null),e(Ke.DASHBOARD))};if(f)return E.jsxs("div",{className:"min-h-screen bg-green-950 flex flex-col items-center justify-center gap-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-24 h-24 border-8 border-lime-500/20 rounded-full"}),E.jsx("div",{className:"absolute inset-0 w-24 h-24 border-8 border-lime-500 border-t-transparent rounded-full animate-spin"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-lime-400 font-black tracking-[0.3em] text-xs uppercase animate-pulse",children:"Kisan Mitra AI"}),E.jsx("p",{className:"text-white/20 text-[8px] font-black uppercase tracking-[0.5em] mt-2",children:"By Onkar Mahamuni"})]})]});if(!(i!=null&&i.onboarded))return E.jsx(i1,{onComplete:y});const _=()=>{switch(n){case Ke.DASHBOARD:return E.jsx(Z0,{userProfile:i,setView:e});case Ke.DIAGNOSTIC:return E.jsx(jM,{userProfile:i,onSaveHistory:p});case Ke.ADVISOR:return E.jsx(e1,{userProfile:i});case Ke.RAJIV_WISDOM:return E.jsx(n1,{});case Ke.HISTORY:return E.jsx(s1,{history:r});case Ke.PROFILE:return E.jsx(o1,{userProfile:i,onUpdate:y,onLogout:v});case Ke.LIVE_VOICE:return E.jsx(l1,{userProfile:i});default:return E.jsx(Z0,{userProfile:i,setView:e})}};return E.jsxs(cA,{currentView:n,setView:e,userProfile:i,children:[_(),n!==Ke.LIVE_VOICE&&E.jsx("button",{onClick:()=>e(Ke.LIVE_VOICE),className:"fixed bottom-8 right-8 w-16 h-16 bg-green-700 text-white rounded-full shadow-2xl flex items-center justify-center text-3xl hover:bg-green-800 transition-all active:scale-90 z-40 border-4 border-white",children:""})]})},RS=document.getElementById("root");if(!RS)throw new Error("Could not find root element to mount to");const a1=uA.createRoot(RS);a1.render(E.jsx(tA.StrictMode,{children:E.jsx(r1,{})}));
